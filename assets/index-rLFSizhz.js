(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function s_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Gh={exports:{}},Ja={},Hh={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function EC(){if(av)return be;av=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function T(G){return G===null||typeof G!="object"?null:(G=w&&G[w]||G["@@iterator"],typeof G=="function"?G:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,V={};function O(G,ee,we){this.props=G,this.context=ee,this.refs=V,this.updater=we||M}O.prototype.isReactComponent={},O.prototype.setState=function(G,ee){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,ee,"setState")},O.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function D(){}D.prototype=O.prototype;function R(G,ee,we){this.props=G,this.context=ee,this.refs=V,this.updater=we||M}var L=R.prototype=new D;L.constructor=R,x(L,O.prototype),L.isPureReactComponent=!0;var $=Array.isArray,Q=Object.prototype.hasOwnProperty,K={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function P(G,ee,we){var Re,Ne={},Le=null,ze=null;if(ee!=null)for(Re in ee.ref!==void 0&&(ze=ee.ref),ee.key!==void 0&&(Le=""+ee.key),ee)Q.call(ee,Re)&&!j.hasOwnProperty(Re)&&(Ne[Re]=ee[Re]);var $e=arguments.length-2;if($e===1)Ne.children=we;else if(1<$e){for(var We=Array($e),Ct=0;Ct<$e;Ct++)We[Ct]=arguments[Ct+2];Ne.children=We}if(G&&G.defaultProps)for(Re in $e=G.defaultProps,$e)Ne[Re]===void 0&&(Ne[Re]=$e[Re]);return{$$typeof:n,type:G,key:Le,ref:ze,props:Ne,_owner:K.current}}function C(G,ee){return{$$typeof:n,type:G.type,key:ee,ref:G.ref,props:G.props,_owner:G._owner}}function I(G){return typeof G=="object"&&G!==null&&G.$$typeof===n}function A(G){var ee={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(we){return ee[we]})}var N=/\/+/g;function b(G,ee){return typeof G=="object"&&G!==null&&G.key!=null?A(""+G.key):ee.toString(36)}function ie(G,ee,we,Re,Ne){var Le=typeof G;(Le==="undefined"||Le==="boolean")&&(G=null);var ze=!1;if(G===null)ze=!0;else switch(Le){case"string":case"number":ze=!0;break;case"object":switch(G.$$typeof){case n:case e:ze=!0}}if(ze)return ze=G,Ne=Ne(ze),G=Re===""?"."+b(ze,0):Re,$(Ne)?(we="",G!=null&&(we=G.replace(N,"$&/")+"/"),ie(Ne,ee,we,"",function(Ct){return Ct})):Ne!=null&&(I(Ne)&&(Ne=C(Ne,we+(!Ne.key||ze&&ze.key===Ne.key?"":(""+Ne.key).replace(N,"$&/")+"/")+G)),ee.push(Ne)),1;if(ze=0,Re=Re===""?".":Re+":",$(G))for(var $e=0;$e<G.length;$e++){Le=G[$e];var We=Re+b(Le,$e);ze+=ie(Le,ee,we,We,Ne)}else if(We=T(G),typeof We=="function")for(G=We.call(G),$e=0;!(Le=G.next()).done;)Le=Le.value,We=Re+b(Le,$e++),ze+=ie(Le,ee,we,We,Ne);else if(Le==="object")throw ee=String(G),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return ze}function le(G,ee,we){if(G==null)return G;var Re=[],Ne=0;return ie(G,Re,"","",function(Le){return ee.call(we,Le,Ne++)}),Re}function ce(G){if(G._status===-1){var ee=G._result;ee=ee(),ee.then(function(we){(G._status===0||G._status===-1)&&(G._status=1,G._result=we)},function(we){(G._status===0||G._status===-1)&&(G._status=2,G._result=we)}),G._status===-1&&(G._status=0,G._result=ee)}if(G._status===1)return G._result.default;throw G._result}var me={current:null},J={transition:null},ae={ReactCurrentDispatcher:me,ReactCurrentBatchConfig:J,ReactCurrentOwner:K};function oe(){throw Error("act(...) is not supported in production builds of React.")}return be.Children={map:le,forEach:function(G,ee,we){le(G,function(){ee.apply(this,arguments)},we)},count:function(G){var ee=0;return le(G,function(){ee++}),ee},toArray:function(G){return le(G,function(ee){return ee})||[]},only:function(G){if(!I(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},be.Component=O,be.Fragment=t,be.Profiler=s,be.PureComponent=R,be.StrictMode=r,be.Suspense=f,be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,be.act=oe,be.cloneElement=function(G,ee,we){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var Re=x({},G.props),Ne=G.key,Le=G.ref,ze=G._owner;if(ee!=null){if(ee.ref!==void 0&&(Le=ee.ref,ze=K.current),ee.key!==void 0&&(Ne=""+ee.key),G.type&&G.type.defaultProps)var $e=G.type.defaultProps;for(We in ee)Q.call(ee,We)&&!j.hasOwnProperty(We)&&(Re[We]=ee[We]===void 0&&$e!==void 0?$e[We]:ee[We])}var We=arguments.length-2;if(We===1)Re.children=we;else if(1<We){$e=Array(We);for(var Ct=0;Ct<We;Ct++)$e[Ct]=arguments[Ct+2];Re.children=$e}return{$$typeof:n,type:G.type,key:Ne,ref:Le,props:Re,_owner:ze}},be.createContext=function(G){return G={$$typeof:u,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:a,_context:G},G.Consumer=G},be.createElement=P,be.createFactory=function(G){var ee=P.bind(null,G);return ee.type=G,ee},be.createRef=function(){return{current:null}},be.forwardRef=function(G){return{$$typeof:h,render:G}},be.isValidElement=I,be.lazy=function(G){return{$$typeof:y,_payload:{_status:-1,_result:G},_init:ce}},be.memo=function(G,ee){return{$$typeof:p,type:G,compare:ee===void 0?null:ee}},be.startTransition=function(G){var ee=J.transition;J.transition={};try{G()}finally{J.transition=ee}},be.unstable_act=oe,be.useCallback=function(G,ee){return me.current.useCallback(G,ee)},be.useContext=function(G){return me.current.useContext(G)},be.useDebugValue=function(){},be.useDeferredValue=function(G){return me.current.useDeferredValue(G)},be.useEffect=function(G,ee){return me.current.useEffect(G,ee)},be.useId=function(){return me.current.useId()},be.useImperativeHandle=function(G,ee,we){return me.current.useImperativeHandle(G,ee,we)},be.useInsertionEffect=function(G,ee){return me.current.useInsertionEffect(G,ee)},be.useLayoutEffect=function(G,ee){return me.current.useLayoutEffect(G,ee)},be.useMemo=function(G,ee){return me.current.useMemo(G,ee)},be.useReducer=function(G,ee,we){return me.current.useReducer(G,ee,we)},be.useRef=function(G){return me.current.useRef(G)},be.useState=function(G){return me.current.useState(G)},be.useSyncExternalStore=function(G,ee,we){return me.current.useSyncExternalStore(G,ee,we)},be.useTransition=function(){return me.current.useTransition()},be.version="18.3.1",be}var lv;function Wf(){return lv||(lv=1,Hh.exports=EC()),Hh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function CC(){if(uv)return Ja;uv=1;var n=Wf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,p){var y,w={},T=null,M=null;p!==void 0&&(T=""+p),f.key!==void 0&&(T=""+f.key),f.ref!==void 0&&(M=f.ref);for(y in f)r.call(f,y)&&!a.hasOwnProperty(y)&&(w[y]=f[y]);if(h&&h.defaultProps)for(y in f=h.defaultProps,f)w[y]===void 0&&(w[y]=f[y]);return{$$typeof:e,type:h,key:T,ref:M,props:w,_owner:s.current}}return Ja.Fragment=t,Ja.jsx=u,Ja.jsxs=u,Ja}var cv;function TC(){return cv||(cv=1,Gh.exports=CC()),Gh.exports}var _=TC(),U=Wf();const ht=s_(U);var ec={},qh={exports:{}},rn={},Wh={exports:{}},Kh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv;function SC(){return dv||(dv=1,function(n){function e(J,ae){var oe=J.length;J.push(ae);e:for(;0<oe;){var G=oe-1>>>1,ee=J[G];if(0<s(ee,ae))J[G]=ae,J[oe]=ee,oe=G;else break e}}function t(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var ae=J[0],oe=J.pop();if(oe!==ae){J[0]=oe;e:for(var G=0,ee=J.length,we=ee>>>1;G<we;){var Re=2*(G+1)-1,Ne=J[Re],Le=Re+1,ze=J[Le];if(0>s(Ne,oe))Le<ee&&0>s(ze,Ne)?(J[G]=ze,J[Le]=oe,G=Le):(J[G]=Ne,J[Re]=oe,G=Re);else if(Le<ee&&0>s(ze,oe))J[G]=ze,J[Le]=oe,G=Le;else break e}}return ae}function s(J,ae){var oe=J.sortIndex-ae.sortIndex;return oe!==0?oe:J.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],p=[],y=1,w=null,T=3,M=!1,x=!1,V=!1,O=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(J){for(var ae=t(p);ae!==null;){if(ae.callback===null)r(p);else if(ae.startTime<=J)r(p),ae.sortIndex=ae.expirationTime,e(f,ae);else break;ae=t(p)}}function $(J){if(V=!1,L(J),!x)if(t(f)!==null)x=!0,ce(Q);else{var ae=t(p);ae!==null&&me($,ae.startTime-J)}}function Q(J,ae){x=!1,V&&(V=!1,D(P),P=-1),M=!0;var oe=T;try{for(L(ae),w=t(f);w!==null&&(!(w.expirationTime>ae)||J&&!A());){var G=w.callback;if(typeof G=="function"){w.callback=null,T=w.priorityLevel;var ee=G(w.expirationTime<=ae);ae=n.unstable_now(),typeof ee=="function"?w.callback=ee:w===t(f)&&r(f),L(ae)}else r(f);w=t(f)}if(w!==null)var we=!0;else{var Re=t(p);Re!==null&&me($,Re.startTime-ae),we=!1}return we}finally{w=null,T=oe,M=!1}}var K=!1,j=null,P=-1,C=5,I=-1;function A(){return!(n.unstable_now()-I<C)}function N(){if(j!==null){var J=n.unstable_now();I=J;var ae=!0;try{ae=j(!0,J)}finally{ae?b():(K=!1,j=null)}}else K=!1}var b;if(typeof R=="function")b=function(){R(N)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,le=ie.port2;ie.port1.onmessage=N,b=function(){le.postMessage(null)}}else b=function(){O(N,0)};function ce(J){j=J,K||(K=!0,b())}function me(J,ae){P=O(function(){J(n.unstable_now())},ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(J){J.callback=null},n.unstable_continueExecution=function(){x||M||(x=!0,ce(Q))},n.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<J?Math.floor(1e3/J):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(J){switch(T){case 1:case 2:case 3:var ae=3;break;default:ae=T}var oe=T;T=ae;try{return J()}finally{T=oe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(J,ae){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var oe=T;T=J;try{return ae()}finally{T=oe}},n.unstable_scheduleCallback=function(J,ae,oe){var G=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?G+oe:G):oe=G,J){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=oe+ee,J={id:y++,callback:ae,priorityLevel:J,startTime:oe,expirationTime:ee,sortIndex:-1},oe>G?(J.sortIndex=oe,e(p,J),t(f)===null&&J===t(p)&&(V?(D(P),P=-1):V=!0,me($,oe-G))):(J.sortIndex=ee,e(f,J),x||M||(x=!0,ce(Q))),J},n.unstable_shouldYield=A,n.unstable_wrapCallback=function(J){var ae=T;return function(){var oe=T;T=ae;try{return J.apply(this,arguments)}finally{T=oe}}}}(Kh)),Kh}var hv;function IC(){return hv||(hv=1,Wh.exports=SC()),Wh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fv;function AC(){if(fv)return rn;fv=1;var n=Wf(),e=IC();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){u(i,o),u(i+"Capture",o)}function u(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},w={};function T(i){return f.call(w,i)?!0:f.call(y,i)?!1:p.test(i)?w[i]=!0:(y[i]=!0,!1)}function M(i,o,l,d){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function x(i,o,l,d){if(o===null||typeof o>"u"||M(i,o,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function V(i,o,l,d,m,v,S){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=i,this.type=o,this.sanitizeURL=v,this.removeEmptyString=S}var O={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){O[i]=new V(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];O[o]=new V(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){O[i]=new V(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){O[i]=new V(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){O[i]=new V(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){O[i]=new V(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){O[i]=new V(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){O[i]=new V(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){O[i]=new V(i,5,!1,i.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function R(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(D,R);O[o]=new V(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(D,R);O[o]=new V(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(D,R);O[o]=new V(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){O[i]=new V(i,1,!1,i.toLowerCase(),null,!1,!1)}),O.xlinkHref=new V("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){O[i]=new V(i,1,!1,i.toLowerCase(),null,!0,!0)});function L(i,o,l,d){var m=O.hasOwnProperty(o)?O[o]:null;(m!==null?m.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(x(o,l,m,d)&&(l=null),d||m===null?T(o)&&(l===null?i.removeAttribute(o):i.setAttribute(o,""+l)):m.mustUseProperty?i[m.propertyName]=l===null?m.type===3?!1:"":l:(o=m.attributeName,d=m.attributeNamespace,l===null?i.removeAttribute(o):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,d?i.setAttributeNS(d,o,l):i.setAttribute(o,l))))}var $=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q=Symbol.for("react.element"),K=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),A=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),le=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),me=Symbol.for("react.offscreen"),J=Symbol.iterator;function ae(i){return i===null||typeof i!="object"?null:(i=J&&i[J]||i["@@iterator"],typeof i=="function"?i:null)}var oe=Object.assign,G;function ee(i){if(G===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);G=o&&o[1]||""}return`
`+G+i}var we=!1;function Re(i,o){if(!i||we)return"";we=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Y){var d=Y}Reflect.construct(i,[],o)}else{try{o.call()}catch(Y){d=Y}i.call(o.prototype)}else{try{throw Error()}catch(Y){d=Y}i()}}catch(Y){if(Y&&d&&typeof Y.stack=="string"){for(var m=Y.stack.split(`
`),v=d.stack.split(`
`),S=m.length-1,F=v.length-1;1<=S&&0<=F&&m[S]!==v[F];)F--;for(;1<=S&&0<=F;S--,F--)if(m[S]!==v[F]){if(S!==1||F!==1)do if(S--,F--,0>F||m[S]!==v[F]){var B=`
`+m[S].replace(" at new "," at ");return i.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",i.displayName)),B}while(1<=S&&0<=F);break}}}finally{we=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?ee(i):""}function Ne(i){switch(i.tag){case 5:return ee(i.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return i=Re(i.type,!1),i;case 11:return i=Re(i.type.render,!1),i;case 1:return i=Re(i.type,!0),i;default:return""}}function Le(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case j:return"Fragment";case K:return"Portal";case C:return"Profiler";case P:return"StrictMode";case b:return"Suspense";case ie:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case A:return(i.displayName||"Context")+".Consumer";case I:return(i._context.displayName||"Context")+".Provider";case N:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case le:return o=i.displayName||null,o!==null?o:Le(i.type)||"Memo";case ce:o=i._payload,i=i._init;try{return Le(i(o))}catch{}}return null}function ze(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Le(o);case 8:return o===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function $e(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function We(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ct(i){var o=We(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),d=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,v=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(S){d=""+S,v.call(this,S)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(S){d=""+S},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function yr(i){i._valueTracker||(i._valueTracker=Ct(i))}function Ls(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),d="";return i&&(d=We(i)?i.checked?"true":"false":i.value),i=d,i!==l?(o.setValue(i),!0):!1}function ei(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Hi(i,o){var l=o.checked;return oe({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function Os(i,o){var l=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;l=$e(o.value!=null?o.value:l),i._wrapperState={initialChecked:d,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function ia(i,o){o=o.checked,o!=null&&L(i,"checked",o,!1)}function sa(i,o){ia(i,o);var l=$e(o.value),d=o.type;if(l!=null)d==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(d==="submit"||d==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?js(i,o.type,l):o.hasOwnProperty("defaultValue")&&js(i,o.type,$e(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Fl(i,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,l||o===i.value||(i.value=o),i.defaultValue=o}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function js(i,o,l){(o!=="number"||ei(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var _r=Array.isArray;function wr(i,o,l,d){if(i=i.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=o.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&d&&(i[l].defaultSelected=!0)}else{for(l=""+$e(l),o=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,d&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function oa(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Fs(i,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(_r(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}i._wrapperState={initialValue:$e(l)}}function Bs(i,o){var l=$e(o.value),d=$e(o.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),o.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),d!=null&&(i.defaultValue=""+d)}function aa(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function pt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mt(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?pt(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Er,la=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,d,m){MSApp.execUnsafeLocalFunction(function(){return i(o,l,d,m)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Er=Er||document.createElement("div"),Er.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Er.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function ti(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var qi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wi=["Webkit","ms","Moz","O"];Object.keys(qi).forEach(function(i){Wi.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),qi[o]=qi[i]})});function ua(i,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||qi.hasOwnProperty(i)&&qi[i]?(""+o).trim():o+"px"}function ca(i,o){i=i.style;for(var l in o)if(o.hasOwnProperty(l)){var d=l.indexOf("--")===0,m=ua(l,o[l],d);l==="float"&&(l="cssFloat"),d?i.setProperty(l,m):i[l]=m}}var da=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ha(i,o){if(o){if(da[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function fa(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ki=null;function Us(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var zs=null,mn=null,Qn=null;function $s(i){if(i=Oa(i)){if(typeof zs!="function")throw Error(t(280));var o=i.stateNode;o&&(o=mu(o),zs(i.stateNode,i.type,o))}}function Yn(i){mn?Qn?Qn.push(i):Qn=[i]:mn=i}function pa(){if(mn){var i=mn,o=Qn;if(Qn=mn=null,$s(i),o)for(i=0;i<o.length;i++)$s(o[i])}}function Qi(i,o){return i(o)}function ma(){}var Cr=!1;function ga(i,o,l){if(Cr)return i(o,l);Cr=!0;try{return Qi(i,o,l)}finally{Cr=!1,(mn!==null||Qn!==null)&&(ma(),pa())}}function ot(i,o){var l=i.stateNode;if(l===null)return null;var d=mu(l);if(d===null)return null;l=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var Gs=!1;if(h)try{var xn={};Object.defineProperty(xn,"passive",{get:function(){Gs=!0}}),window.addEventListener("test",xn,xn),window.removeEventListener("test",xn,xn)}catch{Gs=!1}function Yi(i,o,l,d,m,v,S,F,B){var Y=Array.prototype.slice.call(arguments,3);try{o.apply(l,Y)}catch(re){this.onError(re)}}var Xi=!1,Hs=null,Pn=!1,va=null,yd={onError:function(i){Xi=!0,Hs=i}};function qs(i,o,l,d,m,v,S,F,B){Xi=!1,Hs=null,Yi.apply(yd,arguments)}function Bl(i,o,l,d,m,v,S,F,B){if(qs.apply(this,arguments),Xi){if(Xi){var Y=Hs;Xi=!1,Hs=null}else throw Error(t(198));Pn||(Pn=!0,va=Y)}}function Rn(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function Ji(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function kn(i){if(Rn(i)!==i)throw Error(t(188))}function Ul(i){var o=i.alternate;if(!o){if(o=Rn(i),o===null)throw Error(t(188));return o!==i?null:i}for(var l=i,d=o;;){var m=l.return;if(m===null)break;var v=m.alternate;if(v===null){if(d=m.return,d!==null){l=d;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===l)return kn(m),i;if(v===d)return kn(m),o;v=v.sibling}throw Error(t(188))}if(l.return!==d.return)l=m,d=v;else{for(var S=!1,F=m.child;F;){if(F===l){S=!0,l=m,d=v;break}if(F===d){S=!0,d=m,l=v;break}F=F.sibling}if(!S){for(F=v.child;F;){if(F===l){S=!0,l=v,d=m;break}if(F===d){S=!0,d=v,l=m;break}F=F.sibling}if(!S)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:o}function ya(i){return i=Ul(i),i!==null?Ws(i):null}function Ws(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=Ws(i);if(o!==null)return o;i=i.sibling}return null}var Ks=e.unstable_scheduleCallback,_a=e.unstable_cancelCallback,zl=e.unstable_shouldYield,_d=e.unstable_requestPaint,Ke=e.unstable_now,$l=e.unstable_getCurrentPriorityLevel,Zi=e.unstable_ImmediatePriority,ni=e.unstable_UserBlockingPriority,gn=e.unstable_NormalPriority,wa=e.unstable_LowPriority,Gl=e.unstable_IdlePriority,es=null,an=null;function Hl(i){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(es,i,void 0,(i.current.flags&128)===128)}catch{}}var Ht=Math.clz32?Math.clz32:Wl,Ea=Math.log,ql=Math.LN2;function Wl(i){return i>>>=0,i===0?32:31-(Ea(i)/ql|0)|0}var Qs=64,Ys=4194304;function ri(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function ts(i,o){var l=i.pendingLanes;if(l===0)return 0;var d=0,m=i.suspendedLanes,v=i.pingedLanes,S=l&268435455;if(S!==0){var F=S&~m;F!==0?d=ri(F):(v&=S,v!==0&&(d=ri(v)))}else S=l&~m,S!==0?d=ri(S):v!==0&&(d=ri(v));if(d===0)return 0;if(o!==0&&o!==d&&(o&m)===0&&(m=d&-d,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if((d&4)!==0&&(d|=l&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=d;0<o;)l=31-Ht(o),m=1<<l,d|=i[l],o&=~m;return d}function wd(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tr(i,o){for(var l=i.suspendedLanes,d=i.pingedLanes,m=i.expirationTimes,v=i.pendingLanes;0<v;){var S=31-Ht(v),F=1<<S,B=m[S];B===-1?((F&l)===0||(F&d)!==0)&&(m[S]=wd(F,o)):B<=o&&(i.expiredLanes|=F),v&=~F}}function ln(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function ns(){var i=Qs;return Qs<<=1,(Qs&4194240)===0&&(Qs=64),i}function ii(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function si(i,o,l){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-Ht(o),i[o]=l}function qe(i,o){var l=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var d=i.eventTimes;for(i=i.expirationTimes;0<l;){var m=31-Ht(l),v=1<<m;o[m]=0,d[m]=-1,i[m]=-1,l&=~v}}function oi(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var d=31-Ht(l),m=1<<d;m&o|i[d]&o&&(i[d]|=o),l&=~m}}var Ve=0;function ai(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Kl,Xs,Ql,Yl,Xl,Ca=!1,Xn=[],Rt=null,Nn=null,bn=null,li=new Map,vn=new Map,Jn=[],Ed="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jl(i,o){switch(i){case"focusin":case"focusout":Rt=null;break;case"dragenter":case"dragleave":Nn=null;break;case"mouseover":case"mouseout":bn=null;break;case"pointerover":case"pointerout":li.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":vn.delete(o.pointerId)}}function Yt(i,o,l,d,m,v){return i===null||i.nativeEvent!==v?(i={blockedOn:o,domEventName:l,eventSystemFlags:d,nativeEvent:v,targetContainers:[m]},o!==null&&(o=Oa(o),o!==null&&Xs(o)),i):(i.eventSystemFlags|=d,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function Cd(i,o,l,d,m){switch(o){case"focusin":return Rt=Yt(Rt,i,o,l,d,m),!0;case"dragenter":return Nn=Yt(Nn,i,o,l,d,m),!0;case"mouseover":return bn=Yt(bn,i,o,l,d,m),!0;case"pointerover":var v=m.pointerId;return li.set(v,Yt(li.get(v)||null,i,o,l,d,m)),!0;case"gotpointercapture":return v=m.pointerId,vn.set(v,Yt(vn.get(v)||null,i,o,l,d,m)),!0}return!1}function Zl(i){var o=as(i.target);if(o!==null){var l=Rn(o);if(l!==null){if(o=l.tag,o===13){if(o=Ji(l),o!==null){i.blockedOn=o,Xl(i.priority,function(){Ql(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Sr(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=Js(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var d=new l.constructor(l.type,l);Ki=d,l.target.dispatchEvent(d),Ki=null}else return o=Oa(l),o!==null&&Xs(o),i.blockedOn=l,!1;o.shift()}return!0}function rs(i,o,l){Sr(i)&&l.delete(o)}function eu(){Ca=!1,Rt!==null&&Sr(Rt)&&(Rt=null),Nn!==null&&Sr(Nn)&&(Nn=null),bn!==null&&Sr(bn)&&(bn=null),li.forEach(rs),vn.forEach(rs)}function Dn(i,o){i.blockedOn===o&&(i.blockedOn=null,Ca||(Ca=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,eu)))}function Mn(i){function o(m){return Dn(m,i)}if(0<Xn.length){Dn(Xn[0],i);for(var l=1;l<Xn.length;l++){var d=Xn[l];d.blockedOn===i&&(d.blockedOn=null)}}for(Rt!==null&&Dn(Rt,i),Nn!==null&&Dn(Nn,i),bn!==null&&Dn(bn,i),li.forEach(o),vn.forEach(o),l=0;l<Jn.length;l++)d=Jn[l],d.blockedOn===i&&(d.blockedOn=null);for(;0<Jn.length&&(l=Jn[0],l.blockedOn===null);)Zl(l),l.blockedOn===null&&Jn.shift()}var Ir=$.ReactCurrentBatchConfig,ui=!0;function Ze(i,o,l,d){var m=Ve,v=Ir.transition;Ir.transition=null;try{Ve=1,Ta(i,o,l,d)}finally{Ve=m,Ir.transition=v}}function Td(i,o,l,d){var m=Ve,v=Ir.transition;Ir.transition=null;try{Ve=4,Ta(i,o,l,d)}finally{Ve=m,Ir.transition=v}}function Ta(i,o,l,d){if(ui){var m=Js(i,o,l,d);if(m===null)Md(i,o,d,is,l),Jl(i,d);else if(Cd(m,i,o,l,d))d.stopPropagation();else if(Jl(i,d),o&4&&-1<Ed.indexOf(i)){for(;m!==null;){var v=Oa(m);if(v!==null&&Kl(v),v=Js(i,o,l,d),v===null&&Md(i,o,d,is,l),v===m)break;m=v}m!==null&&d.stopPropagation()}else Md(i,o,d,null,l)}}var is=null;function Js(i,o,l,d){if(is=null,i=Us(d),i=as(i),i!==null)if(o=Rn(i),o===null)i=null;else if(l=o.tag,l===13){if(i=Ji(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return is=i,null}function Sa(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($l()){case Zi:return 1;case ni:return 4;case gn:case wa:return 16;case Gl:return 536870912;default:return 16}default:return 16}}var un=null,Zs=null,Xt=null;function Ia(){if(Xt)return Xt;var i,o=Zs,l=o.length,d,m="value"in un?un.value:un.textContent,v=m.length;for(i=0;i<l&&o[i]===m[i];i++);var S=l-i;for(d=1;d<=S&&o[l-d]===m[v-d];d++);return Xt=m.slice(i,1<d?1-d:void 0)}function eo(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Zn(){return!0}function Aa(){return!1}function kt(i){function o(l,d,m,v,S){this._reactName=l,this._targetInst=m,this.type=d,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var F in i)i.hasOwnProperty(F)&&(l=i[F],this[F]=l?l(v):v[F]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Zn:Aa,this.isPropagationStopped=Aa,this}return oe(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Zn)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Zn)},persist:function(){},isPersistent:Zn}),o}var Vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},to=kt(Vn),er=oe({},Vn,{view:0,detail:0}),Sd=kt(er),no,Ar,ci,ss=oe({},er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ci&&(ci&&i.type==="mousemove"?(no=i.screenX-ci.screenX,Ar=i.screenY-ci.screenY):Ar=no=0,ci=i),no)},movementY:function(i){return"movementY"in i?i.movementY:Ar}}),ro=kt(ss),xa=oe({},ss,{dataTransfer:0}),tu=kt(xa),io=oe({},er,{relatedTarget:0}),so=kt(io),nu=oe({},Vn,{animationName:0,elapsedTime:0,pseudoElement:0}),xr=kt(nu),ru=oe({},Vn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),iu=kt(ru),su=oe({},Vn,{data:0}),Pa=kt(su),oo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function au(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=ou[i])?!!o[i]:!1}function tr(){return au}var c=oe({},er,{key:function(i){if(i.key){var o=oo[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=eo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?qt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tr,charCode:function(i){return i.type==="keypress"?eo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?eo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),g=kt(c),E=oe({},ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k=kt(E),H=oe({},er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tr}),X=kt(H),de=oe({},Vn,{propertyName:0,elapsedTime:0,pseudoElement:0}),He=kt(de),gt=oe({},ss,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Oe=kt(gt),Tt=[9,13,27,32],ut=h&&"CompositionEvent"in window,yn=null;h&&"documentMode"in document&&(yn=document.documentMode);var cn=h&&"TextEvent"in window&&!yn,os=h&&(!ut||yn&&8<yn&&11>=yn),ao=" ",tm=!1;function nm(i,o){switch(i){case"keyup":return Tt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rm(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var lo=!1;function yE(i,o){switch(i){case"compositionend":return rm(o);case"keypress":return o.which!==32?null:(tm=!0,ao);case"textInput":return i=o.data,i===ao&&tm?null:i;default:return null}}function _E(i,o){if(lo)return i==="compositionend"||!ut&&nm(i,o)?(i=Ia(),Xt=Zs=un=null,lo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return os&&o.locale!=="ko"?null:o.data;default:return null}}var wE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function im(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!wE[i.type]:o==="textarea"}function sm(i,o,l,d){Yn(d),o=hu(o,"onChange"),0<o.length&&(l=new to("onChange","change",null,l,d),i.push({event:l,listeners:o}))}var Ra=null,ka=null;function EE(i){Tm(i,0)}function lu(i){var o=po(i);if(Ls(o))return i}function CE(i,o){if(i==="change")return o}var om=!1;if(h){var Id;if(h){var Ad="oninput"in document;if(!Ad){var am=document.createElement("div");am.setAttribute("oninput","return;"),Ad=typeof am.oninput=="function"}Id=Ad}else Id=!1;om=Id&&(!document.documentMode||9<document.documentMode)}function lm(){Ra&&(Ra.detachEvent("onpropertychange",um),ka=Ra=null)}function um(i){if(i.propertyName==="value"&&lu(ka)){var o=[];sm(o,ka,i,Us(i)),ga(EE,o)}}function TE(i,o,l){i==="focusin"?(lm(),Ra=o,ka=l,Ra.attachEvent("onpropertychange",um)):i==="focusout"&&lm()}function SE(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return lu(ka)}function IE(i,o){if(i==="click")return lu(o)}function AE(i,o){if(i==="input"||i==="change")return lu(o)}function xE(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Ln=typeof Object.is=="function"?Object.is:xE;function Na(i,o){if(Ln(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),d=Object.keys(o);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var m=l[d];if(!f.call(o,m)||!Ln(i[m],o[m]))return!1}return!0}function cm(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function dm(i,o){var l=cm(i);i=0;for(var d;l;){if(l.nodeType===3){if(d=i+l.textContent.length,i<=o&&d>=o)return{node:l,offset:o-i};i=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=cm(l)}}function hm(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?hm(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function fm(){for(var i=window,o=ei();o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=ei(i.document)}return o}function xd(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function PE(i){var o=fm(),l=i.focusedElem,d=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&hm(l.ownerDocument.documentElement,l)){if(d!==null&&xd(l)){if(o=d.start,i=d.end,i===void 0&&(i=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(i,l.value.length);else if(i=(o=l.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=l.textContent.length,v=Math.min(d.start,m);d=d.end===void 0?v:Math.min(d.end,m),!i.extend&&v>d&&(m=d,d=v,v=m),m=dm(l,v);var S=dm(l,d);m&&S&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==S.node||i.focusOffset!==S.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),v>d?(i.addRange(o),i.extend(S.node,S.offset)):(o.setEnd(S.node,S.offset),i.addRange(o)))}}for(o=[],i=l;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)i=o[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var RE=h&&"documentMode"in document&&11>=document.documentMode,uo=null,Pd=null,ba=null,Rd=!1;function pm(i,o,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Rd||uo==null||uo!==ei(d)||(d=uo,"selectionStart"in d&&xd(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),ba&&Na(ba,d)||(ba=d,d=hu(Pd,"onSelect"),0<d.length&&(o=new to("onSelect","select",null,o,l),i.push({event:o,listeners:d}),o.target=uo)))}function uu(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var co={animationend:uu("Animation","AnimationEnd"),animationiteration:uu("Animation","AnimationIteration"),animationstart:uu("Animation","AnimationStart"),transitionend:uu("Transition","TransitionEnd")},kd={},mm={};h&&(mm=document.createElement("div").style,"AnimationEvent"in window||(delete co.animationend.animation,delete co.animationiteration.animation,delete co.animationstart.animation),"TransitionEvent"in window||delete co.transitionend.transition);function cu(i){if(kd[i])return kd[i];if(!co[i])return i;var o=co[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in mm)return kd[i]=o[l];return i}var gm=cu("animationend"),vm=cu("animationiteration"),ym=cu("animationstart"),_m=cu("transitionend"),wm=new Map,Em="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function di(i,o){wm.set(i,o),a(o,[i])}for(var Nd=0;Nd<Em.length;Nd++){var bd=Em[Nd],kE=bd.toLowerCase(),NE=bd[0].toUpperCase()+bd.slice(1);di(kE,"on"+NE)}di(gm,"onAnimationEnd"),di(vm,"onAnimationIteration"),di(ym,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(_m,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Da="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Da));function Cm(i,o,l){var d=i.type||"unknown-event";i.currentTarget=l,Bl(d,o,void 0,i),i.currentTarget=null}function Tm(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var d=i[l],m=d.event;d=d.listeners;e:{var v=void 0;if(o)for(var S=d.length-1;0<=S;S--){var F=d[S],B=F.instance,Y=F.currentTarget;if(F=F.listener,B!==v&&m.isPropagationStopped())break e;Cm(m,F,Y),v=B}else for(S=0;S<d.length;S++){if(F=d[S],B=F.instance,Y=F.currentTarget,F=F.listener,B!==v&&m.isPropagationStopped())break e;Cm(m,F,Y),v=B}}}if(Pn)throw i=va,Pn=!1,va=null,i}function Xe(i,o){var l=o[Bd];l===void 0&&(l=o[Bd]=new Set);var d=i+"__bubble";l.has(d)||(Sm(o,i,2,!1),l.add(d))}function Dd(i,o,l){var d=0;o&&(d|=4),Sm(l,i,d,o)}var du="_reactListening"+Math.random().toString(36).slice(2);function Ma(i){if(!i[du]){i[du]=!0,r.forEach(function(l){l!=="selectionchange"&&(bE.has(l)||Dd(l,!1,i),Dd(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[du]||(o[du]=!0,Dd("selectionchange",!1,o))}}function Sm(i,o,l,d){switch(Sa(o)){case 1:var m=Ze;break;case 4:m=Td;break;default:m=Ta}l=m.bind(null,o,l,i),m=void 0,!Gs||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?i.addEventListener(o,l,{capture:!0,passive:m}):i.addEventListener(o,l,!0):m!==void 0?i.addEventListener(o,l,{passive:m}):i.addEventListener(o,l,!1)}function Md(i,o,l,d,m){var v=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var F=d.stateNode.containerInfo;if(F===m||F.nodeType===8&&F.parentNode===m)break;if(S===4)for(S=d.return;S!==null;){var B=S.tag;if((B===3||B===4)&&(B=S.stateNode.containerInfo,B===m||B.nodeType===8&&B.parentNode===m))return;S=S.return}for(;F!==null;){if(S=as(F),S===null)return;if(B=S.tag,B===5||B===6){d=v=S;continue e}F=F.parentNode}}d=d.return}ga(function(){var Y=v,re=Us(l),se=[];e:{var ne=wm.get(i);if(ne!==void 0){var fe=to,ve=i;switch(i){case"keypress":if(eo(l)===0)break e;case"keydown":case"keyup":fe=g;break;case"focusin":ve="focus",fe=so;break;case"focusout":ve="blur",fe=so;break;case"beforeblur":case"afterblur":fe=so;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=ro;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=X;break;case gm:case vm:case ym:fe=xr;break;case _m:fe=He;break;case"scroll":fe=Sd;break;case"wheel":fe=Oe;break;case"copy":case"cut":case"paste":fe=iu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=k}var ye=(o&4)!==0,at=!ye&&i==="scroll",q=ye?ne!==null?ne+"Capture":null:ne;ye=[];for(var z=Y,W;z!==null;){W=z;var ue=W.stateNode;if(W.tag===5&&ue!==null&&(W=ue,q!==null&&(ue=ot(z,q),ue!=null&&ye.push(Va(z,ue,W)))),at)break;z=z.return}0<ye.length&&(ne=new fe(ne,ve,null,l,re),se.push({event:ne,listeners:ye}))}}if((o&7)===0){e:{if(ne=i==="mouseover"||i==="pointerover",fe=i==="mouseout"||i==="pointerout",ne&&l!==Ki&&(ve=l.relatedTarget||l.fromElement)&&(as(ve)||ve[Pr]))break e;if((fe||ne)&&(ne=re.window===re?re:(ne=re.ownerDocument)?ne.defaultView||ne.parentWindow:window,fe?(ve=l.relatedTarget||l.toElement,fe=Y,ve=ve?as(ve):null,ve!==null&&(at=Rn(ve),ve!==at||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(fe=null,ve=Y),fe!==ve)){if(ye=ro,ue="onMouseLeave",q="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(ye=k,ue="onPointerLeave",q="onPointerEnter",z="pointer"),at=fe==null?ne:po(fe),W=ve==null?ne:po(ve),ne=new ye(ue,z+"leave",fe,l,re),ne.target=at,ne.relatedTarget=W,ue=null,as(re)===Y&&(ye=new ye(q,z+"enter",ve,l,re),ye.target=W,ye.relatedTarget=at,ue=ye),at=ue,fe&&ve)t:{for(ye=fe,q=ve,z=0,W=ye;W;W=ho(W))z++;for(W=0,ue=q;ue;ue=ho(ue))W++;for(;0<z-W;)ye=ho(ye),z--;for(;0<W-z;)q=ho(q),W--;for(;z--;){if(ye===q||q!==null&&ye===q.alternate)break t;ye=ho(ye),q=ho(q)}ye=null}else ye=null;fe!==null&&Im(se,ne,fe,ye,!1),ve!==null&&at!==null&&Im(se,at,ve,ye,!0)}}e:{if(ne=Y?po(Y):window,fe=ne.nodeName&&ne.nodeName.toLowerCase(),fe==="select"||fe==="input"&&ne.type==="file")var _e=CE;else if(im(ne))if(om)_e=AE;else{_e=SE;var Ce=TE}else(fe=ne.nodeName)&&fe.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(_e=IE);if(_e&&(_e=_e(i,Y))){sm(se,_e,l,re);break e}Ce&&Ce(i,ne,Y),i==="focusout"&&(Ce=ne._wrapperState)&&Ce.controlled&&ne.type==="number"&&js(ne,"number",ne.value)}switch(Ce=Y?po(Y):window,i){case"focusin":(im(Ce)||Ce.contentEditable==="true")&&(uo=Ce,Pd=Y,ba=null);break;case"focusout":ba=Pd=uo=null;break;case"mousedown":Rd=!0;break;case"contextmenu":case"mouseup":case"dragend":Rd=!1,pm(se,l,re);break;case"selectionchange":if(RE)break;case"keydown":case"keyup":pm(se,l,re)}var Te;if(ut)e:{switch(i){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else lo?nm(i,l)&&(Ae="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ae="onCompositionStart");Ae&&(os&&l.locale!=="ko"&&(lo||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&lo&&(Te=Ia()):(un=re,Zs="value"in un?un.value:un.textContent,lo=!0)),Ce=hu(Y,Ae),0<Ce.length&&(Ae=new Pa(Ae,i,null,l,re),se.push({event:Ae,listeners:Ce}),Te?Ae.data=Te:(Te=rm(l),Te!==null&&(Ae.data=Te)))),(Te=cn?yE(i,l):_E(i,l))&&(Y=hu(Y,"onBeforeInput"),0<Y.length&&(re=new Pa("onBeforeInput","beforeinput",null,l,re),se.push({event:re,listeners:Y}),re.data=Te))}Tm(se,o)})}function Va(i,o,l){return{instance:i,listener:o,currentTarget:l}}function hu(i,o){for(var l=o+"Capture",d=[];i!==null;){var m=i,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=ot(i,l),v!=null&&d.unshift(Va(i,v,m)),v=ot(i,o),v!=null&&d.push(Va(i,v,m))),i=i.return}return d}function ho(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Im(i,o,l,d,m){for(var v=o._reactName,S=[];l!==null&&l!==d;){var F=l,B=F.alternate,Y=F.stateNode;if(B!==null&&B===d)break;F.tag===5&&Y!==null&&(F=Y,m?(B=ot(l,v),B!=null&&S.unshift(Va(l,B,F))):m||(B=ot(l,v),B!=null&&S.push(Va(l,B,F)))),l=l.return}S.length!==0&&i.push({event:o,listeners:S})}var DE=/\r\n?/g,ME=/\u0000|\uFFFD/g;function Am(i){return(typeof i=="string"?i:""+i).replace(DE,`
`).replace(ME,"")}function fu(i,o,l){if(o=Am(o),Am(i)!==o&&l)throw Error(t(425))}function pu(){}var Vd=null,Ld=null;function Od(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var jd=typeof setTimeout=="function"?setTimeout:void 0,VE=typeof clearTimeout=="function"?clearTimeout:void 0,xm=typeof Promise=="function"?Promise:void 0,LE=typeof queueMicrotask=="function"?queueMicrotask:typeof xm<"u"?function(i){return xm.resolve(null).then(i).catch(OE)}:jd;function OE(i){setTimeout(function(){throw i})}function Fd(i,o){var l=o,d=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(d===0){i.removeChild(m),Mn(o);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=m}while(l);Mn(o)}function hi(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Pm(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}var fo=Math.random().toString(36).slice(2),nr="__reactFiber$"+fo,La="__reactProps$"+fo,Pr="__reactContainer$"+fo,Bd="__reactEvents$"+fo,jE="__reactListeners$"+fo,FE="__reactHandles$"+fo;function as(i){var o=i[nr];if(o)return o;for(var l=i.parentNode;l;){if(o=l[Pr]||l[nr]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=Pm(i);i!==null;){if(l=i[nr])return l;i=Pm(i)}return o}i=l,l=i.parentNode}return null}function Oa(i){return i=i[nr]||i[Pr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function po(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function mu(i){return i[La]||null}var Ud=[],mo=-1;function fi(i){return{current:i}}function Je(i){0>mo||(i.current=Ud[mo],Ud[mo]=null,mo--)}function Qe(i,o){mo++,Ud[mo]=i.current,i.current=o}var pi={},Ot=fi(pi),Jt=fi(!1),ls=pi;function go(i,o){var l=i.type.contextTypes;if(!l)return pi;var d=i.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in l)m[v]=o[v];return d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function Zt(i){return i=i.childContextTypes,i!=null}function gu(){Je(Jt),Je(Ot)}function Rm(i,o,l){if(Ot.current!==pi)throw Error(t(168));Qe(Ot,o),Qe(Jt,l)}function km(i,o,l){var d=i.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var m in d)if(!(m in o))throw Error(t(108,ze(i)||"Unknown",m));return oe({},l,d)}function vu(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||pi,ls=Ot.current,Qe(Ot,i),Qe(Jt,Jt.current),!0}function Nm(i,o,l){var d=i.stateNode;if(!d)throw Error(t(169));l?(i=km(i,o,ls),d.__reactInternalMemoizedMergedChildContext=i,Je(Jt),Je(Ot),Qe(Ot,i)):Je(Jt),Qe(Jt,l)}var Rr=null,yu=!1,zd=!1;function bm(i){Rr===null?Rr=[i]:Rr.push(i)}function BE(i){yu=!0,bm(i)}function mi(){if(!zd&&Rr!==null){zd=!0;var i=0,o=Ve;try{var l=Rr;for(Ve=1;i<l.length;i++){var d=l[i];do d=d(!0);while(d!==null)}Rr=null,yu=!1}catch(m){throw Rr!==null&&(Rr=Rr.slice(i+1)),Ks(Zi,mi),m}finally{Ve=o,zd=!1}}return null}var vo=[],yo=0,_u=null,wu=0,_n=[],wn=0,us=null,kr=1,Nr="";function cs(i,o){vo[yo++]=wu,vo[yo++]=_u,_u=i,wu=o}function Dm(i,o,l){_n[wn++]=kr,_n[wn++]=Nr,_n[wn++]=us,us=i;var d=kr;i=Nr;var m=32-Ht(d)-1;d&=~(1<<m),l+=1;var v=32-Ht(o)+m;if(30<v){var S=m-m%5;v=(d&(1<<S)-1).toString(32),d>>=S,m-=S,kr=1<<32-Ht(o)+m|l<<m|d,Nr=v+i}else kr=1<<v|l<<m|d,Nr=i}function $d(i){i.return!==null&&(cs(i,1),Dm(i,1,0))}function Gd(i){for(;i===_u;)_u=vo[--yo],vo[yo]=null,wu=vo[--yo],vo[yo]=null;for(;i===us;)us=_n[--wn],_n[wn]=null,Nr=_n[--wn],_n[wn]=null,kr=_n[--wn],_n[wn]=null}var dn=null,hn=null,et=!1,On=null;function Mm(i,o){var l=Sn(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=i,o=i.deletions,o===null?(i.deletions=[l],i.flags|=16):o.push(l)}function Vm(i,o){switch(i.tag){case 5:var l=i.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,dn=i,hn=hi(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,dn=i,hn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=us!==null?{id:kr,overflow:Nr}:null,i.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=Sn(18,null,null,0),l.stateNode=o,l.return=i,i.child=l,dn=i,hn=null,!0):!1;default:return!1}}function Hd(i){return(i.mode&1)!==0&&(i.flags&128)===0}function qd(i){if(et){var o=hn;if(o){var l=o;if(!Vm(i,o)){if(Hd(i))throw Error(t(418));o=hi(l.nextSibling);var d=dn;o&&Vm(i,o)?Mm(d,l):(i.flags=i.flags&-4097|2,et=!1,dn=i)}}else{if(Hd(i))throw Error(t(418));i.flags=i.flags&-4097|2,et=!1,dn=i}}}function Lm(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;dn=i}function Eu(i){if(i!==dn)return!1;if(!et)return Lm(i),et=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Od(i.type,i.memoizedProps)),o&&(o=hn)){if(Hd(i))throw Om(),Error(t(418));for(;o;)Mm(i,o),o=hi(o.nextSibling)}if(Lm(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(o===0){hn=hi(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}i=i.nextSibling}hn=null}}else hn=dn?hi(i.stateNode.nextSibling):null;return!0}function Om(){for(var i=hn;i;)i=hi(i.nextSibling)}function _o(){hn=dn=null,et=!1}function Wd(i){On===null?On=[i]:On.push(i)}var UE=$.ReactCurrentBatchConfig;function ja(i,o,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,i));var m=d,v=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(S){var F=m.refs;S===null?delete F[v]:F[v]=S},o._stringRef=v,o)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function Cu(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function jm(i){var o=i._init;return o(i._payload)}function Fm(i){function o(q,z){if(i){var W=q.deletions;W===null?(q.deletions=[z],q.flags|=16):W.push(z)}}function l(q,z){if(!i)return null;for(;z!==null;)o(q,z),z=z.sibling;return null}function d(q,z){for(q=new Map;z!==null;)z.key!==null?q.set(z.key,z):q.set(z.index,z),z=z.sibling;return q}function m(q,z){return q=Ti(q,z),q.index=0,q.sibling=null,q}function v(q,z,W){return q.index=W,i?(W=q.alternate,W!==null?(W=W.index,W<z?(q.flags|=2,z):W):(q.flags|=2,z)):(q.flags|=1048576,z)}function S(q){return i&&q.alternate===null&&(q.flags|=2),q}function F(q,z,W,ue){return z===null||z.tag!==6?(z=jh(W,q.mode,ue),z.return=q,z):(z=m(z,W),z.return=q,z)}function B(q,z,W,ue){var _e=W.type;return _e===j?re(q,z,W.props.children,ue,W.key):z!==null&&(z.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===ce&&jm(_e)===z.type)?(ue=m(z,W.props),ue.ref=ja(q,z,W),ue.return=q,ue):(ue=qu(W.type,W.key,W.props,null,q.mode,ue),ue.ref=ja(q,z,W),ue.return=q,ue)}function Y(q,z,W,ue){return z===null||z.tag!==4||z.stateNode.containerInfo!==W.containerInfo||z.stateNode.implementation!==W.implementation?(z=Fh(W,q.mode,ue),z.return=q,z):(z=m(z,W.children||[]),z.return=q,z)}function re(q,z,W,ue,_e){return z===null||z.tag!==7?(z=ys(W,q.mode,ue,_e),z.return=q,z):(z=m(z,W),z.return=q,z)}function se(q,z,W){if(typeof z=="string"&&z!==""||typeof z=="number")return z=jh(""+z,q.mode,W),z.return=q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Q:return W=qu(z.type,z.key,z.props,null,q.mode,W),W.ref=ja(q,null,z),W.return=q,W;case K:return z=Fh(z,q.mode,W),z.return=q,z;case ce:var ue=z._init;return se(q,ue(z._payload),W)}if(_r(z)||ae(z))return z=ys(z,q.mode,W,null),z.return=q,z;Cu(q,z)}return null}function ne(q,z,W,ue){var _e=z!==null?z.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return _e!==null?null:F(q,z,""+W,ue);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case Q:return W.key===_e?B(q,z,W,ue):null;case K:return W.key===_e?Y(q,z,W,ue):null;case ce:return _e=W._init,ne(q,z,_e(W._payload),ue)}if(_r(W)||ae(W))return _e!==null?null:re(q,z,W,ue,null);Cu(q,W)}return null}function fe(q,z,W,ue,_e){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return q=q.get(W)||null,F(z,q,""+ue,_e);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case Q:return q=q.get(ue.key===null?W:ue.key)||null,B(z,q,ue,_e);case K:return q=q.get(ue.key===null?W:ue.key)||null,Y(z,q,ue,_e);case ce:var Ce=ue._init;return fe(q,z,W,Ce(ue._payload),_e)}if(_r(ue)||ae(ue))return q=q.get(W)||null,re(z,q,ue,_e,null);Cu(z,ue)}return null}function ve(q,z,W,ue){for(var _e=null,Ce=null,Te=z,Ae=z=0,At=null;Te!==null&&Ae<W.length;Ae++){Te.index>Ae?(At=Te,Te=null):At=Te.sibling;var Ue=ne(q,Te,W[Ae],ue);if(Ue===null){Te===null&&(Te=At);break}i&&Te&&Ue.alternate===null&&o(q,Te),z=v(Ue,z,Ae),Ce===null?_e=Ue:Ce.sibling=Ue,Ce=Ue,Te=At}if(Ae===W.length)return l(q,Te),et&&cs(q,Ae),_e;if(Te===null){for(;Ae<W.length;Ae++)Te=se(q,W[Ae],ue),Te!==null&&(z=v(Te,z,Ae),Ce===null?_e=Te:Ce.sibling=Te,Ce=Te);return et&&cs(q,Ae),_e}for(Te=d(q,Te);Ae<W.length;Ae++)At=fe(Te,q,Ae,W[Ae],ue),At!==null&&(i&&At.alternate!==null&&Te.delete(At.key===null?Ae:At.key),z=v(At,z,Ae),Ce===null?_e=At:Ce.sibling=At,Ce=At);return i&&Te.forEach(function(Si){return o(q,Si)}),et&&cs(q,Ae),_e}function ye(q,z,W,ue){var _e=ae(W);if(typeof _e!="function")throw Error(t(150));if(W=_e.call(W),W==null)throw Error(t(151));for(var Ce=_e=null,Te=z,Ae=z=0,At=null,Ue=W.next();Te!==null&&!Ue.done;Ae++,Ue=W.next()){Te.index>Ae?(At=Te,Te=null):At=Te.sibling;var Si=ne(q,Te,Ue.value,ue);if(Si===null){Te===null&&(Te=At);break}i&&Te&&Si.alternate===null&&o(q,Te),z=v(Si,z,Ae),Ce===null?_e=Si:Ce.sibling=Si,Ce=Si,Te=At}if(Ue.done)return l(q,Te),et&&cs(q,Ae),_e;if(Te===null){for(;!Ue.done;Ae++,Ue=W.next())Ue=se(q,Ue.value,ue),Ue!==null&&(z=v(Ue,z,Ae),Ce===null?_e=Ue:Ce.sibling=Ue,Ce=Ue);return et&&cs(q,Ae),_e}for(Te=d(q,Te);!Ue.done;Ae++,Ue=W.next())Ue=fe(Te,q,Ae,Ue.value,ue),Ue!==null&&(i&&Ue.alternate!==null&&Te.delete(Ue.key===null?Ae:Ue.key),z=v(Ue,z,Ae),Ce===null?_e=Ue:Ce.sibling=Ue,Ce=Ue);return i&&Te.forEach(function(wC){return o(q,wC)}),et&&cs(q,Ae),_e}function at(q,z,W,ue){if(typeof W=="object"&&W!==null&&W.type===j&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case Q:e:{for(var _e=W.key,Ce=z;Ce!==null;){if(Ce.key===_e){if(_e=W.type,_e===j){if(Ce.tag===7){l(q,Ce.sibling),z=m(Ce,W.props.children),z.return=q,q=z;break e}}else if(Ce.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===ce&&jm(_e)===Ce.type){l(q,Ce.sibling),z=m(Ce,W.props),z.ref=ja(q,Ce,W),z.return=q,q=z;break e}l(q,Ce);break}else o(q,Ce);Ce=Ce.sibling}W.type===j?(z=ys(W.props.children,q.mode,ue,W.key),z.return=q,q=z):(ue=qu(W.type,W.key,W.props,null,q.mode,ue),ue.ref=ja(q,z,W),ue.return=q,q=ue)}return S(q);case K:e:{for(Ce=W.key;z!==null;){if(z.key===Ce)if(z.tag===4&&z.stateNode.containerInfo===W.containerInfo&&z.stateNode.implementation===W.implementation){l(q,z.sibling),z=m(z,W.children||[]),z.return=q,q=z;break e}else{l(q,z);break}else o(q,z);z=z.sibling}z=Fh(W,q.mode,ue),z.return=q,q=z}return S(q);case ce:return Ce=W._init,at(q,z,Ce(W._payload),ue)}if(_r(W))return ve(q,z,W,ue);if(ae(W))return ye(q,z,W,ue);Cu(q,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,z!==null&&z.tag===6?(l(q,z.sibling),z=m(z,W),z.return=q,q=z):(l(q,z),z=jh(W,q.mode,ue),z.return=q,q=z),S(q)):l(q,z)}return at}var wo=Fm(!0),Bm=Fm(!1),Tu=fi(null),Su=null,Eo=null,Kd=null;function Qd(){Kd=Eo=Su=null}function Yd(i){var o=Tu.current;Je(Tu),i._currentValue=o}function Xd(i,o,l){for(;i!==null;){var d=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),i===l)break;i=i.return}}function Co(i,o){Su=i,Kd=Eo=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(en=!0),i.firstContext=null)}function En(i){var o=i._currentValue;if(Kd!==i)if(i={context:i,memoizedValue:o,next:null},Eo===null){if(Su===null)throw Error(t(308));Eo=i,Su.dependencies={lanes:0,firstContext:i}}else Eo=Eo.next=i;return o}var ds=null;function Jd(i){ds===null?ds=[i]:ds.push(i)}function Um(i,o,l,d){var m=o.interleaved;return m===null?(l.next=l,Jd(o)):(l.next=m.next,m.next=l),o.interleaved=l,br(i,d)}function br(i,o){i.lanes|=o;var l=i.alternate;for(l!==null&&(l.lanes|=o),l=i,i=i.return;i!==null;)i.childLanes|=o,l=i.alternate,l!==null&&(l.childLanes|=o),l=i,i=i.return;return l.tag===3?l.stateNode:null}var gi=!1;function Zd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zm(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Dr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function vi(i,o,l){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(Be&2)!==0){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,br(i,l)}return m=d.interleaved,m===null?(o.next=o,Jd(d)):(o.next=m.next,m.next=o),d.interleaved=o,br(i,l)}function Iu(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var d=o.lanes;d&=i.pendingLanes,l|=d,o.lanes=l,oi(i,l)}}function $m(i,o){var l=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var m=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var S={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?m=v=S:v=v.next=S,l=l.next}while(l!==null);v===null?m=v=o:v=v.next=o}else m=v=o;l={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:d.shared,effects:d.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}function Au(i,o,l,d){var m=i.updateQueue;gi=!1;var v=m.firstBaseUpdate,S=m.lastBaseUpdate,F=m.shared.pending;if(F!==null){m.shared.pending=null;var B=F,Y=B.next;B.next=null,S===null?v=Y:S.next=Y,S=B;var re=i.alternate;re!==null&&(re=re.updateQueue,F=re.lastBaseUpdate,F!==S&&(F===null?re.firstBaseUpdate=Y:F.next=Y,re.lastBaseUpdate=B))}if(v!==null){var se=m.baseState;S=0,re=Y=B=null,F=v;do{var ne=F.lane,fe=F.eventTime;if((d&ne)===ne){re!==null&&(re=re.next={eventTime:fe,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var ve=i,ye=F;switch(ne=o,fe=l,ye.tag){case 1:if(ve=ye.payload,typeof ve=="function"){se=ve.call(fe,se,ne);break e}se=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=ye.payload,ne=typeof ve=="function"?ve.call(fe,se,ne):ve,ne==null)break e;se=oe({},se,ne);break e;case 2:gi=!0}}F.callback!==null&&F.lane!==0&&(i.flags|=64,ne=m.effects,ne===null?m.effects=[F]:ne.push(F))}else fe={eventTime:fe,lane:ne,tag:F.tag,payload:F.payload,callback:F.callback,next:null},re===null?(Y=re=fe,B=se):re=re.next=fe,S|=ne;if(F=F.next,F===null){if(F=m.shared.pending,F===null)break;ne=F,F=ne.next,ne.next=null,m.lastBaseUpdate=ne,m.shared.pending=null}}while(!0);if(re===null&&(B=se),m.baseState=B,m.firstBaseUpdate=Y,m.lastBaseUpdate=re,o=m.shared.interleaved,o!==null){m=o;do S|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);ps|=S,i.lanes=S,i.memoizedState=se}}function Gm(i,o,l){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var d=i[o],m=d.callback;if(m!==null){if(d.callback=null,d=l,typeof m!="function")throw Error(t(191,m));m.call(d)}}}var Fa={},rr=fi(Fa),Ba=fi(Fa),Ua=fi(Fa);function hs(i){if(i===Fa)throw Error(t(174));return i}function eh(i,o){switch(Qe(Ua,o),Qe(Ba,i),Qe(rr,Fa),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:mt(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=mt(o,i)}Je(rr),Qe(rr,o)}function To(){Je(rr),Je(Ba),Je(Ua)}function Hm(i){hs(Ua.current);var o=hs(rr.current),l=mt(o,i.type);o!==l&&(Qe(Ba,i),Qe(rr,l))}function th(i){Ba.current===i&&(Je(rr),Je(Ba))}var tt=fi(0);function xu(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var nh=[];function rh(){for(var i=0;i<nh.length;i++)nh[i]._workInProgressVersionPrimary=null;nh.length=0}var Pu=$.ReactCurrentDispatcher,ih=$.ReactCurrentBatchConfig,fs=0,nt=null,vt=null,St=null,Ru=!1,za=!1,$a=0,zE=0;function jt(){throw Error(t(321))}function sh(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!Ln(i[l],o[l]))return!1;return!0}function oh(i,o,l,d,m,v){if(fs=v,nt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Pu.current=i===null||i.memoizedState===null?qE:WE,i=l(d,m),za){v=0;do{if(za=!1,$a=0,25<=v)throw Error(t(301));v+=1,St=vt=null,o.updateQueue=null,Pu.current=KE,i=l(d,m)}while(za)}if(Pu.current=bu,o=vt!==null&&vt.next!==null,fs=0,St=vt=nt=null,Ru=!1,o)throw Error(t(300));return i}function ah(){var i=$a!==0;return $a=0,i}function ir(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?nt.memoizedState=St=i:St=St.next=i,St}function Cn(){if(vt===null){var i=nt.alternate;i=i!==null?i.memoizedState:null}else i=vt.next;var o=St===null?nt.memoizedState:St.next;if(o!==null)St=o,vt=i;else{if(i===null)throw Error(t(310));vt=i,i={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},St===null?nt.memoizedState=St=i:St=St.next=i}return St}function Ga(i,o){return typeof o=="function"?o(i):o}function lh(i){var o=Cn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var d=vt,m=d.baseQueue,v=l.pending;if(v!==null){if(m!==null){var S=m.next;m.next=v.next,v.next=S}d.baseQueue=m=v,l.pending=null}if(m!==null){v=m.next,d=d.baseState;var F=S=null,B=null,Y=v;do{var re=Y.lane;if((fs&re)===re)B!==null&&(B=B.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),d=Y.hasEagerState?Y.eagerState:i(d,Y.action);else{var se={lane:re,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};B===null?(F=B=se,S=d):B=B.next=se,nt.lanes|=re,ps|=re}Y=Y.next}while(Y!==null&&Y!==v);B===null?S=d:B.next=F,Ln(d,o.memoizedState)||(en=!0),o.memoizedState=d,o.baseState=S,o.baseQueue=B,l.lastRenderedState=d}if(i=l.interleaved,i!==null){m=i;do v=m.lane,nt.lanes|=v,ps|=v,m=m.next;while(m!==i)}else m===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function uh(i){var o=Cn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var d=l.dispatch,m=l.pending,v=o.memoizedState;if(m!==null){l.pending=null;var S=m=m.next;do v=i(v,S.action),S=S.next;while(S!==m);Ln(v,o.memoizedState)||(en=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),l.lastRenderedState=v}return[v,d]}function qm(){}function Wm(i,o){var l=nt,d=Cn(),m=o(),v=!Ln(d.memoizedState,m);if(v&&(d.memoizedState=m,en=!0),d=d.queue,ch(Ym.bind(null,l,d,i),[i]),d.getSnapshot!==o||v||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,Ha(9,Qm.bind(null,l,d,m,o),void 0,null),It===null)throw Error(t(349));(fs&30)!==0||Km(l,o,m)}return m}function Km(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=nt.updateQueue,o===null?(o={lastEffect:null,stores:null},nt.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function Qm(i,o,l,d){o.value=l,o.getSnapshot=d,Xm(o)&&Jm(i)}function Ym(i,o,l){return l(function(){Xm(o)&&Jm(i)})}function Xm(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!Ln(i,l)}catch{return!0}}function Jm(i){var o=br(i,1);o!==null&&Un(o,i,1,-1)}function Zm(i){var o=ir();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:i},o.queue=i,i=i.dispatch=HE.bind(null,nt,i),[o.memoizedState,i]}function Ha(i,o,l,d){return i={tag:i,create:o,destroy:l,deps:d,next:null},o=nt.updateQueue,o===null?(o={lastEffect:null,stores:null},nt.updateQueue=o,o.lastEffect=i.next=i):(l=o.lastEffect,l===null?o.lastEffect=i.next=i:(d=l.next,l.next=i,i.next=d,o.lastEffect=i)),i}function eg(){return Cn().memoizedState}function ku(i,o,l,d){var m=ir();nt.flags|=i,m.memoizedState=Ha(1|o,l,void 0,d===void 0?null:d)}function Nu(i,o,l,d){var m=Cn();d=d===void 0?null:d;var v=void 0;if(vt!==null){var S=vt.memoizedState;if(v=S.destroy,d!==null&&sh(d,S.deps)){m.memoizedState=Ha(o,l,v,d);return}}nt.flags|=i,m.memoizedState=Ha(1|o,l,v,d)}function tg(i,o){return ku(8390656,8,i,o)}function ch(i,o){return Nu(2048,8,i,o)}function ng(i,o){return Nu(4,2,i,o)}function rg(i,o){return Nu(4,4,i,o)}function ig(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function sg(i,o,l){return l=l!=null?l.concat([i]):null,Nu(4,4,ig.bind(null,o,i),l)}function dh(){}function og(i,o){var l=Cn();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&sh(o,d[1])?d[0]:(l.memoizedState=[i,o],i)}function ag(i,o){var l=Cn();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&sh(o,d[1])?d[0]:(i=i(),l.memoizedState=[i,o],i)}function lg(i,o,l){return(fs&21)===0?(i.baseState&&(i.baseState=!1,en=!0),i.memoizedState=l):(Ln(l,o)||(l=ns(),nt.lanes|=l,ps|=l,i.baseState=!0),o)}function $E(i,o){var l=Ve;Ve=l!==0&&4>l?l:4,i(!0);var d=ih.transition;ih.transition={};try{i(!1),o()}finally{Ve=l,ih.transition=d}}function ug(){return Cn().memoizedState}function GE(i,o,l){var d=Ei(i);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},cg(i))dg(o,l);else if(l=Um(i,o,l,d),l!==null){var m=Kt();Un(l,i,d,m),hg(l,o,d)}}function HE(i,o,l){var d=Ei(i),m={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(cg(i))dg(o,m);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var S=o.lastRenderedState,F=v(S,l);if(m.hasEagerState=!0,m.eagerState=F,Ln(F,S)){var B=o.interleaved;B===null?(m.next=m,Jd(o)):(m.next=B.next,B.next=m),o.interleaved=m;return}}catch{}finally{}l=Um(i,o,m,d),l!==null&&(m=Kt(),Un(l,i,d,m),hg(l,o,d))}}function cg(i){var o=i.alternate;return i===nt||o!==null&&o===nt}function dg(i,o){za=Ru=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function hg(i,o,l){if((l&4194240)!==0){var d=o.lanes;d&=i.pendingLanes,l|=d,o.lanes=l,oi(i,l)}}var bu={readContext:En,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},qE={readContext:En,useCallback:function(i,o){return ir().memoizedState=[i,o===void 0?null:o],i},useContext:En,useEffect:tg,useImperativeHandle:function(i,o,l){return l=l!=null?l.concat([i]):null,ku(4194308,4,ig.bind(null,o,i),l)},useLayoutEffect:function(i,o){return ku(4194308,4,i,o)},useInsertionEffect:function(i,o){return ku(4,2,i,o)},useMemo:function(i,o){var l=ir();return o=o===void 0?null:o,i=i(),l.memoizedState=[i,o],i},useReducer:function(i,o,l){var d=ir();return o=l!==void 0?l(o):o,d.memoizedState=d.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},d.queue=i,i=i.dispatch=GE.bind(null,nt,i),[d.memoizedState,i]},useRef:function(i){var o=ir();return i={current:i},o.memoizedState=i},useState:Zm,useDebugValue:dh,useDeferredValue:function(i){return ir().memoizedState=i},useTransition:function(){var i=Zm(!1),o=i[0];return i=$E.bind(null,i[1]),ir().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,l){var d=nt,m=ir();if(et){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),It===null)throw Error(t(349));(fs&30)!==0||Km(d,o,l)}m.memoizedState=l;var v={value:l,getSnapshot:o};return m.queue=v,tg(Ym.bind(null,d,v,i),[i]),d.flags|=2048,Ha(9,Qm.bind(null,d,v,l,o),void 0,null),l},useId:function(){var i=ir(),o=It.identifierPrefix;if(et){var l=Nr,d=kr;l=(d&~(1<<32-Ht(d)-1)).toString(32)+l,o=":"+o+"R"+l,l=$a++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=zE++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},WE={readContext:En,useCallback:og,useContext:En,useEffect:ch,useImperativeHandle:sg,useInsertionEffect:ng,useLayoutEffect:rg,useMemo:ag,useReducer:lh,useRef:eg,useState:function(){return lh(Ga)},useDebugValue:dh,useDeferredValue:function(i){var o=Cn();return lg(o,vt.memoizedState,i)},useTransition:function(){var i=lh(Ga)[0],o=Cn().memoizedState;return[i,o]},useMutableSource:qm,useSyncExternalStore:Wm,useId:ug,unstable_isNewReconciler:!1},KE={readContext:En,useCallback:og,useContext:En,useEffect:ch,useImperativeHandle:sg,useInsertionEffect:ng,useLayoutEffect:rg,useMemo:ag,useReducer:uh,useRef:eg,useState:function(){return uh(Ga)},useDebugValue:dh,useDeferredValue:function(i){var o=Cn();return vt===null?o.memoizedState=i:lg(o,vt.memoizedState,i)},useTransition:function(){var i=uh(Ga)[0],o=Cn().memoizedState;return[i,o]},useMutableSource:qm,useSyncExternalStore:Wm,useId:ug,unstable_isNewReconciler:!1};function jn(i,o){if(i&&i.defaultProps){o=oe({},o),i=i.defaultProps;for(var l in i)o[l]===void 0&&(o[l]=i[l]);return o}return o}function hh(i,o,l,d){o=i.memoizedState,l=l(d,o),l=l==null?o:oe({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Du={isMounted:function(i){return(i=i._reactInternals)?Rn(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var d=Kt(),m=Ei(i),v=Dr(d,m);v.payload=o,l!=null&&(v.callback=l),o=vi(i,v,m),o!==null&&(Un(o,i,m,d),Iu(o,i,m))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var d=Kt(),m=Ei(i),v=Dr(d,m);v.tag=1,v.payload=o,l!=null&&(v.callback=l),o=vi(i,v,m),o!==null&&(Un(o,i,m,d),Iu(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=Kt(),d=Ei(i),m=Dr(l,d);m.tag=2,o!=null&&(m.callback=o),o=vi(i,m,d),o!==null&&(Un(o,i,d,l),Iu(o,i,d))}};function fg(i,o,l,d,m,v,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,v,S):o.prototype&&o.prototype.isPureReactComponent?!Na(l,d)||!Na(m,v):!0}function pg(i,o,l){var d=!1,m=pi,v=o.contextType;return typeof v=="object"&&v!==null?v=En(v):(m=Zt(o)?ls:Ot.current,d=o.contextTypes,v=(d=d!=null)?go(i,m):pi),o=new o(l,v),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Du,i.stateNode=o,o._reactInternals=i,d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=v),o}function mg(i,o,l,d){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,d),o.state!==i&&Du.enqueueReplaceState(o,o.state,null)}function fh(i,o,l,d){var m=i.stateNode;m.props=l,m.state=i.memoizedState,m.refs={},Zd(i);var v=o.contextType;typeof v=="object"&&v!==null?m.context=En(v):(v=Zt(o)?ls:Ot.current,m.context=go(i,v)),m.state=i.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(hh(i,o,v,l),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Du.enqueueReplaceState(m,m.state,null),Au(i,l,m,d),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function So(i,o){try{var l="",d=o;do l+=Ne(d),d=d.return;while(d);var m=l}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:o,stack:m,digest:null}}function ph(i,o,l){return{value:i,source:null,stack:l??null,digest:o??null}}function mh(i,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var QE=typeof WeakMap=="function"?WeakMap:Map;function gg(i,o,l){l=Dr(-1,l),l.tag=3,l.payload={element:null};var d=o.value;return l.callback=function(){Bu||(Bu=!0,kh=d),mh(i,o)},l}function vg(i,o,l){l=Dr(-1,l),l.tag=3;var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;l.payload=function(){return d(m)},l.callback=function(){mh(i,o)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){mh(i,o),typeof d!="function"&&(_i===null?_i=new Set([this]):_i.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})}),l}function yg(i,o,l){var d=i.pingCache;if(d===null){d=i.pingCache=new QE;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(l)||(m.add(l),i=uC.bind(null,i,o,l),o.then(i,i))}function _g(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function wg(i,o,l,d,m){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=Dr(-1,1),o.tag=2,vi(l,o,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var YE=$.ReactCurrentOwner,en=!1;function Wt(i,o,l,d){o.child=i===null?Bm(o,null,l,d):wo(o,i.child,l,d)}function Eg(i,o,l,d,m){l=l.render;var v=o.ref;return Co(o,m),d=oh(i,o,l,d,v,m),l=ah(),i!==null&&!en?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Mr(i,o,m)):(et&&l&&$d(o),o.flags|=1,Wt(i,o,d,m),o.child)}function Cg(i,o,l,d,m){if(i===null){var v=l.type;return typeof v=="function"&&!Oh(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=v,Tg(i,o,v,d,m)):(i=qu(l.type,null,d,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(v=i.child,(i.lanes&m)===0){var S=v.memoizedProps;if(l=l.compare,l=l!==null?l:Na,l(S,d)&&i.ref===o.ref)return Mr(i,o,m)}return o.flags|=1,i=Ti(v,d),i.ref=o.ref,i.return=o,o.child=i}function Tg(i,o,l,d,m){if(i!==null){var v=i.memoizedProps;if(Na(v,d)&&i.ref===o.ref)if(en=!1,o.pendingProps=d=v,(i.lanes&m)!==0)(i.flags&131072)!==0&&(en=!0);else return o.lanes=i.lanes,Mr(i,o,m)}return gh(i,o,l,d,m)}function Sg(i,o,l){var d=o.pendingProps,m=d.children,v=i!==null?i.memoizedState:null;if(d.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(Ao,fn),fn|=l;else{if((l&1073741824)===0)return i=v!==null?v.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Qe(Ao,fn),fn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:l,Qe(Ao,fn),fn|=d}else v!==null?(d=v.baseLanes|l,o.memoizedState=null):d=l,Qe(Ao,fn),fn|=d;return Wt(i,o,m,l),o.child}function Ig(i,o){var l=o.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function gh(i,o,l,d,m){var v=Zt(l)?ls:Ot.current;return v=go(o,v),Co(o,m),l=oh(i,o,l,d,v,m),d=ah(),i!==null&&!en?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Mr(i,o,m)):(et&&d&&$d(o),o.flags|=1,Wt(i,o,l,m),o.child)}function Ag(i,o,l,d,m){if(Zt(l)){var v=!0;vu(o)}else v=!1;if(Co(o,m),o.stateNode===null)Vu(i,o),pg(o,l,d),fh(o,l,d,m),d=!0;else if(i===null){var S=o.stateNode,F=o.memoizedProps;S.props=F;var B=S.context,Y=l.contextType;typeof Y=="object"&&Y!==null?Y=En(Y):(Y=Zt(l)?ls:Ot.current,Y=go(o,Y));var re=l.getDerivedStateFromProps,se=typeof re=="function"||typeof S.getSnapshotBeforeUpdate=="function";se||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(F!==d||B!==Y)&&mg(o,S,d,Y),gi=!1;var ne=o.memoizedState;S.state=ne,Au(o,d,S,m),B=o.memoizedState,F!==d||ne!==B||Jt.current||gi?(typeof re=="function"&&(hh(o,l,re,d),B=o.memoizedState),(F=gi||fg(o,l,F,d,ne,B,Y))?(se||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=B),S.props=d,S.state=B,S.context=Y,d=F):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{S=o.stateNode,zm(i,o),F=o.memoizedProps,Y=o.type===o.elementType?F:jn(o.type,F),S.props=Y,se=o.pendingProps,ne=S.context,B=l.contextType,typeof B=="object"&&B!==null?B=En(B):(B=Zt(l)?ls:Ot.current,B=go(o,B));var fe=l.getDerivedStateFromProps;(re=typeof fe=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(F!==se||ne!==B)&&mg(o,S,d,B),gi=!1,ne=o.memoizedState,S.state=ne,Au(o,d,S,m);var ve=o.memoizedState;F!==se||ne!==ve||Jt.current||gi?(typeof fe=="function"&&(hh(o,l,fe,d),ve=o.memoizedState),(Y=gi||fg(o,l,Y,d,ne,ve,B)||!1)?(re||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(d,ve,B),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(d,ve,B)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||F===i.memoizedProps&&ne===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||F===i.memoizedProps&&ne===i.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=ve),S.props=d,S.state=ve,S.context=B,d=Y):(typeof S.componentDidUpdate!="function"||F===i.memoizedProps&&ne===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||F===i.memoizedProps&&ne===i.memoizedState||(o.flags|=1024),d=!1)}return vh(i,o,l,d,v,m)}function vh(i,o,l,d,m,v){Ig(i,o);var S=(o.flags&128)!==0;if(!d&&!S)return m&&Nm(o,l,!1),Mr(i,o,v);d=o.stateNode,YE.current=o;var F=S&&typeof l.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,i!==null&&S?(o.child=wo(o,i.child,null,v),o.child=wo(o,null,F,v)):Wt(i,o,F,v),o.memoizedState=d.state,m&&Nm(o,l,!0),o.child}function xg(i){var o=i.stateNode;o.pendingContext?Rm(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Rm(i,o.context,!1),eh(i,o.containerInfo)}function Pg(i,o,l,d,m){return _o(),Wd(m),o.flags|=256,Wt(i,o,l,d),o.child}var yh={dehydrated:null,treeContext:null,retryLane:0};function _h(i){return{baseLanes:i,cachePool:null,transitions:null}}function Rg(i,o,l){var d=o.pendingProps,m=tt.current,v=!1,S=(o.flags&128)!==0,F;if((F=S)||(F=i!==null&&i.memoizedState===null?!1:(m&2)!==0),F?(v=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),Qe(tt,m&1),i===null)return qd(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(S=d.children,i=d.fallback,v?(d=o.mode,v=o.child,S={mode:"hidden",children:S},(d&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=S):v=Wu(S,d,0,null),i=ys(i,d,l,null),v.return=o,i.return=o,v.sibling=i,o.child=v,o.child.memoizedState=_h(l),o.memoizedState=yh,i):wh(o,S));if(m=i.memoizedState,m!==null&&(F=m.dehydrated,F!==null))return XE(i,o,S,d,F,m,l);if(v){v=d.fallback,S=o.mode,m=i.child,F=m.sibling;var B={mode:"hidden",children:d.children};return(S&1)===0&&o.child!==m?(d=o.child,d.childLanes=0,d.pendingProps=B,o.deletions=null):(d=Ti(m,B),d.subtreeFlags=m.subtreeFlags&14680064),F!==null?v=Ti(F,v):(v=ys(v,S,l,null),v.flags|=2),v.return=o,d.return=o,d.sibling=v,o.child=d,d=v,v=o.child,S=i.child.memoizedState,S=S===null?_h(l):{baseLanes:S.baseLanes|l,cachePool:null,transitions:S.transitions},v.memoizedState=S,v.childLanes=i.childLanes&~l,o.memoizedState=yh,d}return v=i.child,i=v.sibling,d=Ti(v,{mode:"visible",children:d.children}),(o.mode&1)===0&&(d.lanes=l),d.return=o,d.sibling=null,i!==null&&(l=o.deletions,l===null?(o.deletions=[i],o.flags|=16):l.push(i)),o.child=d,o.memoizedState=null,d}function wh(i,o){return o=Wu({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Mu(i,o,l,d){return d!==null&&Wd(d),wo(o,i.child,null,l),i=wh(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function XE(i,o,l,d,m,v,S){if(l)return o.flags&256?(o.flags&=-257,d=ph(Error(t(422))),Mu(i,o,S,d)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(v=d.fallback,m=o.mode,d=Wu({mode:"visible",children:d.children},m,0,null),v=ys(v,m,S,null),v.flags|=2,d.return=o,v.return=o,d.sibling=v,o.child=d,(o.mode&1)!==0&&wo(o,i.child,null,S),o.child.memoizedState=_h(S),o.memoizedState=yh,v);if((o.mode&1)===0)return Mu(i,o,S,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var F=d.dgst;return d=F,v=Error(t(419)),d=ph(v,d,void 0),Mu(i,o,S,d)}if(F=(S&i.childLanes)!==0,en||F){if(d=It,d!==null){switch(S&-S){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|S))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,br(i,m),Un(d,i,m,-1))}return Lh(),d=ph(Error(t(421))),Mu(i,o,S,d)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=cC.bind(null,i),m._reactRetry=o,null):(i=v.treeContext,hn=hi(m.nextSibling),dn=o,et=!0,On=null,i!==null&&(_n[wn++]=kr,_n[wn++]=Nr,_n[wn++]=us,kr=i.id,Nr=i.overflow,us=o),o=wh(o,d.children),o.flags|=4096,o)}function kg(i,o,l){i.lanes|=o;var d=i.alternate;d!==null&&(d.lanes|=o),Xd(i.return,o,l)}function Eh(i,o,l,d,m){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=l,v.tailMode=m)}function Ng(i,o,l){var d=o.pendingProps,m=d.revealOrder,v=d.tail;if(Wt(i,o,d.children,l),d=tt.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&kg(i,l,o);else if(i.tag===19)kg(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}if(Qe(tt,d),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(l=o.child,m=null;l!==null;)i=l.alternate,i!==null&&xu(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),Eh(o,!1,m,l,v);break;case"backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&xu(i)===null){o.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}Eh(o,!0,l,null,v);break;case"together":Eh(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Vu(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Mr(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),ps|=o.lanes,(l&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,l=Ti(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=Ti(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function JE(i,o,l){switch(o.tag){case 3:xg(o),_o();break;case 5:Hm(o);break;case 1:Zt(o.type)&&vu(o);break;case 4:eh(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,m=o.memoizedProps.value;Qe(Tu,d._currentValue),d._currentValue=m;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(Qe(tt,tt.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?Rg(i,o,l):(Qe(tt,tt.current&1),i=Mr(i,o,l),i!==null?i.sibling:null);Qe(tt,tt.current&1);break;case 19:if(d=(l&o.childLanes)!==0,(i.flags&128)!==0){if(d)return Ng(i,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Qe(tt,tt.current),d)break;return null;case 22:case 23:return o.lanes=0,Sg(i,o,l)}return Mr(i,o,l)}var bg,Ch,Dg,Mg;bg=function(i,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Ch=function(){},Dg=function(i,o,l,d){var m=i.memoizedProps;if(m!==d){i=o.stateNode,hs(rr.current);var v=null;switch(l){case"input":m=Hi(i,m),d=Hi(i,d),v=[];break;case"select":m=oe({},m,{value:void 0}),d=oe({},d,{value:void 0}),v=[];break;case"textarea":m=oa(i,m),d=oa(i,d),v=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(i.onclick=pu)}ha(l,d);var S;l=null;for(Y in m)if(!d.hasOwnProperty(Y)&&m.hasOwnProperty(Y)&&m[Y]!=null)if(Y==="style"){var F=m[Y];for(S in F)F.hasOwnProperty(S)&&(l||(l={}),l[S]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(s.hasOwnProperty(Y)?v||(v=[]):(v=v||[]).push(Y,null));for(Y in d){var B=d[Y];if(F=m!=null?m[Y]:void 0,d.hasOwnProperty(Y)&&B!==F&&(B!=null||F!=null))if(Y==="style")if(F){for(S in F)!F.hasOwnProperty(S)||B&&B.hasOwnProperty(S)||(l||(l={}),l[S]="");for(S in B)B.hasOwnProperty(S)&&F[S]!==B[S]&&(l||(l={}),l[S]=B[S])}else l||(v||(v=[]),v.push(Y,l)),l=B;else Y==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,F=F?F.__html:void 0,B!=null&&F!==B&&(v=v||[]).push(Y,B)):Y==="children"?typeof B!="string"&&typeof B!="number"||(v=v||[]).push(Y,""+B):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(s.hasOwnProperty(Y)?(B!=null&&Y==="onScroll"&&Xe("scroll",i),v||F===B||(v=[])):(v=v||[]).push(Y,B))}l&&(v=v||[]).push("style",l);var Y=v;(o.updateQueue=Y)&&(o.flags|=4)}},Mg=function(i,o,l,d){l!==d&&(o.flags|=4)};function qa(i,o){if(!et)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function Ft(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,d=0;if(o)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=d,i.childLanes=l,o}function ZE(i,o,l){var d=o.pendingProps;switch(Gd(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(o),null;case 1:return Zt(o.type)&&gu(),Ft(o),null;case 3:return d=o.stateNode,To(),Je(Jt),Je(Ot),rh(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(Eu(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,On!==null&&(Dh(On),On=null))),Ch(i,o),Ft(o),null;case 5:th(o);var m=hs(Ua.current);if(l=o.type,i!==null&&o.stateNode!=null)Dg(i,o,l,d,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(t(166));return Ft(o),null}if(i=hs(rr.current),Eu(o)){d=o.stateNode,l=o.type;var v=o.memoizedProps;switch(d[nr]=o,d[La]=v,i=(o.mode&1)!==0,l){case"dialog":Xe("cancel",d),Xe("close",d);break;case"iframe":case"object":case"embed":Xe("load",d);break;case"video":case"audio":for(m=0;m<Da.length;m++)Xe(Da[m],d);break;case"source":Xe("error",d);break;case"img":case"image":case"link":Xe("error",d),Xe("load",d);break;case"details":Xe("toggle",d);break;case"input":Os(d,v),Xe("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},Xe("invalid",d);break;case"textarea":Fs(d,v),Xe("invalid",d)}ha(l,v),m=null;for(var S in v)if(v.hasOwnProperty(S)){var F=v[S];S==="children"?typeof F=="string"?d.textContent!==F&&(v.suppressHydrationWarning!==!0&&fu(d.textContent,F,i),m=["children",F]):typeof F=="number"&&d.textContent!==""+F&&(v.suppressHydrationWarning!==!0&&fu(d.textContent,F,i),m=["children",""+F]):s.hasOwnProperty(S)&&F!=null&&S==="onScroll"&&Xe("scroll",d)}switch(l){case"input":yr(d),Fl(d,v,!0);break;case"textarea":yr(d),aa(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=pu)}d=m,o.updateQueue=d,d!==null&&(o.flags|=4)}else{S=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=pt(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=S.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof d.is=="string"?i=S.createElement(l,{is:d.is}):(i=S.createElement(l),l==="select"&&(S=i,d.multiple?S.multiple=!0:d.size&&(S.size=d.size))):i=S.createElementNS(i,l),i[nr]=o,i[La]=d,bg(i,o,!1,!1),o.stateNode=i;e:{switch(S=fa(l,d),l){case"dialog":Xe("cancel",i),Xe("close",i),m=d;break;case"iframe":case"object":case"embed":Xe("load",i),m=d;break;case"video":case"audio":for(m=0;m<Da.length;m++)Xe(Da[m],i);m=d;break;case"source":Xe("error",i),m=d;break;case"img":case"image":case"link":Xe("error",i),Xe("load",i),m=d;break;case"details":Xe("toggle",i),m=d;break;case"input":Os(i,d),m=Hi(i,d),Xe("invalid",i);break;case"option":m=d;break;case"select":i._wrapperState={wasMultiple:!!d.multiple},m=oe({},d,{value:void 0}),Xe("invalid",i);break;case"textarea":Fs(i,d),m=oa(i,d),Xe("invalid",i);break;default:m=d}ha(l,m),F=m;for(v in F)if(F.hasOwnProperty(v)){var B=F[v];v==="style"?ca(i,B):v==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&la(i,B)):v==="children"?typeof B=="string"?(l!=="textarea"||B!=="")&&ti(i,B):typeof B=="number"&&ti(i,""+B):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?B!=null&&v==="onScroll"&&Xe("scroll",i):B!=null&&L(i,v,B,S))}switch(l){case"input":yr(i),Fl(i,d,!1);break;case"textarea":yr(i),aa(i);break;case"option":d.value!=null&&i.setAttribute("value",""+$e(d.value));break;case"select":i.multiple=!!d.multiple,v=d.value,v!=null?wr(i,!!d.multiple,v,!1):d.defaultValue!=null&&wr(i,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=pu)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Ft(o),null;case 6:if(i&&o.stateNode!=null)Mg(i,o,i.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(t(166));if(l=hs(Ua.current),hs(rr.current),Eu(o)){if(d=o.stateNode,l=o.memoizedProps,d[nr]=o,(v=d.nodeValue!==l)&&(i=dn,i!==null))switch(i.tag){case 3:fu(d.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&fu(d.nodeValue,l,(i.mode&1)!==0)}v&&(o.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[nr]=o,o.stateNode=d}return Ft(o),null;case 13:if(Je(tt),d=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(et&&hn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Om(),_o(),o.flags|=98560,v=!1;else if(v=Eu(o),d!==null&&d.dehydrated!==null){if(i===null){if(!v)throw Error(t(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[nr]=o}else _o(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ft(o),v=!1}else On!==null&&(Dh(On),On=null),v=!0;if(!v)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(d=d!==null,d!==(i!==null&&i.memoizedState!==null)&&d&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(tt.current&1)!==0?yt===0&&(yt=3):Lh())),o.updateQueue!==null&&(o.flags|=4),Ft(o),null);case 4:return To(),Ch(i,o),i===null&&Ma(o.stateNode.containerInfo),Ft(o),null;case 10:return Yd(o.type._context),Ft(o),null;case 17:return Zt(o.type)&&gu(),Ft(o),null;case 19:if(Je(tt),v=o.memoizedState,v===null)return Ft(o),null;if(d=(o.flags&128)!==0,S=v.rendering,S===null)if(d)qa(v,!1);else{if(yt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(S=xu(i),S!==null){for(o.flags|=128,qa(v,!1),d=S.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=l,l=o.child;l!==null;)v=l,i=d,v.flags&=14680066,S=v.alternate,S===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=S.childLanes,v.lanes=S.lanes,v.child=S.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=S.memoizedProps,v.memoizedState=S.memoizedState,v.updateQueue=S.updateQueue,v.type=S.type,i=S.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return Qe(tt,tt.current&1|2),o.child}i=i.sibling}v.tail!==null&&Ke()>xo&&(o.flags|=128,d=!0,qa(v,!1),o.lanes=4194304)}else{if(!d)if(i=xu(S),i!==null){if(o.flags|=128,d=!0,l=i.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),qa(v,!0),v.tail===null&&v.tailMode==="hidden"&&!S.alternate&&!et)return Ft(o),null}else 2*Ke()-v.renderingStartTime>xo&&l!==1073741824&&(o.flags|=128,d=!0,qa(v,!1),o.lanes=4194304);v.isBackwards?(S.sibling=o.child,o.child=S):(l=v.last,l!==null?l.sibling=S:o.child=S,v.last=S)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=Ke(),o.sibling=null,l=tt.current,Qe(tt,d?l&1|2:l&1),o):(Ft(o),null);case 22:case 23:return Vh(),d=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==d&&(o.flags|=8192),d&&(o.mode&1)!==0?(fn&1073741824)!==0&&(Ft(o),o.subtreeFlags&6&&(o.flags|=8192)):Ft(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function eC(i,o){switch(Gd(o),o.tag){case 1:return Zt(o.type)&&gu(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return To(),Je(Jt),Je(Ot),rh(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return th(o),null;case 13:if(Je(tt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));_o()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Je(tt),null;case 4:return To(),null;case 10:return Yd(o.type._context),null;case 22:case 23:return Vh(),null;case 24:return null;default:return null}}var Lu=!1,Bt=!1,tC=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Io(i,o){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){st(i,o,d)}else l.current=null}function Th(i,o,l){try{l()}catch(d){st(i,o,d)}}var Vg=!1;function nC(i,o){if(Vd=ui,i=fm(),xd(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var m=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var S=0,F=-1,B=-1,Y=0,re=0,se=i,ne=null;t:for(;;){for(var fe;se!==l||m!==0&&se.nodeType!==3||(F=S+m),se!==v||d!==0&&se.nodeType!==3||(B=S+d),se.nodeType===3&&(S+=se.nodeValue.length),(fe=se.firstChild)!==null;)ne=se,se=fe;for(;;){if(se===i)break t;if(ne===l&&++Y===m&&(F=S),ne===v&&++re===d&&(B=S),(fe=se.nextSibling)!==null)break;se=ne,ne=se.parentNode}se=fe}l=F===-1||B===-1?null:{start:F,end:B}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ld={focusedElem:i,selectionRange:l},ui=!1,ge=o;ge!==null;)if(o=ge,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,ge=i;else for(;ge!==null;){o=ge;try{var ve=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var ye=ve.memoizedProps,at=ve.memoizedState,q=o.stateNode,z=q.getSnapshotBeforeUpdate(o.elementType===o.type?ye:jn(o.type,ye),at);q.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var W=o.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ue){st(o,o.return,ue)}if(i=o.sibling,i!==null){i.return=o.return,ge=i;break}ge=o.return}return ve=Vg,Vg=!1,ve}function Wa(i,o,l){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&i)===i){var v=m.destroy;m.destroy=void 0,v!==void 0&&Th(o,l,v)}m=m.next}while(m!==d)}}function Ou(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&i)===i){var d=l.create;l.destroy=d()}l=l.next}while(l!==o)}}function Sh(i){var o=i.ref;if(o!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof o=="function"?o(i):o.current=i}}function Lg(i){var o=i.alternate;o!==null&&(i.alternate=null,Lg(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[nr],delete o[La],delete o[Bd],delete o[jE],delete o[FE])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Og(i){return i.tag===5||i.tag===3||i.tag===4}function jg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Og(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ih(i,o,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=pu));else if(d!==4&&(i=i.child,i!==null))for(Ih(i,o,l),i=i.sibling;i!==null;)Ih(i,o,l),i=i.sibling}function Ah(i,o,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(d!==4&&(i=i.child,i!==null))for(Ah(i,o,l),i=i.sibling;i!==null;)Ah(i,o,l),i=i.sibling}var Nt=null,Fn=!1;function yi(i,o,l){for(l=l.child;l!==null;)Fg(i,o,l),l=l.sibling}function Fg(i,o,l){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(es,l)}catch{}switch(l.tag){case 5:Bt||Io(l,o);case 6:var d=Nt,m=Fn;Nt=null,yi(i,o,l),Nt=d,Fn=m,Nt!==null&&(Fn?(i=Nt,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Nt.removeChild(l.stateNode));break;case 18:Nt!==null&&(Fn?(i=Nt,l=l.stateNode,i.nodeType===8?Fd(i.parentNode,l):i.nodeType===1&&Fd(i,l),Mn(i)):Fd(Nt,l.stateNode));break;case 4:d=Nt,m=Fn,Nt=l.stateNode.containerInfo,Fn=!0,yi(i,o,l),Nt=d,Fn=m;break;case 0:case 11:case 14:case 15:if(!Bt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var v=m,S=v.destroy;v=v.tag,S!==void 0&&((v&2)!==0||(v&4)!==0)&&Th(l,o,S),m=m.next}while(m!==d)}yi(i,o,l);break;case 1:if(!Bt&&(Io(l,o),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(F){st(l,o,F)}yi(i,o,l);break;case 21:yi(i,o,l);break;case 22:l.mode&1?(Bt=(d=Bt)||l.memoizedState!==null,yi(i,o,l),Bt=d):yi(i,o,l);break;default:yi(i,o,l)}}function Bg(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new tC),o.forEach(function(d){var m=dC.bind(null,i,d);l.has(d)||(l.add(d),d.then(m,m))})}}function Bn(i,o){var l=o.deletions;if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];try{var v=i,S=o,F=S;e:for(;F!==null;){switch(F.tag){case 5:Nt=F.stateNode,Fn=!1;break e;case 3:Nt=F.stateNode.containerInfo,Fn=!0;break e;case 4:Nt=F.stateNode.containerInfo,Fn=!0;break e}F=F.return}if(Nt===null)throw Error(t(160));Fg(v,S,m),Nt=null,Fn=!1;var B=m.alternate;B!==null&&(B.return=null),m.return=null}catch(Y){st(m,o,Y)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Ug(o,i),o=o.sibling}function Ug(i,o){var l=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Bn(o,i),sr(i),d&4){try{Wa(3,i,i.return),Ou(3,i)}catch(ye){st(i,i.return,ye)}try{Wa(5,i,i.return)}catch(ye){st(i,i.return,ye)}}break;case 1:Bn(o,i),sr(i),d&512&&l!==null&&Io(l,l.return);break;case 5:if(Bn(o,i),sr(i),d&512&&l!==null&&Io(l,l.return),i.flags&32){var m=i.stateNode;try{ti(m,"")}catch(ye){st(i,i.return,ye)}}if(d&4&&(m=i.stateNode,m!=null)){var v=i.memoizedProps,S=l!==null?l.memoizedProps:v,F=i.type,B=i.updateQueue;if(i.updateQueue=null,B!==null)try{F==="input"&&v.type==="radio"&&v.name!=null&&ia(m,v),fa(F,S);var Y=fa(F,v);for(S=0;S<B.length;S+=2){var re=B[S],se=B[S+1];re==="style"?ca(m,se):re==="dangerouslySetInnerHTML"?la(m,se):re==="children"?ti(m,se):L(m,re,se,Y)}switch(F){case"input":sa(m,v);break;case"textarea":Bs(m,v);break;case"select":var ne=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var fe=v.value;fe!=null?wr(m,!!v.multiple,fe,!1):ne!==!!v.multiple&&(v.defaultValue!=null?wr(m,!!v.multiple,v.defaultValue,!0):wr(m,!!v.multiple,v.multiple?[]:"",!1))}m[La]=v}catch(ye){st(i,i.return,ye)}}break;case 6:if(Bn(o,i),sr(i),d&4){if(i.stateNode===null)throw Error(t(162));m=i.stateNode,v=i.memoizedProps;try{m.nodeValue=v}catch(ye){st(i,i.return,ye)}}break;case 3:if(Bn(o,i),sr(i),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Mn(o.containerInfo)}catch(ye){st(i,i.return,ye)}break;case 4:Bn(o,i),sr(i);break;case 13:Bn(o,i),sr(i),m=i.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(Rh=Ke())),d&4&&Bg(i);break;case 22:if(re=l!==null&&l.memoizedState!==null,i.mode&1?(Bt=(Y=Bt)||re,Bn(o,i),Bt=Y):Bn(o,i),sr(i),d&8192){if(Y=i.memoizedState!==null,(i.stateNode.isHidden=Y)&&!re&&(i.mode&1)!==0)for(ge=i,re=i.child;re!==null;){for(se=ge=re;ge!==null;){switch(ne=ge,fe=ne.child,ne.tag){case 0:case 11:case 14:case 15:Wa(4,ne,ne.return);break;case 1:Io(ne,ne.return);var ve=ne.stateNode;if(typeof ve.componentWillUnmount=="function"){d=ne,l=ne.return;try{o=d,ve.props=o.memoizedProps,ve.state=o.memoizedState,ve.componentWillUnmount()}catch(ye){st(d,l,ye)}}break;case 5:Io(ne,ne.return);break;case 22:if(ne.memoizedState!==null){Gg(se);continue}}fe!==null?(fe.return=ne,ge=fe):Gg(se)}re=re.sibling}e:for(re=null,se=i;;){if(se.tag===5){if(re===null){re=se;try{m=se.stateNode,Y?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(F=se.stateNode,B=se.memoizedProps.style,S=B!=null&&B.hasOwnProperty("display")?B.display:null,F.style.display=ua("display",S))}catch(ye){st(i,i.return,ye)}}}else if(se.tag===6){if(re===null)try{se.stateNode.nodeValue=Y?"":se.memoizedProps}catch(ye){st(i,i.return,ye)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===i)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===i)break e;for(;se.sibling===null;){if(se.return===null||se.return===i)break e;re===se&&(re=null),se=se.return}re===se&&(re=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:Bn(o,i),sr(i),d&4&&Bg(i);break;case 21:break;default:Bn(o,i),sr(i)}}function sr(i){var o=i.flags;if(o&2){try{e:{for(var l=i.return;l!==null;){if(Og(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(ti(m,""),d.flags&=-33);var v=jg(i);Ah(i,v,m);break;case 3:case 4:var S=d.stateNode.containerInfo,F=jg(i);Ih(i,F,S);break;default:throw Error(t(161))}}catch(B){st(i,i.return,B)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function rC(i,o,l){ge=i,zg(i)}function zg(i,o,l){for(var d=(i.mode&1)!==0;ge!==null;){var m=ge,v=m.child;if(m.tag===22&&d){var S=m.memoizedState!==null||Lu;if(!S){var F=m.alternate,B=F!==null&&F.memoizedState!==null||Bt;F=Lu;var Y=Bt;if(Lu=S,(Bt=B)&&!Y)for(ge=m;ge!==null;)S=ge,B=S.child,S.tag===22&&S.memoizedState!==null?Hg(m):B!==null?(B.return=S,ge=B):Hg(m);for(;v!==null;)ge=v,zg(v),v=v.sibling;ge=m,Lu=F,Bt=Y}$g(i)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,ge=v):$g(i)}}function $g(i){for(;ge!==null;){var o=ge;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Bt||Ou(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!Bt)if(l===null)d.componentDidMount();else{var m=o.elementType===o.type?l.memoizedProps:jn(o.type,l.memoizedProps);d.componentDidUpdate(m,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&Gm(o,v,d);break;case 3:var S=o.updateQueue;if(S!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}Gm(o,S,l)}break;case 5:var F=o.stateNode;if(l===null&&o.flags&4){l=F;var B=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&l.focus();break;case"img":B.src&&(l.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Y=o.alternate;if(Y!==null){var re=Y.memoizedState;if(re!==null){var se=re.dehydrated;se!==null&&Mn(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Bt||o.flags&512&&Sh(o)}catch(ne){st(o,o.return,ne)}}if(o===i){ge=null;break}if(l=o.sibling,l!==null){l.return=o.return,ge=l;break}ge=o.return}}function Gg(i){for(;ge!==null;){var o=ge;if(o===i){ge=null;break}var l=o.sibling;if(l!==null){l.return=o.return,ge=l;break}ge=o.return}}function Hg(i){for(;ge!==null;){var o=ge;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{Ou(4,o)}catch(B){st(o,l,B)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var m=o.return;try{d.componentDidMount()}catch(B){st(o,m,B)}}var v=o.return;try{Sh(o)}catch(B){st(o,v,B)}break;case 5:var S=o.return;try{Sh(o)}catch(B){st(o,S,B)}}}catch(B){st(o,o.return,B)}if(o===i){ge=null;break}var F=o.sibling;if(F!==null){F.return=o.return,ge=F;break}ge=o.return}}var iC=Math.ceil,ju=$.ReactCurrentDispatcher,xh=$.ReactCurrentOwner,Tn=$.ReactCurrentBatchConfig,Be=0,It=null,ct=null,bt=0,fn=0,Ao=fi(0),yt=0,Ka=null,ps=0,Fu=0,Ph=0,Qa=null,tn=null,Rh=0,xo=1/0,Vr=null,Bu=!1,kh=null,_i=null,Uu=!1,wi=null,zu=0,Ya=0,Nh=null,$u=-1,Gu=0;function Kt(){return(Be&6)!==0?Ke():$u!==-1?$u:$u=Ke()}function Ei(i){return(i.mode&1)===0?1:(Be&2)!==0&&bt!==0?bt&-bt:UE.transition!==null?(Gu===0&&(Gu=ns()),Gu):(i=Ve,i!==0||(i=window.event,i=i===void 0?16:Sa(i.type)),i)}function Un(i,o,l,d){if(50<Ya)throw Ya=0,Nh=null,Error(t(185));si(i,l,d),((Be&2)===0||i!==It)&&(i===It&&((Be&2)===0&&(Fu|=l),yt===4&&Ci(i,bt)),nn(i,d),l===1&&Be===0&&(o.mode&1)===0&&(xo=Ke()+500,yu&&mi()))}function nn(i,o){var l=i.callbackNode;Tr(i,o);var d=ts(i,i===It?bt:0);if(d===0)l!==null&&_a(l),i.callbackNode=null,i.callbackPriority=0;else if(o=d&-d,i.callbackPriority!==o){if(l!=null&&_a(l),o===1)i.tag===0?BE(Wg.bind(null,i)):bm(Wg.bind(null,i)),LE(function(){(Be&6)===0&&mi()}),l=null;else{switch(ai(d)){case 1:l=Zi;break;case 4:l=ni;break;case 16:l=gn;break;case 536870912:l=Gl;break;default:l=gn}l=tv(l,qg.bind(null,i))}i.callbackPriority=o,i.callbackNode=l}}function qg(i,o){if($u=-1,Gu=0,(Be&6)!==0)throw Error(t(327));var l=i.callbackNode;if(Po()&&i.callbackNode!==l)return null;var d=ts(i,i===It?bt:0);if(d===0)return null;if((d&30)!==0||(d&i.expiredLanes)!==0||o)o=Hu(i,d);else{o=d;var m=Be;Be|=2;var v=Qg();(It!==i||bt!==o)&&(Vr=null,xo=Ke()+500,gs(i,o));do try{aC();break}catch(F){Kg(i,F)}while(!0);Qd(),ju.current=v,Be=m,ct!==null?o=0:(It=null,bt=0,o=yt)}if(o!==0){if(o===2&&(m=ln(i),m!==0&&(d=m,o=bh(i,m))),o===1)throw l=Ka,gs(i,0),Ci(i,d),nn(i,Ke()),l;if(o===6)Ci(i,d);else{if(m=i.current.alternate,(d&30)===0&&!sC(m)&&(o=Hu(i,d),o===2&&(v=ln(i),v!==0&&(d=v,o=bh(i,v))),o===1))throw l=Ka,gs(i,0),Ci(i,d),nn(i,Ke()),l;switch(i.finishedWork=m,i.finishedLanes=d,o){case 0:case 1:throw Error(t(345));case 2:vs(i,tn,Vr);break;case 3:if(Ci(i,d),(d&130023424)===d&&(o=Rh+500-Ke(),10<o)){if(ts(i,0)!==0)break;if(m=i.suspendedLanes,(m&d)!==d){Kt(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=jd(vs.bind(null,i,tn,Vr),o);break}vs(i,tn,Vr);break;case 4:if(Ci(i,d),(d&4194240)===d)break;for(o=i.eventTimes,m=-1;0<d;){var S=31-Ht(d);v=1<<S,S=o[S],S>m&&(m=S),d&=~v}if(d=m,d=Ke()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*iC(d/1960))-d,10<d){i.timeoutHandle=jd(vs.bind(null,i,tn,Vr),d);break}vs(i,tn,Vr);break;case 5:vs(i,tn,Vr);break;default:throw Error(t(329))}}}return nn(i,Ke()),i.callbackNode===l?qg.bind(null,i):null}function bh(i,o){var l=Qa;return i.current.memoizedState.isDehydrated&&(gs(i,o).flags|=256),i=Hu(i,o),i!==2&&(o=tn,tn=l,o!==null&&Dh(o)),i}function Dh(i){tn===null?tn=i:tn.push.apply(tn,i)}function sC(i){for(var o=i;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var m=l[d],v=m.getSnapshot;m=m.value;try{if(!Ln(v(),m))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ci(i,o){for(o&=~Ph,o&=~Fu,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var l=31-Ht(o),d=1<<l;i[l]=-1,o&=~d}}function Wg(i){if((Be&6)!==0)throw Error(t(327));Po();var o=ts(i,0);if((o&1)===0)return nn(i,Ke()),null;var l=Hu(i,o);if(i.tag!==0&&l===2){var d=ln(i);d!==0&&(o=d,l=bh(i,d))}if(l===1)throw l=Ka,gs(i,0),Ci(i,o),nn(i,Ke()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,vs(i,tn,Vr),nn(i,Ke()),null}function Mh(i,o){var l=Be;Be|=1;try{return i(o)}finally{Be=l,Be===0&&(xo=Ke()+500,yu&&mi())}}function ms(i){wi!==null&&wi.tag===0&&(Be&6)===0&&Po();var o=Be;Be|=1;var l=Tn.transition,d=Ve;try{if(Tn.transition=null,Ve=1,i)return i()}finally{Ve=d,Tn.transition=l,Be=o,(Be&6)===0&&mi()}}function Vh(){fn=Ao.current,Je(Ao)}function gs(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,VE(l)),ct!==null)for(l=ct.return;l!==null;){var d=l;switch(Gd(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&gu();break;case 3:To(),Je(Jt),Je(Ot),rh();break;case 5:th(d);break;case 4:To();break;case 13:Je(tt);break;case 19:Je(tt);break;case 10:Yd(d.type._context);break;case 22:case 23:Vh()}l=l.return}if(It=i,ct=i=Ti(i.current,null),bt=fn=o,yt=0,Ka=null,Ph=Fu=ps=0,tn=Qa=null,ds!==null){for(o=0;o<ds.length;o++)if(l=ds[o],d=l.interleaved,d!==null){l.interleaved=null;var m=d.next,v=l.pending;if(v!==null){var S=v.next;v.next=m,d.next=S}l.pending=d}ds=null}return i}function Kg(i,o){do{var l=ct;try{if(Qd(),Pu.current=bu,Ru){for(var d=nt.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}Ru=!1}if(fs=0,St=vt=nt=null,za=!1,$a=0,xh.current=null,l===null||l.return===null){yt=1,Ka=o,ct=null;break}e:{var v=i,S=l.return,F=l,B=o;if(o=bt,F.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var Y=B,re=F,se=re.tag;if((re.mode&1)===0&&(se===0||se===11||se===15)){var ne=re.alternate;ne?(re.updateQueue=ne.updateQueue,re.memoizedState=ne.memoizedState,re.lanes=ne.lanes):(re.updateQueue=null,re.memoizedState=null)}var fe=_g(S);if(fe!==null){fe.flags&=-257,wg(fe,S,F,v,o),fe.mode&1&&yg(v,Y,o),o=fe,B=Y;var ve=o.updateQueue;if(ve===null){var ye=new Set;ye.add(B),o.updateQueue=ye}else ve.add(B);break e}else{if((o&1)===0){yg(v,Y,o),Lh();break e}B=Error(t(426))}}else if(et&&F.mode&1){var at=_g(S);if(at!==null){(at.flags&65536)===0&&(at.flags|=256),wg(at,S,F,v,o),Wd(So(B,F));break e}}v=B=So(B,F),yt!==4&&(yt=2),Qa===null?Qa=[v]:Qa.push(v),v=S;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var q=gg(v,B,o);$m(v,q);break e;case 1:F=B;var z=v.type,W=v.stateNode;if((v.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(_i===null||!_i.has(W)))){v.flags|=65536,o&=-o,v.lanes|=o;var ue=vg(v,F,o);$m(v,ue);break e}}v=v.return}while(v!==null)}Xg(l)}catch(_e){o=_e,ct===l&&l!==null&&(ct=l=l.return);continue}break}while(!0)}function Qg(){var i=ju.current;return ju.current=bu,i===null?bu:i}function Lh(){(yt===0||yt===3||yt===2)&&(yt=4),It===null||(ps&268435455)===0&&(Fu&268435455)===0||Ci(It,bt)}function Hu(i,o){var l=Be;Be|=2;var d=Qg();(It!==i||bt!==o)&&(Vr=null,gs(i,o));do try{oC();break}catch(m){Kg(i,m)}while(!0);if(Qd(),Be=l,ju.current=d,ct!==null)throw Error(t(261));return It=null,bt=0,yt}function oC(){for(;ct!==null;)Yg(ct)}function aC(){for(;ct!==null&&!zl();)Yg(ct)}function Yg(i){var o=ev(i.alternate,i,fn);i.memoizedProps=i.pendingProps,o===null?Xg(i):ct=o,xh.current=null}function Xg(i){var o=i;do{var l=o.alternate;if(i=o.return,(o.flags&32768)===0){if(l=ZE(l,o,fn),l!==null){ct=l;return}}else{if(l=eC(l,o),l!==null){l.flags&=32767,ct=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{yt=6,ct=null;return}}if(o=o.sibling,o!==null){ct=o;return}ct=o=i}while(o!==null);yt===0&&(yt=5)}function vs(i,o,l){var d=Ve,m=Tn.transition;try{Tn.transition=null,Ve=1,lC(i,o,l,d)}finally{Tn.transition=m,Ve=d}return null}function lC(i,o,l,d){do Po();while(wi!==null);if((Be&6)!==0)throw Error(t(327));l=i.finishedWork;var m=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var v=l.lanes|l.childLanes;if(qe(i,v),i===It&&(ct=It=null,bt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Uu||(Uu=!0,tv(gn,function(){return Po(),null})),v=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||v){v=Tn.transition,Tn.transition=null;var S=Ve;Ve=1;var F=Be;Be|=4,xh.current=null,nC(i,l),Ug(l,i),PE(Ld),ui=!!Vd,Ld=Vd=null,i.current=l,rC(l),_d(),Be=F,Ve=S,Tn.transition=v}else i.current=l;if(Uu&&(Uu=!1,wi=i,zu=m),v=i.pendingLanes,v===0&&(_i=null),Hl(l.stateNode),nn(i,Ke()),o!==null)for(d=i.onRecoverableError,l=0;l<o.length;l++)m=o[l],d(m.value,{componentStack:m.stack,digest:m.digest});if(Bu)throw Bu=!1,i=kh,kh=null,i;return(zu&1)!==0&&i.tag!==0&&Po(),v=i.pendingLanes,(v&1)!==0?i===Nh?Ya++:(Ya=0,Nh=i):Ya=0,mi(),null}function Po(){if(wi!==null){var i=ai(zu),o=Tn.transition,l=Ve;try{if(Tn.transition=null,Ve=16>i?16:i,wi===null)var d=!1;else{if(i=wi,wi=null,zu=0,(Be&6)!==0)throw Error(t(331));var m=Be;for(Be|=4,ge=i.current;ge!==null;){var v=ge,S=v.child;if((ge.flags&16)!==0){var F=v.deletions;if(F!==null){for(var B=0;B<F.length;B++){var Y=F[B];for(ge=Y;ge!==null;){var re=ge;switch(re.tag){case 0:case 11:case 15:Wa(8,re,v)}var se=re.child;if(se!==null)se.return=re,ge=se;else for(;ge!==null;){re=ge;var ne=re.sibling,fe=re.return;if(Lg(re),re===Y){ge=null;break}if(ne!==null){ne.return=fe,ge=ne;break}ge=fe}}}var ve=v.alternate;if(ve!==null){var ye=ve.child;if(ye!==null){ve.child=null;do{var at=ye.sibling;ye.sibling=null,ye=at}while(ye!==null)}}ge=v}}if((v.subtreeFlags&2064)!==0&&S!==null)S.return=v,ge=S;else e:for(;ge!==null;){if(v=ge,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Wa(9,v,v.return)}var q=v.sibling;if(q!==null){q.return=v.return,ge=q;break e}ge=v.return}}var z=i.current;for(ge=z;ge!==null;){S=ge;var W=S.child;if((S.subtreeFlags&2064)!==0&&W!==null)W.return=S,ge=W;else e:for(S=z;ge!==null;){if(F=ge,(F.flags&2048)!==0)try{switch(F.tag){case 0:case 11:case 15:Ou(9,F)}}catch(_e){st(F,F.return,_e)}if(F===S){ge=null;break e}var ue=F.sibling;if(ue!==null){ue.return=F.return,ge=ue;break e}ge=F.return}}if(Be=m,mi(),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(es,i)}catch{}d=!0}return d}finally{Ve=l,Tn.transition=o}}return!1}function Jg(i,o,l){o=So(l,o),o=gg(i,o,1),i=vi(i,o,1),o=Kt(),i!==null&&(si(i,1,o),nn(i,o))}function st(i,o,l){if(i.tag===3)Jg(i,i,l);else for(;o!==null;){if(o.tag===3){Jg(o,i,l);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(_i===null||!_i.has(d))){i=So(l,i),i=vg(o,i,1),o=vi(o,i,1),i=Kt(),o!==null&&(si(o,1,i),nn(o,i));break}}o=o.return}}function uC(i,o,l){var d=i.pingCache;d!==null&&d.delete(o),o=Kt(),i.pingedLanes|=i.suspendedLanes&l,It===i&&(bt&l)===l&&(yt===4||yt===3&&(bt&130023424)===bt&&500>Ke()-Rh?gs(i,0):Ph|=l),nn(i,o)}function Zg(i,o){o===0&&((i.mode&1)===0?o=1:(o=Ys,Ys<<=1,(Ys&130023424)===0&&(Ys=4194304)));var l=Kt();i=br(i,o),i!==null&&(si(i,o,l),nn(i,l))}function cC(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),Zg(i,l)}function dC(i,o){var l=0;switch(i.tag){case 13:var d=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:d=i.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(o),Zg(i,l)}var ev;ev=function(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps||Jt.current)en=!0;else{if((i.lanes&l)===0&&(o.flags&128)===0)return en=!1,JE(i,o,l);en=(i.flags&131072)!==0}else en=!1,et&&(o.flags&1048576)!==0&&Dm(o,wu,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;Vu(i,o),i=o.pendingProps;var m=go(o,Ot.current);Co(o,l),m=oh(null,o,d,i,m,l);var v=ah();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Zt(d)?(v=!0,vu(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Zd(o),m.updater=Du,o.stateNode=m,m._reactInternals=o,fh(o,d,i,l),o=vh(null,o,d,!0,v,l)):(o.tag=0,et&&v&&$d(o),Wt(null,o,m,l),o=o.child),o;case 16:d=o.elementType;e:{switch(Vu(i,o),i=o.pendingProps,m=d._init,d=m(d._payload),o.type=d,m=o.tag=fC(d),i=jn(d,i),m){case 0:o=gh(null,o,d,i,l);break e;case 1:o=Ag(null,o,d,i,l);break e;case 11:o=Eg(null,o,d,i,l);break e;case 14:o=Cg(null,o,d,jn(d.type,i),l);break e}throw Error(t(306,d,""))}return o;case 0:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:jn(d,m),gh(i,o,d,m,l);case 1:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:jn(d,m),Ag(i,o,d,m,l);case 3:e:{if(xg(o),i===null)throw Error(t(387));d=o.pendingProps,v=o.memoizedState,m=v.element,zm(i,o),Au(o,d,null,l);var S=o.memoizedState;if(d=S.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=So(Error(t(423)),o),o=Pg(i,o,d,l,m);break e}else if(d!==m){m=So(Error(t(424)),o),o=Pg(i,o,d,l,m);break e}else for(hn=hi(o.stateNode.containerInfo.firstChild),dn=o,et=!0,On=null,l=Bm(o,null,d,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(_o(),d===m){o=Mr(i,o,l);break e}Wt(i,o,d,l)}o=o.child}return o;case 5:return Hm(o),i===null&&qd(o),d=o.type,m=o.pendingProps,v=i!==null?i.memoizedProps:null,S=m.children,Od(d,m)?S=null:v!==null&&Od(d,v)&&(o.flags|=32),Ig(i,o),Wt(i,o,S,l),o.child;case 6:return i===null&&qd(o),null;case 13:return Rg(i,o,l);case 4:return eh(o,o.stateNode.containerInfo),d=o.pendingProps,i===null?o.child=wo(o,null,d,l):Wt(i,o,d,l),o.child;case 11:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:jn(d,m),Eg(i,o,d,m,l);case 7:return Wt(i,o,o.pendingProps,l),o.child;case 8:return Wt(i,o,o.pendingProps.children,l),o.child;case 12:return Wt(i,o,o.pendingProps.children,l),o.child;case 10:e:{if(d=o.type._context,m=o.pendingProps,v=o.memoizedProps,S=m.value,Qe(Tu,d._currentValue),d._currentValue=S,v!==null)if(Ln(v.value,S)){if(v.children===m.children&&!Jt.current){o=Mr(i,o,l);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var F=v.dependencies;if(F!==null){S=v.child;for(var B=F.firstContext;B!==null;){if(B.context===d){if(v.tag===1){B=Dr(-1,l&-l),B.tag=2;var Y=v.updateQueue;if(Y!==null){Y=Y.shared;var re=Y.pending;re===null?B.next=B:(B.next=re.next,re.next=B),Y.pending=B}}v.lanes|=l,B=v.alternate,B!==null&&(B.lanes|=l),Xd(v.return,l,o),F.lanes|=l;break}B=B.next}}else if(v.tag===10)S=v.type===o.type?null:v.child;else if(v.tag===18){if(S=v.return,S===null)throw Error(t(341));S.lanes|=l,F=S.alternate,F!==null&&(F.lanes|=l),Xd(S,l,o),S=v.sibling}else S=v.child;if(S!==null)S.return=v;else for(S=v;S!==null;){if(S===o){S=null;break}if(v=S.sibling,v!==null){v.return=S.return,S=v;break}S=S.return}v=S}Wt(i,o,m.children,l),o=o.child}return o;case 9:return m=o.type,d=o.pendingProps.children,Co(o,l),m=En(m),d=d(m),o.flags|=1,Wt(i,o,d,l),o.child;case 14:return d=o.type,m=jn(d,o.pendingProps),m=jn(d.type,m),Cg(i,o,d,m,l);case 15:return Tg(i,o,o.type,o.pendingProps,l);case 17:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:jn(d,m),Vu(i,o),o.tag=1,Zt(d)?(i=!0,vu(o)):i=!1,Co(o,l),pg(o,d,m),fh(o,d,m,l),vh(null,o,d,!0,i,l);case 19:return Ng(i,o,l);case 22:return Sg(i,o,l)}throw Error(t(156,o.tag))};function tv(i,o){return Ks(i,o)}function hC(i,o,l,d){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(i,o,l,d){return new hC(i,o,l,d)}function Oh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function fC(i){if(typeof i=="function")return Oh(i)?1:0;if(i!=null){if(i=i.$$typeof,i===N)return 11;if(i===le)return 14}return 2}function Ti(i,o){var l=i.alternate;return l===null?(l=Sn(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function qu(i,o,l,d,m,v){var S=2;if(d=i,typeof i=="function")Oh(i)&&(S=1);else if(typeof i=="string")S=5;else e:switch(i){case j:return ys(l.children,m,v,o);case P:S=8,m|=8;break;case C:return i=Sn(12,l,o,m|2),i.elementType=C,i.lanes=v,i;case b:return i=Sn(13,l,o,m),i.elementType=b,i.lanes=v,i;case ie:return i=Sn(19,l,o,m),i.elementType=ie,i.lanes=v,i;case me:return Wu(l,m,v,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case I:S=10;break e;case A:S=9;break e;case N:S=11;break e;case le:S=14;break e;case ce:S=16,d=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=Sn(S,l,o,m),o.elementType=i,o.type=d,o.lanes=v,o}function ys(i,o,l,d){return i=Sn(7,i,d,o),i.lanes=l,i}function Wu(i,o,l,d){return i=Sn(22,i,d,o),i.elementType=me,i.lanes=l,i.stateNode={isHidden:!1},i}function jh(i,o,l){return i=Sn(6,i,null,o),i.lanes=l,i}function Fh(i,o,l){return o=Sn(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function pC(i,o,l,d,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ii(0),this.expirationTimes=ii(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Bh(i,o,l,d,m,v,S,F,B){return i=new pC(i,o,l,F,B),o===1?(o=1,v===!0&&(o|=8)):o=0,v=Sn(3,null,null,o),i.current=v,v.stateNode=i,v.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zd(v),i}function mC(i,o,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:d==null?null:""+d,children:i,containerInfo:o,implementation:l}}function nv(i){if(!i)return pi;i=i._reactInternals;e:{if(Rn(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Zt(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(Zt(l))return km(i,l,o)}return o}function rv(i,o,l,d,m,v,S,F,B){return i=Bh(l,d,!0,i,m,v,S,F,B),i.context=nv(null),l=i.current,d=Kt(),m=Ei(l),v=Dr(d,m),v.callback=o??null,vi(l,v,m),i.current.lanes=m,si(i,m,d),nn(i,d),i}function Ku(i,o,l,d){var m=o.current,v=Kt(),S=Ei(m);return l=nv(l),o.context===null?o.context=l:o.pendingContext=l,o=Dr(v,S),o.payload={element:i},d=d===void 0?null:d,d!==null&&(o.callback=d),i=vi(m,o,S),i!==null&&(Un(i,m,S,v),Iu(i,m,S)),S}function Qu(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function iv(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function Uh(i,o){iv(i,o),(i=i.alternate)&&iv(i,o)}function gC(){return null}var sv=typeof reportError=="function"?reportError:function(i){console.error(i)};function zh(i){this._internalRoot=i}Yu.prototype.render=zh.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));Ku(i,o,null,null)},Yu.prototype.unmount=zh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;ms(function(){Ku(null,i,null,null)}),o[Pr]=null}};function Yu(i){this._internalRoot=i}Yu.prototype.unstable_scheduleHydration=function(i){if(i){var o=Yl();i={blockedOn:null,target:i,priority:o};for(var l=0;l<Jn.length&&o!==0&&o<Jn[l].priority;l++);Jn.splice(l,0,i),l===0&&Zl(i)}};function $h(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Xu(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function ov(){}function vC(i,o,l,d,m){if(m){if(typeof d=="function"){var v=d;d=function(){var Y=Qu(S);v.call(Y)}}var S=rv(o,d,i,0,null,!1,!1,"",ov);return i._reactRootContainer=S,i[Pr]=S.current,Ma(i.nodeType===8?i.parentNode:i),ms(),S}for(;m=i.lastChild;)i.removeChild(m);if(typeof d=="function"){var F=d;d=function(){var Y=Qu(B);F.call(Y)}}var B=Bh(i,0,!1,null,null,!1,!1,"",ov);return i._reactRootContainer=B,i[Pr]=B.current,Ma(i.nodeType===8?i.parentNode:i),ms(function(){Ku(o,B,l,d)}),B}function Ju(i,o,l,d,m){var v=l._reactRootContainer;if(v){var S=v;if(typeof m=="function"){var F=m;m=function(){var B=Qu(S);F.call(B)}}Ku(o,S,i,m)}else S=vC(l,o,i,m,d);return Qu(S)}Kl=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var l=ri(o.pendingLanes);l!==0&&(oi(o,l|1),nn(o,Ke()),(Be&6)===0&&(xo=Ke()+500,mi()))}break;case 13:ms(function(){var d=br(i,1);if(d!==null){var m=Kt();Un(d,i,1,m)}}),Uh(i,1)}},Xs=function(i){if(i.tag===13){var o=br(i,134217728);if(o!==null){var l=Kt();Un(o,i,134217728,l)}Uh(i,134217728)}},Ql=function(i){if(i.tag===13){var o=Ei(i),l=br(i,o);if(l!==null){var d=Kt();Un(l,i,o,d)}Uh(i,o)}},Yl=function(){return Ve},Xl=function(i,o){var l=Ve;try{return Ve=i,o()}finally{Ve=l}},zs=function(i,o,l){switch(o){case"input":if(sa(i,l),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var d=l[o];if(d!==i&&d.form===i.form){var m=mu(d);if(!m)throw Error(t(90));Ls(d),sa(d,m)}}}break;case"textarea":Bs(i,l);break;case"select":o=l.value,o!=null&&wr(i,!!l.multiple,o,!1)}},Qi=Mh,ma=ms;var yC={usingClientEntryPoint:!1,Events:[Oa,po,mu,Yn,pa,Mh]},Xa={findFiberByHostInstance:as,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_C={bundleType:Xa.bundleType,version:Xa.version,rendererPackageName:Xa.rendererPackageName,rendererConfig:Xa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=ya(i),i===null?null:i.stateNode},findFiberByHostInstance:Xa.findFiberByHostInstance||gC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zu.isDisabled&&Zu.supportsFiber)try{es=Zu.inject(_C),an=Zu}catch{}}return rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yC,rn.createPortal=function(i,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$h(o))throw Error(t(200));return mC(i,o,null,l)},rn.createRoot=function(i,o){if(!$h(i))throw Error(t(299));var l=!1,d="",m=sv;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Bh(i,1,!1,null,null,l,!1,d,m),i[Pr]=o.current,Ma(i.nodeType===8?i.parentNode:i),new zh(o)},rn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=ya(o),i=i===null?null:i.stateNode,i},rn.flushSync=function(i){return ms(i)},rn.hydrate=function(i,o,l){if(!Xu(o))throw Error(t(200));return Ju(null,i,o,!0,l)},rn.hydrateRoot=function(i,o,l){if(!$h(i))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,m=!1,v="",S=sv;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(S=l.onRecoverableError)),o=rv(o,null,i,1,l??null,m,!1,v,S),i[Pr]=o.current,Ma(i),d)for(i=0;i<d.length;i++)l=d[i],m=l._getVersion,m=m(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,m]:o.mutableSourceEagerHydrationData.push(l,m);return new Yu(o)},rn.render=function(i,o,l){if(!Xu(o))throw Error(t(200));return Ju(null,i,o,!1,l)},rn.unmountComponentAtNode=function(i){if(!Xu(i))throw Error(t(40));return i._reactRootContainer?(ms(function(){Ju(null,null,i,!1,function(){i._reactRootContainer=null,i[Pr]=null})}),!0):!1},rn.unstable_batchedUpdates=Mh,rn.unstable_renderSubtreeIntoContainer=function(i,o,l,d){if(!Xu(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Ju(i,o,l,!1,d)},rn.version="18.3.1-next-f1338f8080-20240426",rn}var pv;function xC(){if(pv)return qh.exports;pv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),qh.exports=AC(),qh.exports}var mv;function PC(){if(mv)return ec;mv=1;var n=xC();return ec.createRoot=n.createRoot,ec.hydrateRoot=n.hydrateRoot,ec}var RC=PC();const kC=s_(RC);var Za={},gv;function NC(){if(gv)return Za;gv=1,Object.defineProperty(Za,"__esModule",{value:!0}),Za.parse=u,Za.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function u(T,M){const x=new a,V=T.length;if(V<2)return x;const O=(M==null?void 0:M.decode)||y;let D=0;do{const R=T.indexOf("=",D);if(R===-1)break;const L=T.indexOf(";",D),$=L===-1?V:L;if(R>$){D=T.lastIndexOf(";",R-1)+1;continue}const Q=h(T,D,R),K=f(T,R,Q),j=T.slice(Q,K);if(x[j]===void 0){let P=h(T,R+1,$),C=f(T,$,P);const I=O(T.slice(P,C));x[j]=I}D=$+1}while(D<V);return x}function h(T,M,x){do{const V=T.charCodeAt(M);if(V!==32&&V!==9)return M}while(++M<x);return x}function f(T,M,x){for(;M>x;){const V=T.charCodeAt(--M);if(V!==32&&V!==9)return M+1}return x}function p(T,M,x){const V=(x==null?void 0:x.encode)||encodeURIComponent;if(!n.test(T))throw new TypeError(`argument name is invalid: ${T}`);const O=V(M);if(!e.test(O))throw new TypeError(`argument val is invalid: ${M}`);let D=T+"="+O;if(!x)return D;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);D+="; Max-Age="+x.maxAge}if(x.domain){if(!t.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);D+="; Domain="+x.domain}if(x.path){if(!r.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);D+="; Path="+x.path}if(x.expires){if(!w(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);D+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(D+="; HttpOnly"),x.secure&&(D+="; Secure"),x.partitioned&&(D+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":D+="; Priority=Low";break;case"medium":D+="; Priority=Medium";break;case"high":D+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":D+="; SameSite=Strict";break;case"lax":D+="; SameSite=Lax";break;case"none":D+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return D}function y(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function w(T){return s.call(T)==="[object Date]"}return Za}NC();var vv="popstate";function bC(n={}){function e(r,s){let{pathname:a,search:u,hash:h}=r.location;return gf("",{pathname:a,search:u,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:fl(s)}return MC(e,t,null,n)}function rt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function fr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DC(){return Math.random().toString(36).substring(2,10)}function yv(n,e){return{usr:n.state,key:n.key,idx:e}}function gf(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Qo(e):e,state:t,key:e&&e.key||r||DC()}}function fl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Qo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function MC(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,u=s.history,h="POP",f=null,p=y();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function y(){return(u.state||{idx:null}).idx}function w(){h="POP";let O=y(),D=O==null?null:O-p;p=O,f&&f({action:h,location:V.location,delta:D})}function T(O,D){h="PUSH";let R=gf(V.location,O,D);p=y()+1;let L=yv(R,p),$=V.createHref(R);try{u.pushState(L,"",$)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;s.location.assign($)}a&&f&&f({action:h,location:V.location,delta:1})}function M(O,D){h="REPLACE";let R=gf(V.location,O,D);p=y();let L=yv(R,p),$=V.createHref(R);u.replaceState(L,"",$),a&&f&&f({action:h,location:V.location,delta:0})}function x(O){return VC(O)}let V={get action(){return h},get location(){return n(s,u)},listen(O){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(vv,w),f=O,()=>{s.removeEventListener(vv,w),f=null}},createHref(O){return e(s,O)},createURL:x,encodeLocation(O){let D=x(O);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:T,replace:M,go(O){return u.go(O)}};return V}function VC(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),rt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:fl(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function o_(n,e,t="/"){return LC(n,e,t,!1)}function LC(n,e,t,r){let s=typeof e=="string"?Qo(e):e,a=Gr(s.pathname||"/",t);if(a==null)return null;let u=a_(n);OC(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let p=KC(a);h=qC(u[f],p,r)}return h}function a_(n,e=[],t=[],r=""){let s=(a,u,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(rt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let p=Br([r,f.relativePath]),y=t.concat(f);a.children&&a.children.length>0&&(rt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),a_(a.children,e,y,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:GC(p,a.index),routesMeta:y})};return n.forEach((a,u)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))s(a,u);else for(let f of l_(a.path))s(a,u,f)}),e}function l_(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let u=l_(r.join("/")),h=[];return h.push(...u.map(f=>f===""?a:[a,f].join("/"))),s&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function OC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:HC(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var jC=/^:[\w-]+$/,FC=3,BC=2,UC=1,zC=10,$C=-2,_v=n=>n==="*";function GC(n,e){let t=n.split("/"),r=t.length;return t.some(_v)&&(r+=$C),e&&(r+=BC),t.filter(s=>!_v(s)).reduce((s,a)=>s+(jC.test(a)?FC:a===""?UC:zC),r)}function HC(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function qC(n,e,t=!1){let{routesMeta:r}=n,s={},a="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],p=h===r.length-1,y=a==="/"?e:e.slice(a.length)||"/",w=Tc({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},y),T=f.route;if(!w&&p&&t&&!r[r.length-1].route.index&&(w=Tc({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!w)return null;Object.assign(s,w.params),u.push({params:s,pathname:Br([a,w.pathname]),pathnameBase:JC(Br([a,w.pathnameBase])),route:T}),w.pathnameBase!=="/"&&(a=Br([a,w.pathnameBase]))}return u}function Tc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=WC(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:w},T)=>{if(y==="*"){let x=h[T]||"";u=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const M=h[T];return w&&!M?p[y]=void 0:p[y]=(M||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:n}}function WC(n,e=!1,t=!0){fr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function KC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Gr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function QC(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Qo(n):n;return{pathname:t?t.startsWith("/")?t:YC(t,e):e,search:ZC(r),hash:eT(s)}}function YC(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Qh(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function XC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function u_(n){let e=XC(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function c_(n,e,t,r=!1){let s;typeof n=="string"?s=Qo(n):(s={...n},rt(!s.pathname||!s.pathname.includes("?"),Qh("?","pathname","search",s)),rt(!s.pathname||!s.pathname.includes("#"),Qh("#","pathname","hash",s)),rt(!s.search||!s.search.includes("#"),Qh("#","search","hash",s)));let a=n===""||s.pathname==="",u=a?"/":s.pathname,h;if(u==null)h=t;else{let w=e.length-1;if(!r&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),w-=1;s.pathname=T.join("/")}h=w>=0?e[w]:"/"}let f=QC(s,h),p=u&&u!=="/"&&u.endsWith("/"),y=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||y)&&(f.pathname+="/"),f}var Br=n=>n.join("/").replace(/\/\/+/g,"/"),JC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),ZC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,eT=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function tT(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var d_=["POST","PUT","PATCH","DELETE"];new Set(d_);var nT=["GET",...d_];new Set(nT);var Yo=U.createContext(null);Yo.displayName="DataRouter";var Kc=U.createContext(null);Kc.displayName="DataRouterState";var h_=U.createContext({isTransitioning:!1});h_.displayName="ViewTransition";var rT=U.createContext(new Map);rT.displayName="Fetchers";var iT=U.createContext(null);iT.displayName="Await";var mr=U.createContext(null);mr.displayName="Navigation";var Al=U.createContext(null);Al.displayName="Location";var gr=U.createContext({outlet:null,matches:[],isDataRoute:!1});gr.displayName="Route";var Kf=U.createContext(null);Kf.displayName="RouteError";function sT(n,{relative:e}={}){rt(xl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=U.useContext(mr),{hash:s,pathname:a,search:u}=Pl(n,{relative:e}),h=a;return t!=="/"&&(h=a==="/"?t:Br([t,a])),r.createHref({pathname:h,search:u,hash:s})}function xl(){return U.useContext(Al)!=null}function Gi(){return rt(xl(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Al).location}var f_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function p_(n){U.useContext(mr).static||U.useLayoutEffect(n)}function vr(){let{isDataRoute:n}=U.useContext(gr);return n?yT():oT()}function oT(){rt(xl(),"useNavigate() may be used only in the context of a <Router> component.");let n=U.useContext(Yo),{basename:e,navigator:t}=U.useContext(mr),{matches:r}=U.useContext(gr),{pathname:s}=Gi(),a=JSON.stringify(u_(r)),u=U.useRef(!1);return p_(()=>{u.current=!0}),U.useCallback((f,p={})=>{if(fr(u.current,f_),!u.current)return;if(typeof f=="number"){t.go(f);return}let y=c_(f,JSON.parse(a),s,p.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Br([e,y.pathname])),(p.replace?t.replace:t.push)(y,p.state,p)},[e,t,a,s,n])}U.createContext(null);function m_(){let{matches:n}=U.useContext(gr),e=n[n.length-1];return e?e.params:{}}function Pl(n,{relative:e}={}){let{matches:t}=U.useContext(gr),{pathname:r}=Gi(),s=JSON.stringify(u_(t));return U.useMemo(()=>c_(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function aT(n,e){return g_(n,e)}function g_(n,e,t,r){var R;rt(xl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:a}=U.useContext(mr),{matches:u}=U.useContext(gr),h=u[u.length-1],f=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",w=h&&h.route;{let L=w&&w.path||"";v_(p,!w||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let T=Gi(),M;if(e){let L=typeof e=="string"?Qo(e):e;rt(y==="/"||((R=L.pathname)==null?void 0:R.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${L.pathname}" was given in the \`location\` prop.`),M=L}else M=T;let x=M.pathname||"/",V=x;if(y!=="/"){let L=y.replace(/^\//,"").split("/");V="/"+x.replace(/^\//,"").split("/").slice(L.length).join("/")}let O=!a&&t&&t.matches&&t.matches.length>0?t.matches:o_(n,{pathname:V});fr(w||O!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),fr(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=hT(O&&O.map(L=>Object.assign({},L,{params:Object.assign({},f,L.params),pathname:Br([y,s.encodeLocation?s.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?y:Br([y,s.encodeLocation?s.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),u,t,r);return e&&D?U.createElement(Al.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},D):D}function lT(){let n=vT(),e=tT(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=U.createElement(U.Fragment,null,U.createElement("p",null,"💿 Hey developer 👋"),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:a},"ErrorBoundary")," or"," ",U.createElement("code",{style:a},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:s},t):null,u)}var uT=U.createElement(lT,null),cT=class extends U.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?U.createElement(gr.Provider,{value:this.props.routeContext},U.createElement(Kf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function dT({routeContext:n,match:e,children:t}){let r=U.useContext(Yo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(gr.Provider,{value:n},t)}function hT(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t==null?void 0:t.errors;if(a!=null){let f=s.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);rt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,h=-1;if(t)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=f),p.route.id){let{loaderData:y,errors:w}=t,T=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!w||w[p.route.id]===void 0);if(p.route.lazy||T){u=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((f,p,y)=>{let w,T=!1,M=null,x=null;t&&(w=a&&p.route.id?a[p.route.id]:void 0,M=p.route.errorElement||uT,u&&(h<0&&y===0?(v_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,x=null):h===y&&(T=!0,x=p.route.hydrateFallbackElement||null)));let V=e.concat(s.slice(0,y+1)),O=()=>{let D;return w?D=M:T?D=x:p.route.Component?D=U.createElement(p.route.Component,null):p.route.element?D=p.route.element:D=f,U.createElement(dT,{match:p,routeContext:{outlet:f,matches:V,isDataRoute:t!=null},children:D})};return t&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?U.createElement(cT,{location:t.location,revalidation:t.revalidation,component:M,error:w,children:O(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):O()},null)}function Qf(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fT(n){let e=U.useContext(Yo);return rt(e,Qf(n)),e}function pT(n){let e=U.useContext(Kc);return rt(e,Qf(n)),e}function mT(n){let e=U.useContext(gr);return rt(e,Qf(n)),e}function Yf(n){let e=mT(n),t=e.matches[e.matches.length-1];return rt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function gT(){return Yf("useRouteId")}function vT(){var r;let n=U.useContext(Kf),e=pT("useRouteError"),t=Yf("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function yT(){let{router:n}=fT("useNavigate"),e=Yf("useNavigate"),t=U.useRef(!1);return p_(()=>{t.current=!0}),U.useCallback(async(s,a={})=>{fr(t.current,f_),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...a}))},[n,e])}var wv={};function v_(n,e,t){!e&&!wv[n]&&(wv[n]=!0,fr(!1,t))}U.memo(_T);function _T({routes:n,future:e,state:t}){return g_(n,void 0,t,e)}function Lr(n){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function wT({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:a=!1}){rt(!xl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=U.useMemo(()=>({basename:u,navigator:s,static:a,future:{}}),[u,s,a]);typeof t=="string"&&(t=Qo(t));let{pathname:f="/",search:p="",hash:y="",state:w=null,key:T="default"}=t,M=U.useMemo(()=>{let x=Gr(f,u);return x==null?null:{location:{pathname:x,search:p,hash:y,state:w,key:T},navigationType:r}},[u,f,p,y,w,T,r]);return fr(M!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:U.createElement(mr.Provider,{value:h},U.createElement(Al.Provider,{children:e,value:M}))}function ET({children:n,location:e}){return aT(vf(n),e)}function vf(n,e=[]){let t=[];return U.Children.forEach(n,(r,s)=>{if(!U.isValidElement(r))return;let a=[...e,s];if(r.type===U.Fragment){t.push.apply(t,vf(r.props.children,a));return}rt(r.type===Lr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=vf(r.props.children,a)),t.push(u)}),t}var cc="get",dc="application/x-www-form-urlencoded";function Qc(n){return n!=null&&typeof n.tagName=="string"}function CT(n){return Qc(n)&&n.tagName.toLowerCase()==="button"}function TT(n){return Qc(n)&&n.tagName.toLowerCase()==="form"}function ST(n){return Qc(n)&&n.tagName.toLowerCase()==="input"}function IT(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function AT(n,e){return n.button===0&&(!e||e==="_self")&&!IT(n)}var tc=null;function xT(){if(tc===null)try{new FormData(document.createElement("form"),0),tc=!1}catch{tc=!0}return tc}var PT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yh(n){return n!=null&&!PT.has(n)?(fr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dc}"`),null):n}function RT(n,e){let t,r,s,a,u;if(TT(n)){let h=n.getAttribute("action");r=h?Gr(h,e):null,t=n.getAttribute("method")||cc,s=Yh(n.getAttribute("enctype"))||dc,a=new FormData(n)}else if(CT(n)||ST(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(r=f?Gr(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||cc,s=Yh(n.getAttribute("formenctype"))||Yh(h.getAttribute("enctype"))||dc,a=new FormData(h,n),!xT()){let{name:p,type:y,value:w}=n;if(y==="image"){let T=p?`${p}.`:"";a.append(`${T}x`,"0"),a.append(`${T}y`,"0")}else p&&a.append(p,w)}}else{if(Qc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=cc,r=null,s=dc,u=n}return a&&s==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:a,body:u}}function Xf(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function kT(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function NT(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function bT(n,e,t){let r=await Promise.all(n.map(async s=>{let a=e.routes[s.route.id];if(a){let u=await kT(a,t);return u.links?u.links():[]}return[]}));return LT(r.flat(1).filter(NT).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Ev(n,e,t,r,s,a){let u=(f,p)=>t[p]?f.route.id!==t[p].route.id:!0,h=(f,p)=>{var y;return t[p].pathname!==f.pathname||((y=t[p].route.path)==null?void 0:y.endsWith("*"))&&t[p].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,p)=>u(f,p)||h(f,p)):a==="data"?e.filter((f,p)=>{var w;let y=r.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(u(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let T=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((w=t[0])==null?void 0:w.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function DT(n,e,{includeHydrateFallback:t}={}){return MT(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function MT(n){return[...new Set(n)]}function VT(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function LT(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let a=JSON.stringify(VT(s));return t.has(a)||(t.add(a),r.push({key:a,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var OT=new Set([100,101,204,205]);function jT(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Gr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function y_(){let n=U.useContext(Yo);return Xf(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function FT(){let n=U.useContext(Kc);return Xf(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Jf=U.createContext(void 0);Jf.displayName="FrameworkContext";function __(){let n=U.useContext(Jf);return Xf(n,"You must render this element inside a <HydratedRouter> element"),n}function BT(n,e){let t=U.useContext(Jf),[r,s]=U.useState(!1),[a,u]=U.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:y,onTouchStart:w}=e,T=U.useRef(null);U.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let V=D=>{D.forEach(R=>{u(R.isIntersecting)})},O=new IntersectionObserver(V,{threshold:.5});return T.current&&O.observe(T.current),()=>{O.disconnect()}}},[n]),U.useEffect(()=>{if(r){let V=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(V)}}},[r]);let M=()=>{s(!0)},x=()=>{s(!1),u(!1)};return t?n!=="intent"?[a,T,{}]:[a,T,{onFocus:el(h,M),onBlur:el(f,x),onMouseEnter:el(p,M),onMouseLeave:el(y,x),onTouchStart:el(w,M)}]:[!1,T,{}]}function el(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function UT({page:n,...e}){let{router:t}=y_(),r=U.useMemo(()=>o_(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?U.createElement($T,{page:n,matches:r,...e}):null}function zT(n){let{manifest:e,routeModules:t}=__(),[r,s]=U.useState([]);return U.useEffect(()=>{let a=!1;return bT(n,e,t).then(u=>{a||s(u)}),()=>{a=!0}},[n,e,t]),r}function $T({page:n,matches:e,...t}){let r=Gi(),{manifest:s,routeModules:a}=__(),{basename:u}=y_(),{loaderData:h,matches:f}=FT(),p=U.useMemo(()=>Ev(n,e,f,s,r,"data"),[n,e,f,s,r]),y=U.useMemo(()=>Ev(n,e,f,s,r,"assets"),[n,e,f,s,r]),w=U.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let x=new Set,V=!1;if(e.forEach(D=>{var L;let R=s.routes[D.route.id];!R||!R.hasLoader||(!p.some($=>$.route.id===D.route.id)&&D.route.id in h&&((L=a[D.route.id])!=null&&L.shouldRevalidate)||R.hasClientLoader?V=!0:x.add(D.route.id))}),x.size===0)return[];let O=jT(n,u);return V&&x.size>0&&O.searchParams.set("_routes",e.filter(D=>x.has(D.route.id)).map(D=>D.route.id).join(",")),[O.pathname+O.search]},[u,h,r,s,p,e,n,a]),T=U.useMemo(()=>DT(y,s),[y,s]),M=zT(y);return U.createElement(U.Fragment,null,w.map(x=>U.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),T.map(x=>U.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),M.map(({key:x,link:V})=>U.createElement("link",{key:x,...V})))}function GT(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var w_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{w_&&(window.__reactRouterVersion="7.6.0")}catch{}function HT({basename:n,children:e,window:t}){let r=U.useRef();r.current==null&&(r.current=bC({window:t,v5Compat:!0}));let s=r.current,[a,u]=U.useState({action:s.action,location:s.location}),h=U.useCallback(f=>{U.startTransition(()=>u(f))},[u]);return U.useLayoutEffect(()=>s.listen(h),[s,h]),U.createElement(wT,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:s})}var E_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,C_=U.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:a,replace:u,state:h,target:f,to:p,preventScrollReset:y,viewTransition:w,...T},M){let{basename:x}=U.useContext(mr),V=typeof p=="string"&&E_.test(p),O,D=!1;if(typeof p=="string"&&V&&(O=p,w_))try{let C=new URL(window.location.href),I=p.startsWith("//")?new URL(C.protocol+p):new URL(p),A=Gr(I.pathname,x);I.origin===C.origin&&A!=null?p=A+I.search+I.hash:D=!0}catch{fr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=sT(p,{relative:s}),[L,$,Q]=BT(r,T),K=QT(p,{replace:u,state:h,target:f,preventScrollReset:y,relative:s,viewTransition:w});function j(C){e&&e(C),C.defaultPrevented||K(C)}let P=U.createElement("a",{...T,...Q,href:O||R,onClick:D||a?e:j,ref:GT(M,$),target:f,"data-discover":!V&&t==="render"?"true":void 0});return L&&!V?U.createElement(U.Fragment,null,P,U.createElement(UT,{page:R})):P});C_.displayName="Link";var qT=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:a,to:u,viewTransition:h,children:f,...p},y){let w=Pl(u,{relative:p.relative}),T=Gi(),M=U.useContext(Kc),{navigator:x,basename:V}=U.useContext(mr),O=M!=null&&eS(w)&&h===!0,D=x.encodeLocation?x.encodeLocation(w).pathname:w.pathname,R=T.pathname,L=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;t||(R=R.toLowerCase(),L=L?L.toLowerCase():null,D=D.toLowerCase()),L&&V&&(L=Gr(L,V)||L);const $=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let Q=R===D||!s&&R.startsWith(D)&&R.charAt($)==="/",K=L!=null&&(L===D||!s&&L.startsWith(D)&&L.charAt(D.length)==="/"),j={isActive:Q,isPending:K,isTransitioning:O},P=Q?e:void 0,C;typeof r=="function"?C=r(j):C=[r,Q?"active":null,K?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let I=typeof a=="function"?a(j):a;return U.createElement(C_,{...p,"aria-current":P,className:C,ref:y,style:I,to:u,viewTransition:h},typeof f=="function"?f(j):f)});qT.displayName="NavLink";var WT=U.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:a,method:u=cc,action:h,onSubmit:f,relative:p,preventScrollReset:y,viewTransition:w,...T},M)=>{let x=JT(),V=ZT(h,{relative:p}),O=u.toLowerCase()==="get"?"get":"post",D=typeof h=="string"&&E_.test(h),R=L=>{if(f&&f(L),L.defaultPrevented)return;L.preventDefault();let $=L.nativeEvent.submitter,Q=($==null?void 0:$.getAttribute("formmethod"))||u;x($||L.currentTarget,{fetcherKey:e,method:Q,navigate:t,replace:s,state:a,relative:p,preventScrollReset:y,viewTransition:w})};return U.createElement("form",{ref:M,method:O,action:V,onSubmit:r?f:R,...T,"data-discover":!D&&n==="render"?"true":void 0})});WT.displayName="Form";function KT(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function T_(n){let e=U.useContext(Yo);return rt(e,KT(n)),e}function QT(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:a,viewTransition:u}={}){let h=vr(),f=Gi(),p=Pl(n,{relative:a});return U.useCallback(y=>{if(AT(y,e)){y.preventDefault();let w=t!==void 0?t:fl(f)===fl(p);h(n,{replace:w,state:r,preventScrollReset:s,relative:a,viewTransition:u})}},[f,h,p,t,r,e,n,s,a,u])}var YT=0,XT=()=>`__${String(++YT)}__`;function JT(){let{router:n}=T_("useSubmit"),{basename:e}=U.useContext(mr),t=gT();return U.useCallback(async(r,s={})=>{let{action:a,method:u,encType:h,formData:f,body:p}=RT(r,e);if(s.navigate===!1){let y=s.fetcherKey||XT();await n.fetch(y,t,s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||u,formEncType:s.encType||h,flushSync:s.flushSync})}else await n.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||u,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function ZT(n,{relative:e}={}){let{basename:t}=U.useContext(mr),r=U.useContext(gr);rt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Pl(n||".",{relative:e})},u=Gi();if(n==null){a.search=u.search;let h=new URLSearchParams(a.search),f=h.getAll("index");if(f.some(y=>y==="")){h.delete("index"),f.filter(w=>w).forEach(w=>h.append("index",w));let y=h.toString();a.search=y?`?${y}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Br([t,a.pathname])),fl(a)}function eS(n,e={}){let t=U.useContext(h_);rt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=T_("useViewTransitionState"),s=Pl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Gr(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Gr(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Tc(s.pathname,u)!=null||Tc(s.pathname,a)!=null}[...OT];const tS=()=>{};var Cv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},nS=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],u=n[t++],h=n[t++],f=((s&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},I_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],u=s+1<n.length,h=u?n[s+1]:0,f=s+2<n.length,p=f?n[s+2]:0,y=a>>2,w=(a&3)<<4|h>>4;let T=(h&15)<<2|p>>6,M=p&63;f||(M=64,u||(T=64)),r.push(t[y],t[w],t[T],t[M])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(S_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):nS(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],h=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const w=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||h==null||p==null||w==null)throw new rS;const T=a<<2|h>>4;if(r.push(T),p!==64){const M=h<<4&240|p>>2;if(r.push(M),w!==64){const x=p<<6&192|w;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class rS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iS=function(n){const e=S_(n);return I_.encodeByteArray(e,!0)},Sc=function(n){return iS(n).replace(/\./g,"")},A_=function(n){try{return I_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=()=>sS().__FIREBASE_DEFAULTS__,aS=()=>{if(typeof process>"u"||typeof Cv>"u")return;const n=Cv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},lS=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&A_(n[1]);return e&&JSON.parse(e)},Yc=()=>{try{return tS()||oS()||aS()||lS()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},x_=n=>{var e,t;return(t=(e=Yc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},uS=n=>{const e=x_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},P_=()=>{var n;return(n=Yc())===null||n===void 0?void 0:n.config},R_=n=>{var e;return(e=Yc())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Sc(JSON.stringify(t)),Sc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function fS(){var n;const e=(n=Yc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mS(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function gS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vS(){const n=Gt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function yS(){return!fS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _S(){try{return typeof indexedDB=="object"}catch{return!1}}function wS(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="FirebaseError";class Yr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=ES,Object.setPrototypeOf(this,Yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rl.prototype.create)}}class Rl{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?CS(a,r):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new Yr(s,h,r)}}function CS(n,e){return n.replace(TS,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const TS=/\{\$([^}]+)}/g;function SS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ts(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],u=e[s];if(Tv(a)&&Tv(u)){if(!Ts(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function Tv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function rl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function IS(n,e){const t=new AS(n,e);return t.subscribe.bind(t)}class AS{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");xS(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Xh),s.error===void 0&&(s.error=Xh),s.complete===void 0&&(s.complete=Xh);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xS(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Xh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(n){return n&&n._delegate?n._delegate:n}class Ss{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new cS;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kS(e))try{this.getOrInitializeService({instanceIdentifier:_s})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=_s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_s){return this.instances.has(e)}getOptions(e=_s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&u.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:RS(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_s){return this.component?this.component.multipleInstances?e:_s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RS(n){return n===_s?void 0:n}function kS(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new PS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(De||(De={}));const bS={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},DS=De.INFO,MS={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},VS=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=MS[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zf{constructor(e){this.name=e,this._logLevel=DS,this._logHandler=VS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const LS=(n,e)=>e.some(t=>n instanceof t);let Sv,Iv;function OS(){return Sv||(Sv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jS(){return Iv||(Iv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const k_=new WeakMap,yf=new WeakMap,N_=new WeakMap,Jh=new WeakMap,ep=new WeakMap;function FS(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(bi(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&k_.set(t,n)}).catch(()=>{}),ep.set(e,n),e}function BS(n){if(yf.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});yf.set(n,e)}let _f={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return yf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||N_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return bi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function US(n){_f=n(_f)}function zS(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Zh(this),e,...t);return N_.set(r,e.sort?e.sort():[e]),bi(r)}:jS().includes(n)?function(...e){return n.apply(Zh(this),e),bi(k_.get(this))}:function(...e){return bi(n.apply(Zh(this),e))}}function $S(n){return typeof n=="function"?zS(n):(n instanceof IDBTransaction&&BS(n),LS(n,OS())?new Proxy(n,_f):n)}function bi(n){if(n instanceof IDBRequest)return FS(n);if(Jh.has(n))return Jh.get(n);const e=$S(n);return e!==n&&(Jh.set(n,e),ep.set(e,n)),e}const Zh=n=>ep.get(n);function GS(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(n,e),h=bi(u);return r&&u.addEventListener("upgradeneeded",f=>{r(bi(u.result),f.oldVersion,f.newVersion,bi(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const HS=["get","getKey","getAll","getAllKeys","count"],qS=["put","add","delete","clear"],ef=new Map;function Av(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ef.get(e))return ef.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=qS.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||HS.includes(t)))return;const a=async function(u,...h){const f=this.transaction(u,s?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[t](...h),s&&f.done]))[0]};return ef.set(e,a),a}US(n=>({...n,get:(e,t,r)=>Av(e,t)||n.get(e,t,r),has:(e,t)=>!!Av(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(KS(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function KS(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wf="@firebase/app",xv="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr=new Zf("@firebase/app"),QS="@firebase/app-compat",YS="@firebase/analytics-compat",XS="@firebase/analytics",JS="@firebase/app-check-compat",ZS="@firebase/app-check",eI="@firebase/auth",tI="@firebase/auth-compat",nI="@firebase/database",rI="@firebase/data-connect",iI="@firebase/database-compat",sI="@firebase/functions",oI="@firebase/functions-compat",aI="@firebase/installations",lI="@firebase/installations-compat",uI="@firebase/messaging",cI="@firebase/messaging-compat",dI="@firebase/performance",hI="@firebase/performance-compat",fI="@firebase/remote-config",pI="@firebase/remote-config-compat",mI="@firebase/storage",gI="@firebase/storage-compat",vI="@firebase/firestore",yI="@firebase/vertexai",_I="@firebase/firestore-compat",wI="firebase",EI="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef="[DEFAULT]",CI={[wf]:"fire-core",[QS]:"fire-core-compat",[XS]:"fire-analytics",[YS]:"fire-analytics-compat",[ZS]:"fire-app-check",[JS]:"fire-app-check-compat",[eI]:"fire-auth",[tI]:"fire-auth-compat",[nI]:"fire-rtdb",[rI]:"fire-data-connect",[iI]:"fire-rtdb-compat",[sI]:"fire-fn",[oI]:"fire-fn-compat",[aI]:"fire-iid",[lI]:"fire-iid-compat",[uI]:"fire-fcm",[cI]:"fire-fcm-compat",[dI]:"fire-perf",[hI]:"fire-perf-compat",[fI]:"fire-rc",[pI]:"fire-rc-compat",[mI]:"fire-gcs",[gI]:"fire-gcs-compat",[vI]:"fire-fst",[_I]:"fire-fst-compat",[yI]:"fire-vertex","fire-js":"fire-js",[wI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=new Map,TI=new Map,Cf=new Map;function Pv(n,e){try{n.container.addComponent(e)}catch(t){Hr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Bo(n){const e=n.name;if(Cf.has(e))return Hr.debug(`There were multiple attempts to register component ${e}.`),!1;Cf.set(e,n);for(const t of Ic.values())Pv(t,n);for(const t of TI.values())Pv(t,n);return!0}function tp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function In(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Di=new Rl("app","Firebase",SI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ss("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Di.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=EI;function b_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ef,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Di.create("bad-app-name",{appName:String(s)});if(t||(t=P_()),!t)throw Di.create("no-options");const a=Ic.get(s);if(a){if(Ts(t,a.options)&&Ts(r,a.config))return a;throw Di.create("duplicate-app",{appName:s})}const u=new NS(s);for(const f of Cf.values())u.addComponent(f);const h=new II(t,r,u);return Ic.set(s,h),h}function D_(n=Ef){const e=Ic.get(n);if(!e&&n===Ef&&P_())return b_();if(!e)throw Di.create("no-app",{appName:n});return e}function Mi(n,e,t){var r;let s=(r=CI[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const h=[`Unable to register library "${s}" with version "${e}":`];a&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hr.warn(h.join(" "));return}Bo(new Ss(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="firebase-heartbeat-database",xI=1,pl="firebase-heartbeat-store";let tf=null;function M_(){return tf||(tf=GS(AI,xI,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(pl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Di.create("idb-open",{originalErrorMessage:n.message})})),tf}async function PI(n){try{const t=(await M_()).transaction(pl),r=await t.objectStore(pl).get(V_(n));return await t.done,r}catch(e){if(e instanceof Yr)Hr.warn(e.message);else{const t=Di.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Hr.warn(t.message)}}}async function Rv(n,e){try{const r=(await M_()).transaction(pl,"readwrite");await r.objectStore(pl).put(e,V_(n)),await r.done}catch(t){if(t instanceof Yr)Hr.warn(t.message);else{const r=Di.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Hr.warn(r.message)}}}function V_(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=1024,kI=30;class NI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new DI(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=kv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>kI){const u=MI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Hr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=kv(),{heartbeatsToSend:r,unsentEntries:s}=bI(this._heartbeatsCache.heartbeats),a=Sc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Hr.warn(t),""}}}function kv(){return new Date().toISOString().substring(0,10)}function bI(n,e=RI){const t=[];let r=n.slice();for(const s of n){const a=t.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),Nv(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Nv(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class DI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _S()?wS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await PI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Rv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Rv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Nv(n){return Sc(JSON.stringify({version:2,heartbeats:n})).length}function MI(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(n){Bo(new Ss("platform-logger",e=>new WS(e),"PRIVATE")),Bo(new Ss("heartbeat",e=>new NI(e),"PRIVATE")),Mi(wf,xv,n),Mi(wf,xv,"esm2017"),Mi("fire-js","")}VI("");var LI="firebase",OI="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mi(LI,OI,"app");function np(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function L_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jI=L_,O_=new Rl("auth","Firebase",L_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac=new Zf("@firebase/auth");function FI(n,...e){Ac.logLevel<=De.WARN&&Ac.warn(`Auth (${Xo}): ${n}`,...e)}function hc(n,...e){Ac.logLevel<=De.ERROR&&Ac.error(`Auth (${Xo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(n,...e){throw rp(n,...e)}function lr(n,...e){return rp(n,...e)}function j_(n,e,t){const r=Object.assign(Object.assign({},jI()),{[e]:t});return new Rl("auth","Firebase",r).create(e,{appName:n.name})}function Ur(n){return j_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rp(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return O_.create(n,...e)}function Se(n,e,...t){if(!n)throw rp(e,...t)}function jr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw hc(e),new Error(e)}function qr(n,e){n||jr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function BI(){return bv()==="http:"||bv()==="https:"}function bv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BI()||mS()||"connection"in navigator)?navigator.onLine:!0}function zI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,t){this.shortDelay=e,this.longDelay=t,qr(t>e,"Short delay should be less than long delay!"),this.isMobile=hS()||gS()}get(){return UI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(n,e){qr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],HI=new Nl(3e4,6e4);function Xr(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Jr(n,e,t,r,s={}){return B_(n,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const h=kl(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:f},a);return pS()||(p.referrerPolicy="no-referrer"),F_.fetch()(await U_(n,n.config.apiHost,t,h),p)})}async function B_(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},$I),e);try{const s=new WI(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw nc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw nc(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw nc(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw nc(n,"user-disabled",u);const y=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw j_(n,y,p);qn(n,y)}}catch(s){if(s instanceof Yr)throw s;qn(n,"network-request-failed",{message:String(s)})}}async function bl(n,e,t,r,s={}){const a=await Jr(n,e,t,r,s);return"mfaPendingCredential"in a&&qn(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function U_(n,e,t,r){const s=`${e}${t}?${r}`,a=n,u=a.config.emulator?ip(n.config,s):`${n.config.apiScheme}://${s}`;return GI.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function qI(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class WI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(lr(this.auth,"network-request-failed")),HI.get())})}}function nc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=lr(n,e,r);return s.customData._tokenResponse=t,s}function Dv(n){return n!==void 0&&n.enterprise!==void 0}class KI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return qI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function QI(n,e){return Jr(n,"GET","/v2/recaptchaConfig",Xr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YI(n,e){return Jr(n,"POST","/v1/accounts:delete",e)}async function xc(n,e){return Jr(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ll(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function XI(n,e=!1){const t=Vt(n),r=await t.getIdToken(e),s=sp(r);Se(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:ll(nf(s.auth_time)),issuedAtTime:ll(nf(s.iat)),expirationTime:ll(nf(s.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function nf(n){return Number(n)*1e3}function sp(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return hc("JWT malformed, contained fewer than 3 sections"),null;try{const s=A_(t);return s?JSON.parse(s):(hc("Failed to decode base64 JWT payload"),null)}catch(s){return hc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Mv(n){const e=sp(n);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Yr&&JI(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function JI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ll(this.lastLoginAt),this.creationTime=ll(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pc(n){var e;const t=n.auth,r=await n.getIdToken(),s=await ml(n,xc(t,{idToken:r}));Se(s==null?void 0:s.users.length,t,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?z_(a.providerUserInfo):[],h=tA(n.providerData,u),f=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!(h!=null&&h.length),y=f?p:!1,w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new Sf(a.createdAt,a.lastLoginAt),isAnonymous:y};Object.assign(n,w)}async function eA(n){const e=Vt(n);await Pc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tA(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function z_(n){return n.map(e=>{var{providerId:t}=e,r=np(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nA(n,e){const t=await B_(n,{},async()=>{const r=kl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,u=await U_(n,s,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",F_.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function rA(n,e){return Jr(n,"POST","/v2/accounts:revokeToken",Xr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Mv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=Mv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await nA(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,u=new Mo;return r&&(Se(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Se(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(Se(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mo,this.toJSON())}_performRefresh(){return jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(n,e){Se(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class zn{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,a=np(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ZI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Sf(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await ml(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return XI(this,e)}reload(){return eA(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new zn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Pc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(In(this.auth.app))return Promise.reject(Ur(this.auth));const e=await this.getIdToken();return await ml(this,YI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,a,u,h,f,p,y;const w=(r=t.displayName)!==null&&r!==void 0?r:void 0,T=(s=t.email)!==null&&s!==void 0?s:void 0,M=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,x=(u=t.photoURL)!==null&&u!==void 0?u:void 0,V=(h=t.tenantId)!==null&&h!==void 0?h:void 0,O=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,D=(p=t.createdAt)!==null&&p!==void 0?p:void 0,R=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:L,emailVerified:$,isAnonymous:Q,providerData:K,stsTokenManager:j}=t;Se(L&&j,e,"internal-error");const P=Mo.fromJSON(this.name,j);Se(typeof L=="string",e,"internal-error"),Ii(w,e.name),Ii(T,e.name),Se(typeof $=="boolean",e,"internal-error"),Se(typeof Q=="boolean",e,"internal-error"),Ii(M,e.name),Ii(x,e.name),Ii(V,e.name),Ii(O,e.name),Ii(D,e.name),Ii(R,e.name);const C=new zn({uid:L,auth:e,email:T,emailVerified:$,displayName:w,isAnonymous:Q,photoURL:x,phoneNumber:M,tenantId:V,stsTokenManager:P,createdAt:D,lastLoginAt:R});return K&&Array.isArray(K)&&(C.providerData=K.map(I=>Object.assign({},I))),O&&(C._redirectEventId=O),C}static async _fromIdTokenResponse(e,t,r=!1){const s=new Mo;s.updateFromServerResponse(t);const a=new zn({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Pc(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Se(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?z_(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),h=new Mo;h.updateFromIdToken(r);const f=new zn({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Sf(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv=new Map;function Fr(n){qr(n instanceof Function,"Expected a class definition");let e=Vv.get(n);return e?(qr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Vv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}$_.type="NONE";const Lv=$_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(n,e,t){return`firebase:${n}:${e}:${t}`}class Vo{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=fc(this.userKey,s.apiKey,a),this.fullPersistenceKey=fc("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await xc(this.auth,{idToken:e}).catch(()=>{});return t?zn._fromGetAccountInfoResponse(this.auth,t,e):null}return zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Vo(Fr(Lv),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||Fr(Lv);const u=fc(r,e.config.apiKey,e.name);let h=null;for(const p of t)try{const y=await p._get(u);if(y){let w;if(typeof y=="string"){const T=await xc(e,{idToken:y}).catch(()=>{});if(!T)break;w=await zn._fromGetAccountInfoResponse(e,T,y)}else w=zn._fromJSON(e,y);p!==a&&(h=w),a=p;break}}catch{}const f=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Vo(a,e,r):(a=f[0],h&&await a._set(u,h.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(u)}catch{}})),new Vo(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(W_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(G_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Q_(e))return"Blackberry";if(Y_(e))return"Webos";if(H_(e))return"Safari";if((e.includes("chrome/")||q_(e))&&!e.includes("edge/"))return"Chrome";if(K_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function G_(n=Gt()){return/firefox\//i.test(n)}function H_(n=Gt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function q_(n=Gt()){return/crios\//i.test(n)}function W_(n=Gt()){return/iemobile/i.test(n)}function K_(n=Gt()){return/android/i.test(n)}function Q_(n=Gt()){return/blackberry/i.test(n)}function Y_(n=Gt()){return/webos/i.test(n)}function op(n=Gt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function iA(n=Gt()){var e;return op(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function sA(){return vS()&&document.documentMode===10}function X_(n=Gt()){return op(n)||K_(n)||Y_(n)||Q_(n)||/windows phone/i.test(n)||W_(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(n,e=[]){let t;switch(n){case"Browser":t=Ov(Gt());break;case"Worker":t=`${Ov(Gt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Xo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,h)=>{try{const f=e(a);u(f)}catch(f){h(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aA(n,e={}){return Jr(n,"GET","/v2/passwordPolicy",Xr(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=6;class uA{constructor(e){var t,r,s,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:lA,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,a,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jv(this),this.idTokenSubscription=new jv(this),this.beforeStateQueue=new oA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=O_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Fr(t)),this._initializationPromise=this.queue(async()=>{var r,s,a;if(!this._deleted&&(this.persistenceManager=await Vo.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await xc(this,{idToken:e}),r=await zn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(In(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Pc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(In(this.app))return Promise.reject(Ur(this));const t=e?Vt(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return In(this.app)?Promise.reject(Ur(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return In(this.app)?Promise.reject(Ur(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aA(this),t=new uA(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Rl("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await rA(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Fr(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await Vo.create(this,[Fr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=J_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&FI(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ks(n){return Vt(n)}class jv{constructor(e){this.auth=e,this.observer=null,this.addObserver=IS(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dA(n){Xc=n}function Z_(n){return Xc.loadJS(n)}function hA(){return Xc.recaptchaEnterpriseScript}function fA(){return Xc.gapiScript}function pA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class mA{constructor(){this.enterprise=new gA}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class gA{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const vA="recaptcha-enterprise",ew="NO_RECAPTCHA";class yA{constructor(e){this.type=vA,this.auth=ks(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,h)=>{QI(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new KI(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,u(p.siteKey)}}).catch(f=>{h(f)})})}function s(a,u,h){const f=window.grecaptcha;Dv(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(p=>{u(p)}).catch(()=>{u(ew)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new mA().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(h=>{if(!t&&Dv(window.grecaptcha))s(h,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=hA();f.length!==0&&(f+=h),Z_(f).then(()=>{s(h,a,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function Fv(n,e,t,r=!1,s=!1){const a=new yA(n);let u;if(s)u=ew;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function If(n,e,t,r,s){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Fv(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await Fv(n,e,t,t==="getOobCode");return r(n,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(n,e){const t=tp(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(Ts(a,e??{}))return s;qn(s,"already-initialized")}return t.initialize({options:e})}function wA(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Fr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function EA(n,e,t){const r=ks(n);Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=tw(e),{host:u,port:h}=CA(e),f=h===null?"":`:${h}`,p={url:`${a}//${u}${f}/`},y=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Se(Ts(p,r.config.emulator)&&Ts(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,TA()}function tw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function CA(n){const e=tw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:Bv(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:Bv(u)}}}function Bv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function TA(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return jr("not implemented")}_getIdTokenResponse(e){return jr("not implemented")}_linkToIdToken(e,t){return jr("not implemented")}_getReauthenticationResolver(e){return jr("not implemented")}}async function SA(n,e){return Jr(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IA(n,e){return bl(n,"POST","/v1/accounts:signInWithPassword",Xr(n,e))}async function AA(n,e){return Jr(n,"POST","/v1/accounts:sendOobCode",Xr(n,e))}async function xA(n,e){return AA(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PA(n,e){return bl(n,"POST","/v1/accounts:signInWithEmailLink",Xr(n,e))}async function RA(n,e){return bl(n,"POST","/v1/accounts:signInWithEmailLink",Xr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl extends ap{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new gl(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new gl(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return If(e,t,"signInWithPassword",IA);case"emailLink":return PA(e,{email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return If(e,r,"signUpPassword",SA);case"emailLink":return RA(e,{idToken:t,email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(n,e){return bl(n,"POST","/v1/accounts:signInWithIdp",Xr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA="http://localhost";class Is extends ap{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Is(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):qn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,a=np(t,["providerId","signInMethod"]);if(!r||!s)return null;const u=new Is(r,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Lo(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Lo(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Lo(e,t)}buildRequest(){const e={requestUri:kA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=kl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function bA(n){const e=nl(rl(n)).link,t=e?nl(rl(e)).deep_link_id:null,r=nl(rl(n)).deep_link_id;return(r?nl(rl(r)).link:null)||r||t||e||n}class lp{constructor(e){var t,r,s,a,u,h;const f=nl(rl(e)),p=(t=f.apiKey)!==null&&t!==void 0?t:null,y=(r=f.oobCode)!==null&&r!==void 0?r:null,w=NA((s=f.mode)!==null&&s!==void 0?s:null);Se(p&&y&&w,"argument-error"),this.apiKey=p,this.operation=w,this.code=y,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=bA(e);try{return new lp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.providerId=Jo.PROVIDER_ID}static credential(e,t){return gl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=lp.parseLink(t);return Se(r,"argument-error"),gl._fromEmailAndCode(e,r.code,r.tenantId)}}Jo.PROVIDER_ID="password";Jo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl extends nw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends Dl{constructor(){super("facebook.com")}static credential(e){return Is._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ai.credential(e.oauthAccessToken)}catch{return null}}}Ai.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ai.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends Dl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Is._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return xi.credential(t,r)}catch{return null}}}xi.GOOGLE_SIGN_IN_METHOD="google.com";xi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends Dl{constructor(){super("github.com")}static credential(e){return Is._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pi.credential(e.oauthAccessToken)}catch{return null}}}Pi.GITHUB_SIGN_IN_METHOD="github.com";Pi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends Dl{constructor(){super("twitter.com")}static credential(e,t){return Is._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ri.credential(t,r)}catch{return null}}}Ri.TWITTER_SIGN_IN_METHOD="twitter.com";Ri.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DA(n,e){return bl(n,"POST","/v1/accounts:signUp",Xr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await zn._fromIdTokenResponse(e,r,s),u=Uv(r);return new As({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=Uv(r);return new As({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function Uv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends Yr{constructor(e,t,r,s){var a;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Rc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Rc(e,t,r,s)}}function rw(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Rc._fromErrorAndOperation(n,a,e,r):a})}async function MA(n,e,t=!1){const r=await ml(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return As._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VA(n,e,t=!1){const{auth:r}=n;if(In(r.app))return Promise.reject(Ur(r));const s="reauthenticate";try{const a=await ml(n,rw(r,s,e,n),t);Se(a.idToken,r,"internal-error");const u=sp(a.idToken);Se(u,r,"internal-error");const{sub:h}=u;return Se(n.uid===h,r,"user-mismatch"),As._forOperation(n,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&qn(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iw(n,e,t=!1){if(In(n.app))return Promise.reject(Ur(n));const r="signIn",s=await rw(n,r,e),a=await As._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}async function LA(n,e){return iw(ks(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sw(n){const e=ks(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function OA(n,e,t){if(In(n.app))return Promise.reject(Ur(n));const r=ks(n),u=await If(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",DA).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&sw(n),f}),h=await As._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function jA(n,e,t){return In(n.app)?Promise.reject(Ur(n)):LA(Vt(n),Jo.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&sw(n),r})}async function FA(n,e){const t=Vt(n),s={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:a}=await xA(t.auth,s);a!==n.email&&await n.reload()}function BA(n,e,t,r){return Vt(n).onIdTokenChanged(e,t,r)}function UA(n,e,t){return Vt(n).beforeAuthStateChanged(e,t)}function zA(n,e,t,r){return Vt(n).onAuthStateChanged(e,t,r)}function $A(n){return Vt(n).signOut()}const kc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(kc,"1"),this.storage.removeItem(kc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=1e3,HA=10;class aw extends ow{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=X_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);sA()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,HA):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},GA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}aw.type="LOCAL";const qA=aw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw extends ow{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}lw.type="SESSION";const uw=lw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Jc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const h=Array.from(u).map(async p=>p(t.origin,a)),f=await WA(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((h,f)=>{const p=up("",20);s.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(w){const T=w;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(T.data.response);break;default:clearTimeout(y),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(){return window}function QA(n){ur().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(){return typeof ur().WorkerGlobalScope<"u"&&typeof ur().importScripts=="function"}async function YA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XA(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function JA(){return cw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="firebaseLocalStorageDb",ZA=1,Nc="firebaseLocalStorage",hw="fbase_key";class Ml{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Zc(n,e){return n.transaction([Nc],e?"readwrite":"readonly").objectStore(Nc)}function e1(){const n=indexedDB.deleteDatabase(dw);return new Ml(n).toPromise()}function Af(){const n=indexedDB.open(dw,ZA);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Nc,{keyPath:hw})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Nc)?e(r):(r.close(),await e1(),e(await Af()))})})}async function zv(n,e,t){const r=Zc(n,!0).put({[hw]:e,value:t});return new Ml(r).toPromise()}async function t1(n,e){const t=Zc(n,!1).get(e),r=await new Ml(t).toPromise();return r===void 0?null:r.value}function $v(n,e){const t=Zc(n,!0).delete(e);return new Ml(t).toPromise()}const n1=800,r1=3;class fw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Af(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>r1)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jc._getInstance(JA()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await YA(),!this.activeServiceWorker)return;this.sender=new KA(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||XA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Af();return await zv(e,kc,"1"),await $v(e,kc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>zv(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>t1(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>$v(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Zc(s,!1).getAll();return new Ml(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),n1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fw.type="LOCAL";const i1=fw;new Nl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(n,e){return e?Fr(e):(Se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp extends ap{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Lo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Lo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function o1(n){return iw(n.auth,new cp(n),n.bypassAuthState)}function a1(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),VA(t,new cp(n),n.bypassAuthState)}async function l1(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),MA(t,new cp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return o1;case"linkViaPopup":case"linkViaRedirect":return l1;case"reauthViaPopup":case"reauthViaRedirect":return a1;default:qn(this.auth,"internal-error")}}resolve(e){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=new Nl(2e3,1e4);class Do extends pw{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,Do.currentPopupAction&&Do.currentPopupAction.cancel(),Do.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){qr(this.filter.length===1,"Popup operations only handle one event");const e=up();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Do.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,u1.get())};e()}}Do.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="pendingRedirect",pc=new Map;class d1 extends pw{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=pc.get(this.auth._key());if(!e){try{const r=await h1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}pc.set(this.auth._key(),e)}return this.bypassAuthState||pc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function h1(n,e){const t=m1(e),r=p1(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function f1(n,e){pc.set(n._key(),e)}function p1(n){return Fr(n._redirectPersistence)}function m1(n){return fc(c1,n.config.apiKey,n.name)}async function g1(n,e,t=!1){if(In(n.app))return Promise.reject(Ur(n));const r=ks(n),s=s1(r,e),u=await new d1(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=10*60*1e3;class y1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_1(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!mw(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(lr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=v1&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gv(e))}saveEventToCache(e){this.cachedEventUids.add(Gv(e)),this.lastProcessedEventTime=Date.now()}}function Gv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function mw({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _1(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w1(n,e={}){return Jr(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,C1=/^https?/;async function T1(n){if(n.config.emulator)return;const{authorizedDomains:e}=await w1(n);for(const t of e)try{if(S1(t))return}catch{}qn(n,"unauthorized-domain")}function S1(n){const e=Tf(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!C1.test(t))return!1;if(E1.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1=new Nl(3e4,6e4);function Hv(){const n=ur().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function A1(n){return new Promise((e,t)=>{var r,s,a;function u(){Hv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Hv(),t(lr(n,"network-request-failed"))},timeout:I1.get()})}if(!((s=(r=ur().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=ur().gapi)===null||a===void 0)&&a.load)u();else{const h=pA("iframefcb");return ur()[h]=()=>{gapi.load?u():t(lr(n,"network-request-failed"))},Z_(`${fA()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw mc=null,e})}let mc=null;function x1(n){return mc=mc||A1(n),mc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=new Nl(5e3,15e3),R1="__/auth/iframe",k1="emulator/auth/iframe",N1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},b1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function D1(n){const e=n.config;Se(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?ip(e,k1):`https://${n.config.authDomain}/${R1}`,r={apiKey:e.apiKey,appName:n.name,v:Xo},s=b1.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${kl(r).slice(1)}`}async function M1(n){const e=await x1(n),t=ur().gapi;return Se(t,n,"internal-error"),e.open({where:document.body,url:D1(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:N1,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const u=lr(n,"network-request-failed"),h=ur().setTimeout(()=>{a(u)},P1.get());function f(){ur().clearTimeout(h),s(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},L1=500,O1=600,j1="_blank",F1="http://localhost";class qv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function B1(n,e,t,r=L1,s=O1){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f=Object.assign(Object.assign({},V1),{width:r.toString(),height:s.toString(),top:a,left:u}),p=Gt().toLowerCase();t&&(h=q_(p)?j1:t),G_(p)&&(e=e||F1,f.scrollbars="yes");const y=Object.entries(f).reduce((T,[M,x])=>`${T}${M}=${x},`,"");if(iA(p)&&h!=="_self")return U1(e||"",h),new qv(null);const w=window.open(e||"",h,y);Se(w,n,"popup-blocked");try{w.focus()}catch{}return new qv(w)}function U1(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="__/auth/handler",$1="emulator/auth/handler",G1=encodeURIComponent("fac");async function Wv(n,e,t,r,s,a){Se(n.config.authDomain,n,"auth-domain-config-required"),Se(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Xo,eventId:s};if(e instanceof nw){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",SS(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,w]of Object.entries({}))u[y]=w}if(e instanceof Dl){const y=e.getScopes().filter(w=>w!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await n._getAppCheckToken(),p=f?`#${G1}=${encodeURIComponent(f)}`:"";return`${H1(n)}?${kl(h).slice(1)}${p}`}function H1({config:n}){return n.emulator?ip(n,$1):`https://${n.authDomain}/${z1}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf="webStorageSupport";class q1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uw,this._completeRedirectFn=g1,this._overrideRedirectResult=f1}async _openPopup(e,t,r,s){var a;qr((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await Wv(e,t,r,Tf(),s);return B1(e,u,up())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await Wv(e,t,r,Tf(),s);return QA(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(qr(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await M1(e),r=new y1(e);return t.register("authEvent",s=>(Se(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(rf,{type:rf},s=>{var a;const u=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[rf];u!==void 0&&t(!!u),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=T1(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return X_()||H_()||op()}}const W1=q1;var Kv="@firebase/auth",Qv="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Y1(n){Bo(new Ss("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Se(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:J_(n)},p=new cA(r,s,a,f);return wA(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Bo(new Ss("auth-internal",e=>{const t=ks(e.getProvider("auth").getImmediate());return(r=>new K1(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mi(Kv,Qv,Q1(n)),Mi(Kv,Qv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1=5*60,J1=R_("authIdTokenMaxAge")||X1;let Yv=null;const Z1=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>J1)return;const s=t==null?void 0:t.token;Yv!==s&&(Yv=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function ex(n=D_()){const e=tp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=_A(n,{popupRedirectResolver:W1,persistence:[i1,qA,uw]}),r=R_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=Z1(a.toString());UA(t,u,()=>u(t.currentUser)),BA(t,h=>u(h))}}const s=x_("auth");return s&&EA(t,`http://${s}`),t}function tx(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}dA({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=lr("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",tx().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Y1("Browser");var Xv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vi,gw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,P){function C(){}C.prototype=P.prototype,j.D=P.prototype,j.prototype=new C,j.prototype.constructor=j,j.C=function(I,A,N){for(var b=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)b[ie-2]=arguments[ie];return P.prototype[A].apply(I,b)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(j,P,C){C||(C=0);var I=Array(16);if(typeof P=="string")for(var A=0;16>A;++A)I[A]=P.charCodeAt(C++)|P.charCodeAt(C++)<<8|P.charCodeAt(C++)<<16|P.charCodeAt(C++)<<24;else for(A=0;16>A;++A)I[A]=P[C++]|P[C++]<<8|P[C++]<<16|P[C++]<<24;P=j.g[0],C=j.g[1],A=j.g[2];var N=j.g[3],b=P+(N^C&(A^N))+I[0]+3614090360&4294967295;P=C+(b<<7&4294967295|b>>>25),b=N+(A^P&(C^A))+I[1]+3905402710&4294967295,N=P+(b<<12&4294967295|b>>>20),b=A+(C^N&(P^C))+I[2]+606105819&4294967295,A=N+(b<<17&4294967295|b>>>15),b=C+(P^A&(N^P))+I[3]+3250441966&4294967295,C=A+(b<<22&4294967295|b>>>10),b=P+(N^C&(A^N))+I[4]+4118548399&4294967295,P=C+(b<<7&4294967295|b>>>25),b=N+(A^P&(C^A))+I[5]+1200080426&4294967295,N=P+(b<<12&4294967295|b>>>20),b=A+(C^N&(P^C))+I[6]+2821735955&4294967295,A=N+(b<<17&4294967295|b>>>15),b=C+(P^A&(N^P))+I[7]+4249261313&4294967295,C=A+(b<<22&4294967295|b>>>10),b=P+(N^C&(A^N))+I[8]+1770035416&4294967295,P=C+(b<<7&4294967295|b>>>25),b=N+(A^P&(C^A))+I[9]+2336552879&4294967295,N=P+(b<<12&4294967295|b>>>20),b=A+(C^N&(P^C))+I[10]+4294925233&4294967295,A=N+(b<<17&4294967295|b>>>15),b=C+(P^A&(N^P))+I[11]+2304563134&4294967295,C=A+(b<<22&4294967295|b>>>10),b=P+(N^C&(A^N))+I[12]+1804603682&4294967295,P=C+(b<<7&4294967295|b>>>25),b=N+(A^P&(C^A))+I[13]+4254626195&4294967295,N=P+(b<<12&4294967295|b>>>20),b=A+(C^N&(P^C))+I[14]+2792965006&4294967295,A=N+(b<<17&4294967295|b>>>15),b=C+(P^A&(N^P))+I[15]+1236535329&4294967295,C=A+(b<<22&4294967295|b>>>10),b=P+(A^N&(C^A))+I[1]+4129170786&4294967295,P=C+(b<<5&4294967295|b>>>27),b=N+(C^A&(P^C))+I[6]+3225465664&4294967295,N=P+(b<<9&4294967295|b>>>23),b=A+(P^C&(N^P))+I[11]+643717713&4294967295,A=N+(b<<14&4294967295|b>>>18),b=C+(N^P&(A^N))+I[0]+3921069994&4294967295,C=A+(b<<20&4294967295|b>>>12),b=P+(A^N&(C^A))+I[5]+3593408605&4294967295,P=C+(b<<5&4294967295|b>>>27),b=N+(C^A&(P^C))+I[10]+38016083&4294967295,N=P+(b<<9&4294967295|b>>>23),b=A+(P^C&(N^P))+I[15]+3634488961&4294967295,A=N+(b<<14&4294967295|b>>>18),b=C+(N^P&(A^N))+I[4]+3889429448&4294967295,C=A+(b<<20&4294967295|b>>>12),b=P+(A^N&(C^A))+I[9]+568446438&4294967295,P=C+(b<<5&4294967295|b>>>27),b=N+(C^A&(P^C))+I[14]+3275163606&4294967295,N=P+(b<<9&4294967295|b>>>23),b=A+(P^C&(N^P))+I[3]+4107603335&4294967295,A=N+(b<<14&4294967295|b>>>18),b=C+(N^P&(A^N))+I[8]+1163531501&4294967295,C=A+(b<<20&4294967295|b>>>12),b=P+(A^N&(C^A))+I[13]+2850285829&4294967295,P=C+(b<<5&4294967295|b>>>27),b=N+(C^A&(P^C))+I[2]+4243563512&4294967295,N=P+(b<<9&4294967295|b>>>23),b=A+(P^C&(N^P))+I[7]+1735328473&4294967295,A=N+(b<<14&4294967295|b>>>18),b=C+(N^P&(A^N))+I[12]+2368359562&4294967295,C=A+(b<<20&4294967295|b>>>12),b=P+(C^A^N)+I[5]+4294588738&4294967295,P=C+(b<<4&4294967295|b>>>28),b=N+(P^C^A)+I[8]+2272392833&4294967295,N=P+(b<<11&4294967295|b>>>21),b=A+(N^P^C)+I[11]+1839030562&4294967295,A=N+(b<<16&4294967295|b>>>16),b=C+(A^N^P)+I[14]+4259657740&4294967295,C=A+(b<<23&4294967295|b>>>9),b=P+(C^A^N)+I[1]+2763975236&4294967295,P=C+(b<<4&4294967295|b>>>28),b=N+(P^C^A)+I[4]+1272893353&4294967295,N=P+(b<<11&4294967295|b>>>21),b=A+(N^P^C)+I[7]+4139469664&4294967295,A=N+(b<<16&4294967295|b>>>16),b=C+(A^N^P)+I[10]+3200236656&4294967295,C=A+(b<<23&4294967295|b>>>9),b=P+(C^A^N)+I[13]+681279174&4294967295,P=C+(b<<4&4294967295|b>>>28),b=N+(P^C^A)+I[0]+3936430074&4294967295,N=P+(b<<11&4294967295|b>>>21),b=A+(N^P^C)+I[3]+3572445317&4294967295,A=N+(b<<16&4294967295|b>>>16),b=C+(A^N^P)+I[6]+76029189&4294967295,C=A+(b<<23&4294967295|b>>>9),b=P+(C^A^N)+I[9]+3654602809&4294967295,P=C+(b<<4&4294967295|b>>>28),b=N+(P^C^A)+I[12]+3873151461&4294967295,N=P+(b<<11&4294967295|b>>>21),b=A+(N^P^C)+I[15]+530742520&4294967295,A=N+(b<<16&4294967295|b>>>16),b=C+(A^N^P)+I[2]+3299628645&4294967295,C=A+(b<<23&4294967295|b>>>9),b=P+(A^(C|~N))+I[0]+4096336452&4294967295,P=C+(b<<6&4294967295|b>>>26),b=N+(C^(P|~A))+I[7]+1126891415&4294967295,N=P+(b<<10&4294967295|b>>>22),b=A+(P^(N|~C))+I[14]+2878612391&4294967295,A=N+(b<<15&4294967295|b>>>17),b=C+(N^(A|~P))+I[5]+4237533241&4294967295,C=A+(b<<21&4294967295|b>>>11),b=P+(A^(C|~N))+I[12]+1700485571&4294967295,P=C+(b<<6&4294967295|b>>>26),b=N+(C^(P|~A))+I[3]+2399980690&4294967295,N=P+(b<<10&4294967295|b>>>22),b=A+(P^(N|~C))+I[10]+4293915773&4294967295,A=N+(b<<15&4294967295|b>>>17),b=C+(N^(A|~P))+I[1]+2240044497&4294967295,C=A+(b<<21&4294967295|b>>>11),b=P+(A^(C|~N))+I[8]+1873313359&4294967295,P=C+(b<<6&4294967295|b>>>26),b=N+(C^(P|~A))+I[15]+4264355552&4294967295,N=P+(b<<10&4294967295|b>>>22),b=A+(P^(N|~C))+I[6]+2734768916&4294967295,A=N+(b<<15&4294967295|b>>>17),b=C+(N^(A|~P))+I[13]+1309151649&4294967295,C=A+(b<<21&4294967295|b>>>11),b=P+(A^(C|~N))+I[4]+4149444226&4294967295,P=C+(b<<6&4294967295|b>>>26),b=N+(C^(P|~A))+I[11]+3174756917&4294967295,N=P+(b<<10&4294967295|b>>>22),b=A+(P^(N|~C))+I[2]+718787259&4294967295,A=N+(b<<15&4294967295|b>>>17),b=C+(N^(A|~P))+I[9]+3951481745&4294967295,j.g[0]=j.g[0]+P&4294967295,j.g[1]=j.g[1]+(A+(b<<21&4294967295|b>>>11))&4294967295,j.g[2]=j.g[2]+A&4294967295,j.g[3]=j.g[3]+N&4294967295}r.prototype.u=function(j,P){P===void 0&&(P=j.length);for(var C=P-this.blockSize,I=this.B,A=this.h,N=0;N<P;){if(A==0)for(;N<=C;)s(this,j,N),N+=this.blockSize;if(typeof j=="string"){for(;N<P;)if(I[A++]=j.charCodeAt(N++),A==this.blockSize){s(this,I),A=0;break}}else for(;N<P;)if(I[A++]=j[N++],A==this.blockSize){s(this,I),A=0;break}}this.h=A,this.o+=P},r.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var P=1;P<j.length-8;++P)j[P]=0;var C=8*this.o;for(P=j.length-8;P<j.length;++P)j[P]=C&255,C/=256;for(this.u(j),j=Array(16),P=C=0;4>P;++P)for(var I=0;32>I;I+=8)j[C++]=this.g[P]>>>I&255;return j};function a(j,P){var C=h;return Object.prototype.hasOwnProperty.call(C,j)?C[j]:C[j]=P(j)}function u(j,P){this.h=P;for(var C=[],I=!0,A=j.length-1;0<=A;A--){var N=j[A]|0;I&&N==P||(C[A]=N,I=!1)}this.g=C}var h={};function f(j){return-128<=j&&128>j?a(j,function(P){return new u([P|0],0>P?-1:0)}):new u([j|0],0>j?-1:0)}function p(j){if(isNaN(j)||!isFinite(j))return w;if(0>j)return O(p(-j));for(var P=[],C=1,I=0;j>=C;I++)P[I]=j/C|0,C*=4294967296;return new u(P,0)}function y(j,P){if(j.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(j.charAt(0)=="-")return O(y(j.substring(1),P));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=p(Math.pow(P,8)),I=w,A=0;A<j.length;A+=8){var N=Math.min(8,j.length-A),b=parseInt(j.substring(A,A+N),P);8>N?(N=p(Math.pow(P,N)),I=I.j(N).add(p(b))):(I=I.j(C),I=I.add(p(b)))}return I}var w=f(0),T=f(1),M=f(16777216);n=u.prototype,n.m=function(){if(V(this))return-O(this).m();for(var j=0,P=1,C=0;C<this.g.length;C++){var I=this.i(C);j+=(0<=I?I:4294967296+I)*P,P*=4294967296}return j},n.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(x(this))return"0";if(V(this))return"-"+O(this).toString(j);for(var P=p(Math.pow(j,6)),C=this,I="";;){var A=$(C,P).g;C=D(C,A.j(P));var N=((0<C.g.length?C.g[0]:C.h)>>>0).toString(j);if(C=A,x(C))return N+I;for(;6>N.length;)N="0"+N;I=N+I}},n.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function x(j){if(j.h!=0)return!1;for(var P=0;P<j.g.length;P++)if(j.g[P]!=0)return!1;return!0}function V(j){return j.h==-1}n.l=function(j){return j=D(this,j),V(j)?-1:x(j)?0:1};function O(j){for(var P=j.g.length,C=[],I=0;I<P;I++)C[I]=~j.g[I];return new u(C,~j.h).add(T)}n.abs=function(){return V(this)?O(this):this},n.add=function(j){for(var P=Math.max(this.g.length,j.g.length),C=[],I=0,A=0;A<=P;A++){var N=I+(this.i(A)&65535)+(j.i(A)&65535),b=(N>>>16)+(this.i(A)>>>16)+(j.i(A)>>>16);I=b>>>16,N&=65535,b&=65535,C[A]=b<<16|N}return new u(C,C[C.length-1]&-2147483648?-1:0)};function D(j,P){return j.add(O(P))}n.j=function(j){if(x(this)||x(j))return w;if(V(this))return V(j)?O(this).j(O(j)):O(O(this).j(j));if(V(j))return O(this.j(O(j)));if(0>this.l(M)&&0>j.l(M))return p(this.m()*j.m());for(var P=this.g.length+j.g.length,C=[],I=0;I<2*P;I++)C[I]=0;for(I=0;I<this.g.length;I++)for(var A=0;A<j.g.length;A++){var N=this.i(I)>>>16,b=this.i(I)&65535,ie=j.i(A)>>>16,le=j.i(A)&65535;C[2*I+2*A]+=b*le,R(C,2*I+2*A),C[2*I+2*A+1]+=N*le,R(C,2*I+2*A+1),C[2*I+2*A+1]+=b*ie,R(C,2*I+2*A+1),C[2*I+2*A+2]+=N*ie,R(C,2*I+2*A+2)}for(I=0;I<P;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=P;I<2*P;I++)C[I]=0;return new u(C,0)};function R(j,P){for(;(j[P]&65535)!=j[P];)j[P+1]+=j[P]>>>16,j[P]&=65535,P++}function L(j,P){this.g=j,this.h=P}function $(j,P){if(x(P))throw Error("division by zero");if(x(j))return new L(w,w);if(V(j))return P=$(O(j),P),new L(O(P.g),O(P.h));if(V(P))return P=$(j,O(P)),new L(O(P.g),P.h);if(30<j.g.length){if(V(j)||V(P))throw Error("slowDivide_ only works with positive integers.");for(var C=T,I=P;0>=I.l(j);)C=Q(C),I=Q(I);var A=K(C,1),N=K(I,1);for(I=K(I,2),C=K(C,2);!x(I);){var b=N.add(I);0>=b.l(j)&&(A=A.add(C),N=b),I=K(I,1),C=K(C,1)}return P=D(j,A.j(P)),new L(A,P)}for(A=w;0<=j.l(P);){for(C=Math.max(1,Math.floor(j.m()/P.m())),I=Math.ceil(Math.log(C)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),N=p(C),b=N.j(P);V(b)||0<b.l(j);)C-=I,N=p(C),b=N.j(P);x(N)&&(N=T),A=A.add(N),j=D(j,b)}return new L(A,j)}n.A=function(j){return $(this,j).h},n.and=function(j){for(var P=Math.max(this.g.length,j.g.length),C=[],I=0;I<P;I++)C[I]=this.i(I)&j.i(I);return new u(C,this.h&j.h)},n.or=function(j){for(var P=Math.max(this.g.length,j.g.length),C=[],I=0;I<P;I++)C[I]=this.i(I)|j.i(I);return new u(C,this.h|j.h)},n.xor=function(j){for(var P=Math.max(this.g.length,j.g.length),C=[],I=0;I<P;I++)C[I]=this.i(I)^j.i(I);return new u(C,this.h^j.h)};function Q(j){for(var P=j.g.length+1,C=[],I=0;I<P;I++)C[I]=j.i(I)<<1|j.i(I-1)>>>31;return new u(C,j.h)}function K(j,P){var C=P>>5;P%=32;for(var I=j.g.length-C,A=[],N=0;N<I;N++)A[N]=0<P?j.i(N+C)>>>P|j.i(N+C+1)<<32-P:j.i(N+C);return new u(A,j.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,gw=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,Vi=u}).apply(typeof Xv<"u"?Xv:typeof self<"u"?self:typeof window<"u"?window:{});var rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vw,il,yw,gc,xf,_w,ww,Ew;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,E){return c==Array.prototype||c==Object.prototype||(c[g]=E.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof rc=="object"&&rc];for(var g=0;g<c.length;++g){var E=c[g];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function s(c,g){if(g)e:{var E=r;c=c.split(".");for(var k=0;k<c.length-1;k++){var H=c[k];if(!(H in E))break e;E=E[H]}c=c[c.length-1],k=E[c],g=g(k),g!=k&&g!=null&&e(E,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var E=0,k=!1,H={next:function(){if(!k&&E<c.length){var X=E++;return{value:g(X,c[X]),done:!1}}return k=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}s("Array.prototype.values",function(c){return c||function(){return a(this,function(g,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function p(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function y(c,g,E){return c.call.apply(c.bind,arguments)}function w(c,g,E){if(!c)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,k),c.apply(g,H)}}return function(){return c.apply(g,arguments)}}function T(c,g,E){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:w,T.apply(null,arguments)}function M(c,g){var E=Array.prototype.slice.call(arguments,1);return function(){var k=E.slice();return k.push.apply(k,arguments),c.apply(this,k)}}function x(c,g){function E(){}E.prototype=g.prototype,c.aa=g.prototype,c.prototype=new E,c.prototype.constructor=c,c.Qb=function(k,H,X){for(var de=Array(arguments.length-2),He=2;He<arguments.length;He++)de[He-2]=arguments[He];return g.prototype[H].apply(k,de)}}function V(c){const g=c.length;if(0<g){const E=Array(g);for(let k=0;k<g;k++)E[k]=c[k];return E}return[]}function O(c,g){for(let E=1;E<arguments.length;E++){const k=arguments[E];if(f(k)){const H=c.length||0,X=k.length||0;c.length=H+X;for(let de=0;de<X;de++)c[H+de]=k[de]}else c.push(k)}}class D{constructor(g,E){this.i=g,this.j=E,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function R(c){return/^[\s\xa0]*$/.test(c)}function L(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function $(c){return $[" "](c),c}$[" "]=function(){};var Q=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function K(c,g,E){for(const k in c)g.call(E,c[k],k,c)}function j(c,g){for(const E in c)g.call(void 0,c[E],E,c)}function P(c){const g={};for(const E in c)g[E]=c[E];return g}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,g){let E,k;for(let H=1;H<arguments.length;H++){k=arguments[H];for(E in k)c[E]=k[E];for(let X=0;X<C.length;X++)E=C[X],Object.prototype.hasOwnProperty.call(k,E)&&(c[E]=k[E])}}function A(c){var g=1;c=c.split(":");const E=[];for(;0<g&&c.length;)E.push(c.shift()),g--;return c.length&&E.push(c.join(":")),E}function N(c){h.setTimeout(()=>{throw c},0)}function b(){var c=ae;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class ie{constructor(){this.h=this.g=null}add(g,E){const k=le.get();k.set(g,E),this.h?this.h.next=k:this.g=k,this.h=k}}var le=new D(()=>new ce,c=>c.reset());class ce{constructor(){this.next=this.g=this.h=null}set(g,E){this.h=g,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let me,J=!1,ae=new ie,oe=()=>{const c=h.Promise.resolve(void 0);me=()=>{c.then(G)}};var G=()=>{for(var c;c=b();){try{c.h.call(c.g)}catch(E){N(E)}var g=le;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}J=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function we(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}we.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};h.addEventListener("test",E,g),h.removeEventListener("test",E,g)}catch{}return c}();function Ne(c,g){if(we.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var E=this.type=c.type,k=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(Q){e:{try{$(g.nodeName);var H=!0;break e}catch{}H=!1}H||(g=null)}}else E=="mouseover"?g=c.fromElement:E=="mouseout"&&(g=c.toElement);this.relatedTarget=g,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Le[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ne.aa.h.call(this)}}x(Ne,we);var Le={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ze="closure_listenable_"+(1e6*Math.random()|0),$e=0;function We(c,g,E,k,H){this.listener=c,this.proxy=null,this.src=g,this.type=E,this.capture=!!k,this.ha=H,this.key=++$e,this.da=this.fa=!1}function Ct(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function yr(c){this.src=c,this.g={},this.h=0}yr.prototype.add=function(c,g,E,k,H){var X=c.toString();c=this.g[X],c||(c=this.g[X]=[],this.h++);var de=ei(c,g,k,H);return-1<de?(g=c[de],E||(g.fa=!1)):(g=new We(g,this.src,X,!!k,H),g.fa=E,c.push(g)),g};function Ls(c,g){var E=g.type;if(E in c.g){var k=c.g[E],H=Array.prototype.indexOf.call(k,g,void 0),X;(X=0<=H)&&Array.prototype.splice.call(k,H,1),X&&(Ct(g),c.g[E].length==0&&(delete c.g[E],c.h--))}}function ei(c,g,E,k){for(var H=0;H<c.length;++H){var X=c[H];if(!X.da&&X.listener==g&&X.capture==!!E&&X.ha==k)return H}return-1}var Hi="closure_lm_"+(1e6*Math.random()|0),Os={};function ia(c,g,E,k,H){if(Array.isArray(g)){for(var X=0;X<g.length;X++)ia(c,g[X],E,k,H);return null}return E=aa(E),c&&c[ze]?c.K(g,E,p(k)?!!k.capture:!1,H):sa(c,g,E,!1,k,H)}function sa(c,g,E,k,H,X){if(!g)throw Error("Invalid event type");var de=p(H)?!!H.capture:!!H,He=Fs(c);if(He||(c[Hi]=He=new yr(c)),E=He.add(g,E,k,de,X),E.proxy)return E;if(k=Fl(),E.proxy=k,k.src=c,k.listener=E,c.addEventListener)Re||(H=de),H===void 0&&(H=!1),c.addEventListener(g.toString(),k,H);else if(c.attachEvent)c.attachEvent(wr(g.toString()),k);else if(c.addListener&&c.removeListener)c.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Fl(){function c(E){return g.call(c.src,c.listener,E)}const g=oa;return c}function js(c,g,E,k,H){if(Array.isArray(g))for(var X=0;X<g.length;X++)js(c,g[X],E,k,H);else k=p(k)?!!k.capture:!!k,E=aa(E),c&&c[ze]?(c=c.i,g=String(g).toString(),g in c.g&&(X=c.g[g],E=ei(X,E,k,H),-1<E&&(Ct(X[E]),Array.prototype.splice.call(X,E,1),X.length==0&&(delete c.g[g],c.h--)))):c&&(c=Fs(c))&&(g=c.g[g.toString()],c=-1,g&&(c=ei(g,E,k,H)),(E=-1<c?g[c]:null)&&_r(E))}function _r(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[ze])Ls(g.i,c);else{var E=c.type,k=c.proxy;g.removeEventListener?g.removeEventListener(E,k,c.capture):g.detachEvent?g.detachEvent(wr(E),k):g.addListener&&g.removeListener&&g.removeListener(k),(E=Fs(g))?(Ls(E,c),E.h==0&&(E.src=null,g[Hi]=null)):Ct(c)}}}function wr(c){return c in Os?Os[c]:Os[c]="on"+c}function oa(c,g){if(c.da)c=!0;else{g=new Ne(g,this);var E=c.listener,k=c.ha||c.src;c.fa&&_r(c),c=E.call(k,g)}return c}function Fs(c){return c=c[Hi],c instanceof yr?c:null}var Bs="__closure_events_fn_"+(1e9*Math.random()>>>0);function aa(c){return typeof c=="function"?c:(c[Bs]||(c[Bs]=function(g){return c.handleEvent(g)}),c[Bs])}function pt(){ee.call(this),this.i=new yr(this),this.M=this,this.F=null}x(pt,ee),pt.prototype[ze]=!0,pt.prototype.removeEventListener=function(c,g,E,k){js(this,c,g,E,k)};function mt(c,g){var E,k=c.F;if(k)for(E=[];k;k=k.F)E.push(k);if(c=c.M,k=g.type||g,typeof g=="string")g=new we(g,c);else if(g instanceof we)g.target=g.target||c;else{var H=g;g=new we(k,c),I(g,H)}if(H=!0,E)for(var X=E.length-1;0<=X;X--){var de=g.g=E[X];H=Er(de,k,!0,g)&&H}if(de=g.g=c,H=Er(de,k,!0,g)&&H,H=Er(de,k,!1,g)&&H,E)for(X=0;X<E.length;X++)de=g.g=E[X],H=Er(de,k,!1,g)&&H}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var E=c.g[g],k=0;k<E.length;k++)Ct(E[k]);delete c.g[g],c.h--}}this.F=null},pt.prototype.K=function(c,g,E,k){return this.i.add(String(c),g,!1,E,k)},pt.prototype.L=function(c,g,E,k){return this.i.add(String(c),g,!0,E,k)};function Er(c,g,E,k){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var H=!0,X=0;X<g.length;++X){var de=g[X];if(de&&!de.da&&de.capture==E){var He=de.listener,gt=de.ha||de.src;de.fa&&Ls(c.i,de),H=He.call(gt,k)!==!1&&H}}return H&&!k.defaultPrevented}function la(c,g,E){if(typeof c=="function")E&&(c=T(c,E));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:h.setTimeout(c,g||0)}function ti(c){c.g=la(()=>{c.g=null,c.i&&(c.i=!1,ti(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class qi extends ee{constructor(g,E){super(),this.m=g,this.l=E,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ti(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wi(c){ee.call(this),this.h=c,this.g={}}x(Wi,ee);var ua=[];function ca(c){K(c.g,function(g,E){this.g.hasOwnProperty(E)&&_r(g)},c),c.g={}}Wi.prototype.N=function(){Wi.aa.N.call(this),ca(this)},Wi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var da=h.JSON.stringify,ha=h.JSON.parse,fa=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Ki(){}Ki.prototype.h=null;function Us(c){return c.h||(c.h=c.i())}function zs(){}var mn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qn(){we.call(this,"d")}x(Qn,we);function $s(){we.call(this,"c")}x($s,we);var Yn={},pa=null;function Qi(){return pa=pa||new pt}Yn.La="serverreachability";function ma(c){we.call(this,Yn.La,c)}x(ma,we);function Cr(c){const g=Qi();mt(g,new ma(g))}Yn.STAT_EVENT="statevent";function ga(c,g){we.call(this,Yn.STAT_EVENT,c),this.stat=g}x(ga,we);function ot(c){const g=Qi();mt(g,new ga(g,c))}Yn.Ma="timingevent";function Gs(c,g){we.call(this,Yn.Ma,c),this.size=g}x(Gs,we);function xn(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},g)}function Yi(){this.g=!0}Yi.prototype.xa=function(){this.g=!1};function Xi(c,g,E,k,H,X){c.info(function(){if(c.g)if(X)for(var de="",He=X.split("&"),gt=0;gt<He.length;gt++){var Oe=He[gt].split("=");if(1<Oe.length){var Tt=Oe[0];Oe=Oe[1];var ut=Tt.split("_");de=2<=ut.length&&ut[1]=="type"?de+(Tt+"="+Oe+"&"):de+(Tt+"=redacted&")}}else de=null;else de=X;return"XMLHTTP REQ ("+k+") [attempt "+H+"]: "+g+`
`+E+`
`+de})}function Hs(c,g,E,k,H,X,de){c.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+H+"]: "+g+`
`+E+`
`+X+" "+de})}function Pn(c,g,E,k){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+yd(c,E)+(k?" "+k:"")})}function va(c,g){c.info(function(){return"TIMEOUT: "+g})}Yi.prototype.info=function(){};function yd(c,g){if(!c.g)return g;if(!g)return null;try{var E=JSON.parse(g);if(E){for(c=0;c<E.length;c++)if(Array.isArray(E[c])){var k=E[c];if(!(2>k.length)){var H=k[1];if(Array.isArray(H)&&!(1>H.length)){var X=H[0];if(X!="noop"&&X!="stop"&&X!="close")for(var de=1;de<H.length;de++)H[de]=""}}}}return da(E)}catch{return g}}var qs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Bl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Rn;function Ji(){}x(Ji,Ki),Ji.prototype.g=function(){return new XMLHttpRequest},Ji.prototype.i=function(){return{}},Rn=new Ji;function kn(c,g,E,k){this.j=c,this.i=g,this.l=E,this.R=k||1,this.U=new Wi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ul}function Ul(){this.i=null,this.g="",this.h=!1}var ya={},Ws={};function Ks(c,g,E){c.L=1,c.v=oi(ln(g)),c.m=E,c.P=!0,_a(c,null)}function _a(c,g){c.F=Date.now(),Ke(c),c.A=ln(c.v);var E=c.A,k=c.R;Array.isArray(k)||(k=[String(k)]),li(E.i,"t",k),c.C=0,E=c.j.J,c.h=new Ul,c.g=su(c.j,E?g:null,!c.m),0<c.O&&(c.M=new qi(T(c.Y,c,c.g),c.O)),g=c.U,E=c.g,k=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(ua[0]=H.toString()),H=ua);for(var X=0;X<H.length;X++){var de=ia(E,H[X],k||g.handleEvent,!1,g.h||g);if(!de)break;g.g[de.key]=de}g=c.H?P(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Cr(),Xi(c.i,c.u,c.A,c.l,c.R,c.m)}kn.prototype.ca=function(c){c=c.target;const g=this.M;g&&Xt(c)==3?g.j():this.Y(c)},kn.prototype.Y=function(c){try{if(c==this.g)e:{const ut=Xt(this.g);var g=this.g.Ba();const yn=this.g.Z();if(!(3>ut)&&(ut!=3||this.g&&(this.h.h||this.g.oa()||Ia(this.g)))){this.J||ut!=4||g==7||(g==8||0>=yn?Cr(3):Cr(2)),Zi(this);var E=this.g.Z();this.X=E;t:if(zl(this)){var k=Ia(this.g);c="";var H=k.length,X=Xt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gn(this),ni(this);var de="";break t}this.h.i=new h.TextDecoder}for(g=0;g<H;g++)this.h.h=!0,c+=this.h.i.decode(k[g],{stream:!(X&&g==H-1)});k.length=0,this.h.g+=c,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=E==200,Hs(this.i,this.u,this.A,this.l,this.R,ut,E),this.o){if(this.T&&!this.K){t:{if(this.g){var He,gt=this.g;if((He=gt.g?gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(He)){var Oe=He;break t}}Oe=null}if(E=Oe)Pn(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wa(this,E);else{this.o=!1,this.s=3,ot(12),gn(this),ni(this);break e}}if(this.P){E=!0;let cn;for(;!this.J&&this.C<de.length;)if(cn=_d(this,de),cn==Ws){ut==4&&(this.s=4,ot(14),E=!1),Pn(this.i,this.l,null,"[Incomplete Response]");break}else if(cn==ya){this.s=4,ot(15),Pn(this.i,this.l,de,"[Invalid Chunk]"),E=!1;break}else Pn(this.i,this.l,cn,null),wa(this,cn);if(zl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ut!=4||de.length!=0||this.h.h||(this.s=1,ot(16),E=!1),this.o=this.o&&E,!E)Pn(this.i,this.l,de,"[Invalid Chunked Response]"),gn(this),ni(this);else if(0<de.length&&!this.W){this.W=!0;var Tt=this.j;Tt.g==this&&Tt.ba&&!Tt.M&&(Tt.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),xa(Tt),Tt.M=!0,ot(11))}}else Pn(this.i,this.l,de,null),wa(this,de);ut==4&&gn(this),this.o&&!this.J&&(ut==4?so(this.j,this):(this.o=!1,Ke(this)))}else eo(this.g),E==400&&0<de.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),gn(this),ni(this)}}}catch{}finally{}};function zl(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function _d(c,g){var E=c.C,k=g.indexOf(`
`,E);return k==-1?Ws:(E=Number(g.substring(E,k)),isNaN(E)?ya:(k+=1,k+E>g.length?Ws:(g=g.slice(k,k+E),c.C=k+E,g)))}kn.prototype.cancel=function(){this.J=!0,gn(this)};function Ke(c){c.S=Date.now()+c.I,$l(c,c.I)}function $l(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=xn(T(c.ba,c),g)}function Zi(c){c.B&&(h.clearTimeout(c.B),c.B=null)}kn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(va(this.i,this.A),this.L!=2&&(Cr(),ot(17)),gn(this),this.s=2,ni(this)):$l(this,this.S-c)};function ni(c){c.j.G==0||c.J||so(c.j,c)}function gn(c){Zi(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,ca(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function wa(c,g){try{var E=c.j;if(E.G!=0&&(E.g==c||Ht(E.h,c))){if(!c.K&&Ht(E.h,c)&&E.G==3){try{var k=E.Da.g.parse(g)}catch{k=null}if(Array.isArray(k)&&k.length==3){var H=k;if(H[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<c.F)io(E),Vn(E);else break e;ro(E),ot(18)}}else E.za=H[1],0<E.za-E.T&&37500>H[2]&&E.F&&E.v==0&&!E.C&&(E.C=xn(T(E.Za,E),6e3));if(1>=Hl(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else xr(E,11)}else if((c.K||E.g==c)&&io(E),!R(g))for(H=E.Da.g.parse(g),g=0;g<H.length;g++){let Oe=H[g];if(E.T=Oe[0],Oe=Oe[1],E.G==2)if(Oe[0]=="c"){E.K=Oe[1],E.ia=Oe[2];const Tt=Oe[3];Tt!=null&&(E.la=Tt,E.j.info("VER="+E.la));const ut=Oe[4];ut!=null&&(E.Aa=ut,E.j.info("SVER="+E.Aa));const yn=Oe[5];yn!=null&&typeof yn=="number"&&0<yn&&(k=1.5*yn,E.L=k,E.j.info("backChannelRequestTimeoutMs_="+k)),k=E;const cn=c.g;if(cn){const os=cn.g?cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(os){var X=k.h;X.g||os.indexOf("spdy")==-1&&os.indexOf("quic")==-1&&os.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Ea(X,X.h),X.h=null))}if(k.D){const ao=cn.g?cn.g.getResponseHeader("X-HTTP-Session-Id"):null;ao&&(k.ya=ao,qe(k.I,k.D,ao))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-c.F,E.j.info("Handshake RTT: "+E.R+"ms")),k=E;var de=c;if(k.qa=iu(k,k.J?k.ia:null,k.W),de.K){ql(k.h,de);var He=de,gt=k.L;gt&&(He.I=gt),He.B&&(Zi(He),Ke(He)),k.g=de}else ss(k);0<E.i.length&&er(E)}else Oe[0]!="stop"&&Oe[0]!="close"||xr(E,7);else E.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?xr(E,7):kt(E):Oe[0]!="noop"&&E.l&&E.l.ta(Oe),E.v=0)}}Cr(4)}catch{}}var Gl=class{constructor(c,g){this.g=c,this.map=g}};function es(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function an(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Hl(c){return c.h?1:c.g?c.g.size:0}function Ht(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Ea(c,g){c.g?c.g.add(g):c.h=g}function ql(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}es.prototype.cancel=function(){if(this.i=Wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Wl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const E of c.g.values())g=g.concat(E.D);return g}return V(c.i)}function Qs(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],E=c.length,k=0;k<E;k++)g.push(c[k]);return g}g=[],E=0;for(k in c)g[E++]=c[k];return g}function Ys(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var E=0;E<c;E++)g.push(E);return g}g=[],E=0;for(const k in c)g[E++]=k;return g}}}function ri(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var E=Ys(c),k=Qs(c),H=k.length,X=0;X<H;X++)g.call(void 0,k[X],E&&E[X],c)}var ts=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wd(c,g){if(c){c=c.split("&");for(var E=0;E<c.length;E++){var k=c[E].indexOf("="),H=null;if(0<=k){var X=c[E].substring(0,k);H=c[E].substring(k+1)}else X=c[E];g(X,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Tr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Tr){this.h=c.h,ns(this,c.j),this.o=c.o,this.g=c.g,ii(this,c.s),this.l=c.l;var g=c.i,E=new Xn;E.i=g.i,g.g&&(E.g=new Map(g.g),E.h=g.h),si(this,E),this.m=c.m}else c&&(g=String(c).match(ts))?(this.h=!1,ns(this,g[1]||"",!0),this.o=Ve(g[2]||""),this.g=Ve(g[3]||"",!0),ii(this,g[4]),this.l=Ve(g[5]||"",!0),si(this,g[6]||"",!0),this.m=Ve(g[7]||"")):(this.h=!1,this.i=new Xn(null,this.h))}Tr.prototype.toString=function(){var c=[],g=this.j;g&&c.push(ai(g,Xs,!0),":");var E=this.g;return(E||g=="file")&&(c.push("//"),(g=this.o)&&c.push(ai(g,Xs,!0),"@"),c.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&c.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(ai(E,E.charAt(0)=="/"?Yl:Ql,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",ai(E,Ca)),c.join("")};function ln(c){return new Tr(c)}function ns(c,g,E){c.j=E?Ve(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function ii(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function si(c,g,E){g instanceof Xn?(c.i=g,Jn(c.i,c.h)):(E||(g=ai(g,Xl)),c.i=new Xn(g,c.h))}function qe(c,g,E){c.i.set(g,E)}function oi(c){return qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ve(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ai(c,g,E){return typeof c=="string"?(c=encodeURI(c).replace(g,Kl),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Kl(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Xs=/[#\/\?@]/g,Ql=/[#\?:]/g,Yl=/[#\?]/g,Xl=/[#\?@]/g,Ca=/#/g;function Xn(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Rt(c){c.g||(c.g=new Map,c.h=0,c.i&&wd(c.i,function(g,E){c.add(decodeURIComponent(g.replace(/\+/g," ")),E)}))}n=Xn.prototype,n.add=function(c,g){Rt(this),this.i=null,c=vn(this,c);var E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(g),this.h+=1,this};function Nn(c,g){Rt(c),g=vn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function bn(c,g){return Rt(c),g=vn(c,g),c.g.has(g)}n.forEach=function(c,g){Rt(this),this.g.forEach(function(E,k){E.forEach(function(H){c.call(g,H,k,this)},this)},this)},n.na=function(){Rt(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),E=[];for(let k=0;k<g.length;k++){const H=c[k];for(let X=0;X<H.length;X++)E.push(g[k])}return E},n.V=function(c){Rt(this);let g=[];if(typeof c=="string")bn(this,c)&&(g=g.concat(this.g.get(vn(this,c))));else{c=Array.from(this.g.values());for(let E=0;E<c.length;E++)g=g.concat(c[E])}return g},n.set=function(c,g){return Rt(this),this.i=null,c=vn(this,c),bn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function li(c,g,E){Nn(c,g),0<E.length&&(c.i=null,c.g.set(vn(c,g),V(E)),c.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var E=0;E<g.length;E++){var k=g[E];const X=encodeURIComponent(String(k)),de=this.V(k);for(k=0;k<de.length;k++){var H=X;de[k]!==""&&(H+="="+encodeURIComponent(String(de[k]))),c.push(H)}}return this.i=c.join("&")};function vn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Jn(c,g){g&&!c.j&&(Rt(c),c.i=null,c.g.forEach(function(E,k){var H=k.toLowerCase();k!=H&&(Nn(this,k),li(this,H,E))},c)),c.j=g}function Ed(c,g){const E=new Yi;if(h.Image){const k=new Image;k.onload=M(Yt,E,"TestLoadImage: loaded",!0,g,k),k.onerror=M(Yt,E,"TestLoadImage: error",!1,g,k),k.onabort=M(Yt,E,"TestLoadImage: abort",!1,g,k),k.ontimeout=M(Yt,E,"TestLoadImage: timeout",!1,g,k),h.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=c}else g(!1)}function Jl(c,g){const E=new Yi,k=new AbortController,H=setTimeout(()=>{k.abort(),Yt(E,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:k.signal}).then(X=>{clearTimeout(H),X.ok?Yt(E,"TestPingServer: ok",!0,g):Yt(E,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(H),Yt(E,"TestPingServer: error",!1,g)})}function Yt(c,g,E,k,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),k(E)}catch{}}function Cd(){this.g=new fa}function Zl(c,g,E){const k=E||"";try{ri(c,function(H,X){let de=H;p(H)&&(de=da(H)),g.push(k+X+"="+encodeURIComponent(de))})}catch(H){throw g.push(k+"type="+encodeURIComponent("_badmap")),H}}function Sr(c){this.l=c.Ub||null,this.j=c.eb||!1}x(Sr,Ki),Sr.prototype.g=function(){return new rs(this.l,this.j)},Sr.prototype.i=function(c){return function(){return c}}({});function rs(c,g){pt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(rs,pt),n=rs.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Mn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||h).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Dn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Mn(this)),this.g&&(this.readyState=3,Mn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;eu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function eu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Dn(this):Mn(this),this.readyState==3&&eu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Dn(this))},n.Qa=function(c){this.g&&(this.response=c,Dn(this))},n.ga=function(){this.g&&Dn(this)};function Dn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Mn(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var E=g.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=g.next();return c.join(`\r
`)};function Mn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(rs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ir(c){let g="";return K(c,function(E,k){g+=k,g+=":",g+=E,g+=`\r
`}),g}function ui(c,g,E){e:{for(k in E){var k=!1;break e}k=!0}k||(E=Ir(E),typeof c=="string"?E!=null&&encodeURIComponent(String(E)):qe(c,g,E))}function Ze(c){pt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Ze,pt);var Td=/^https?$/i,Ta=["POST","PUT"];n=Ze.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,E,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rn.g(),this.v=this.o?Us(this.o):Us(Rn),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(X){is(this,X);return}if(c=E||"",E=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var H in k)E.set(H,k[H]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const X of k.keys())E.set(X,k.get(X));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(E.keys()).find(X=>X.toLowerCase()=="content-type"),H=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Ta,g,void 0))||k||H||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,de]of E)this.g.setRequestHeader(X,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zs(this),this.u=!0,this.g.send(c),this.u=!1}catch(X){is(this,X)}};function is(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Js(c),un(c)}function Js(c){c.A||(c.A=!0,mt(c,"complete"),mt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,mt(this,"complete"),mt(this,"abort"),un(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),un(this,!0)),Ze.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Sa(this):this.bb())},n.bb=function(){Sa(this)};function Sa(c){if(c.h&&typeof u<"u"&&(!c.v[1]||Xt(c)!=4||c.Z()!=2)){if(c.u&&Xt(c)==4)la(c.Ea,0,c);else if(mt(c,"readystatechange"),Xt(c)==4){c.h=!1;try{const de=c.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var E;if(!(E=g)){var k;if(k=de===0){var H=String(c.D).match(ts)[1]||null;!H&&h.self&&h.self.location&&(H=h.self.location.protocol.slice(0,-1)),k=!Td.test(H?H.toLowerCase():"")}E=k}if(E)mt(c,"complete"),mt(c,"success");else{c.m=6;try{var X=2<Xt(c)?c.g.statusText:""}catch{X=""}c.l=X+" ["+c.Z()+"]",Js(c)}}finally{un(c)}}}}function un(c,g){if(c.g){Zs(c);const E=c.g,k=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||mt(c,"ready");try{E.onreadystatechange=k}catch{}}}function Zs(c){c.I&&(h.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Xt(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Xt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),ha(g)}};function Ia(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function eo(c){const g={};c=(c.g&&2<=Xt(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<c.length;k++){if(R(c[k]))continue;var E=A(c[k]);const H=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const X=g[H]||[];g[H]=X,X.push(E)}j(g,function(k){return k.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zn(c,g,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||g}function Aa(c){this.Aa=0,this.i=[],this.j=new Yi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zn("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zn("baseRetryDelayMs",5e3,c),this.cb=Zn("retryDelaySeedMs",1e4,c),this.Wa=Zn("forwardChannelMaxRetries",2,c),this.wa=Zn("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new es(c&&c.concurrentRequestLimit),this.Da=new Cd,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Aa.prototype,n.la=8,n.G=1,n.connect=function(c,g,E,k){ot(0),this.W=c,this.H=g||{},E&&k!==void 0&&(this.H.OSID=E,this.H.OAID=k),this.F=this.X,this.I=iu(this,null,this.W),er(this)};function kt(c){if(to(c),c.G==3){var g=c.U++,E=ln(c.I);if(qe(E,"SID",c.K),qe(E,"RID",g),qe(E,"TYPE","terminate"),Ar(c,E),g=new kn(c,c.j,g),g.L=2,g.v=oi(ln(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(g.v.toString(),"")}catch{}!E&&h.Image&&(new Image().src=g.v,E=!0),E||(g.g=su(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Ke(g)}ru(c)}function Vn(c){c.g&&(xa(c),c.g.cancel(),c.g=null)}function to(c){Vn(c),c.u&&(h.clearTimeout(c.u),c.u=null),io(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function er(c){if(!an(c.h)&&!c.s){c.s=!0;var g=c.Ga;me||oe(),J||(me(),J=!0),ae.add(g,c),c.B=0}}function Sd(c,g){return Hl(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=xn(T(c.Ga,c,g),nu(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new kn(this,this.j,c);let X=this.o;if(this.S&&(X?(X=P(X),I(X,this.S)):X=this.S),this.m!==null||this.O||(H.H=X,X=null),this.P)e:{for(var g=0,E=0;E<this.i.length;E++){t:{var k=this.i[E];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(g+=k,4096<g){g=E;break e}if(g===4096||E===this.i.length-1){g=E+1;break e}}g=1e3}else g=1e3;g=ci(this,H,g),E=ln(this.I),qe(E,"RID",c),qe(E,"CVER",22),this.D&&qe(E,"X-HTTP-Session-Id",this.D),Ar(this,E),X&&(this.O?g="headers="+encodeURIComponent(String(Ir(X)))+"&"+g:this.m&&ui(E,this.m,X)),Ea(this.h,H),this.Ua&&qe(E,"TYPE","init"),this.P?(qe(E,"$req",g),qe(E,"SID","null"),H.T=!0,Ks(H,E,null)):Ks(H,E,g),this.G=2}}else this.G==3&&(c?no(this,c):this.i.length==0||an(this.h)||no(this))};function no(c,g){var E;g?E=g.l:E=c.U++;const k=ln(c.I);qe(k,"SID",c.K),qe(k,"RID",E),qe(k,"AID",c.T),Ar(c,k),c.m&&c.o&&ui(k,c.m,c.o),E=new kn(c,c.j,E,c.B+1),c.m===null&&(E.H=c.o),g&&(c.i=g.D.concat(c.i)),g=ci(c,E,1e3),E.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ea(c.h,E),Ks(E,k,g)}function Ar(c,g){c.H&&K(c.H,function(E,k){qe(g,k,E)}),c.l&&ri({},function(E,k){qe(g,k,E)})}function ci(c,g,E){E=Math.min(c.i.length,E);var k=c.l?T(c.l.Na,c.l,c):null;e:{var H=c.i;let X=-1;for(;;){const de=["count="+E];X==-1?0<E?(X=H[0].g,de.push("ofs="+X)):X=0:de.push("ofs="+X);let He=!0;for(let gt=0;gt<E;gt++){let Oe=H[gt].g;const Tt=H[gt].map;if(Oe-=X,0>Oe)X=Math.max(0,H[gt].g-100),He=!1;else try{Zl(Tt,de,"req"+Oe+"_")}catch{k&&k(Tt)}}if(He){k=de.join("&");break e}}}return c=c.i.splice(0,E),g.D=c,k}function ss(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;me||oe(),J||(me(),J=!0),ae.add(g,c),c.v=0}}function ro(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=xn(T(c.Fa,c),nu(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,tu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=xn(T(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),Vn(this),tu(this))};function xa(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function tu(c){c.g=new kn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=ln(c.qa);qe(g,"RID","rpc"),qe(g,"SID",c.K),qe(g,"AID",c.T),qe(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&qe(g,"TO",c.ja),qe(g,"TYPE","xmlhttp"),Ar(c,g),c.m&&c.o&&ui(g,c.m,c.o),c.L&&(c.g.I=c.L);var E=c.g;c=c.ia,E.L=1,E.v=oi(ln(g)),E.m=null,E.P=!0,_a(E,c)}n.Za=function(){this.C!=null&&(this.C=null,Vn(this),ro(this),ot(19))};function io(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function so(c,g){var E=null;if(c.g==g){io(c),xa(c),c.g=null;var k=2}else if(Ht(c.h,g))E=g.D,ql(c.h,g),k=1;else return;if(c.G!=0){if(g.o)if(k==1){E=g.m?g.m.length:0,g=Date.now()-g.F;var H=c.B;k=Qi(),mt(k,new Gs(k,E)),er(c)}else ss(c);else if(H=g.s,H==3||H==0&&0<g.X||!(k==1&&Sd(c,g)||k==2&&ro(c)))switch(E&&0<E.length&&(g=c.h,g.i=g.i.concat(E)),H){case 1:xr(c,5);break;case 4:xr(c,10);break;case 3:xr(c,6);break;default:xr(c,2)}}}function nu(c,g){let E=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(E*=2),E*g}function xr(c,g){if(c.j.info("Error code "+g),g==2){var E=T(c.fb,c),k=c.Xa;const H=!k;k=new Tr(k||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||ns(k,"https"),oi(k),H?Ed(k.toString(),E):Jl(k.toString(),E)}else ot(2);c.G=0,c.l&&c.l.sa(g),ru(c),to(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function ru(c){if(c.G=0,c.ka=[],c.l){const g=Wl(c.h);(g.length!=0||c.i.length!=0)&&(O(c.ka,g),O(c.ka,c.i),c.h.i.length=0,V(c.i),c.i.length=0),c.l.ra()}}function iu(c,g,E){var k=E instanceof Tr?ln(E):new Tr(E);if(k.g!="")g&&(k.g=g+"."+k.g),ii(k,k.s);else{var H=h.location;k=H.protocol,g=g?g+"."+H.hostname:H.hostname,H=+H.port;var X=new Tr(null);k&&ns(X,k),g&&(X.g=g),H&&ii(X,H),E&&(X.l=E),k=X}return E=c.D,g=c.ya,E&&g&&qe(k,E,g),qe(k,"VER",c.la),Ar(c,k),k}function su(c,g,E){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Ze(new Sr({eb:E})):new Ze(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pa(){}n=Pa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function oo(){}oo.prototype.g=function(c,g){return new qt(c,g)};function qt(c,g){pt.call(this),this.g=new Aa(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!R(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!R(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new tr(this)}x(qt,pt),qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qt.prototype.close=function(){kt(this.g)},qt.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.u&&(E={},E.__data__=da(c),c=E);g.i.push(new Gl(g.Ya++,c)),g.G==3&&er(g)},qt.prototype.N=function(){this.g.l=null,delete this.j,kt(this.g),delete this.g,qt.aa.N.call(this)};function ou(c){Qn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const E in g){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}x(ou,Qn);function au(){$s.call(this),this.status=1}x(au,$s);function tr(c){this.g=c}x(tr,Pa),tr.prototype.ua=function(){mt(this.g,"a")},tr.prototype.ta=function(c){mt(this.g,new ou(c))},tr.prototype.sa=function(c){mt(this.g,new au)},tr.prototype.ra=function(){mt(this.g,"b")},oo.prototype.createWebChannel=oo.prototype.g,qt.prototype.send=qt.prototype.o,qt.prototype.open=qt.prototype.m,qt.prototype.close=qt.prototype.close,Ew=function(){return new oo},ww=function(){return Qi()},_w=Yn,xf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qs.NO_ERROR=0,qs.TIMEOUT=8,qs.HTTP_ERROR=6,gc=qs,Bl.COMPLETE="complete",yw=Bl,zs.EventType=mn,mn.OPEN="a",mn.CLOSE="b",mn.ERROR="c",mn.MESSAGE="d",pt.prototype.listen=pt.prototype.K,il=zs,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,vw=Ze}).apply(typeof rc<"u"?rc:typeof self<"u"?self:typeof window<"u"?window:{});const Jv="@firebase/firestore",Zv="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zo="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new Zf("@firebase/firestore");function Ro(){return xs.logLevel}function pe(n,...e){if(xs.logLevel<=De.DEBUG){const t=e.map(dp);xs.debug(`Firestore (${Zo}): ${n}`,...t)}}function Wr(n,...e){if(xs.logLevel<=De.ERROR){const t=e.map(dp);xs.error(`Firestore (${Zo}): ${n}`,...t)}}function Uo(n,...e){if(xs.logLevel<=De.WARN){const t=e.map(dp);xs.warn(`Firestore (${Zo}): ${n}`,...t)}}function dp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Cw(n,r,t)}function Cw(n,e,t){let r=`FIRESTORE (${Zo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Wr(r),new Error(r)}function Ge(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||Cw(e,s,r)}function Pe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Yr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(zt.UNAUTHENTICATED))}shutdown(){}}class rx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ix{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ge(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new zr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new zr,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},h=f=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new zr)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ge(typeof r.accessToken=="string",31837,{l:r}),new Tw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new zt(e)}}class sx{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ox{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new sx(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ey{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ax{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,In(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ge(this.o===void 0,3512);const r=a=>{a.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,pe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ey(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ge(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new ey(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=lx(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%62))}return r}}function ke(n,e){return n<e?-1:n>e?1:0}function Pf(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),s=e.codePointAt(t);if(r!==s){if(r<128&&s<128)return ke(r,s);{const a=Sw(),u=ux(a.encode(ty(n,t)),a.encode(ty(e,t)));return u!==0?u:ke(r,s)}}t+=r>65535?2:1}return ke(n.length,e.length)}function ty(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function ux(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ke(n[t],e[t]);return ke(n.length,e.length)}function zo(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny=-62135596800,ry=1e6;class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*ry);return new wt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ny)throw new he(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ry}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ny;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new wt(0,0))}static max(){return new xe(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy="__name__";class or{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ie(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ie(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return or.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof or?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=or.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return ke(e.length,t.length)}static compareSegments(e,t){const r=or.isNumericId(e),s=or.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?or.extractNumericId(e).compare(or.extractNumericId(t)):Pf(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vi.fromString(e.substring(4,e.length-2))}}class Ye extends or{construct(e,t,r){return new Ye(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new he(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Ye(t)}static emptyPath(){return new Ye([])}}const cx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mt extends or{construct(e,t,r){return new Mt(e,t,r)}static isValidIdentifier(e){return cx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===iy}static keyField(){return new Mt([iy])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new he(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new he(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new he(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(r+=h,s++):(a(),s++)}if(a(),u)throw new he(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mt(t)}static emptyPath(){return new Mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(Ye.fromString(e))}static fromName(e){return new Ee(Ye.fromString(e).popFirst(5))}static empty(){return new Ee(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ye.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new Ye(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl=-1;function dx(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=xe.fromTimestamp(r===1e9?new wt(t+1,0):new wt(t,r));return new ji(s,Ee.empty(),e)}function hx(n){return new ji(n.readTime,n.key,vl)}class ji{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ji(xe.min(),Ee.empty(),vl)}static max(){return new ji(xe.max(),Ee.empty(),vl)}}function fx(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(n.documentKey,e.documentKey),t!==0?t:ke(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ea(n){if(n.code!==Z.FAILED_PRECONDITION||n.message!==px)throw n;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,r)=>{t(e)})}static reject(e){return new te((t,r)=>{r(e)})}static waitFor(e){return new te((t,r)=>{let s=0,a=0,u=!1;e.forEach(h=>{++s,h.next(()=>{++a,u&&a===s&&t()},f=>r(f))}),u=!0,a===s&&t()})}static or(e){let t=te.resolve(!1);for(const r of e)t=t.next(s=>s?te.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,a)=>{r.push(t.call(this,s,a))}),this.waitFor(r)}static mapArray(e,t){return new te((r,s)=>{const a=e.length,u=new Array(a);let h=0;for(let f=0;f<a;f++){const p=f;t(e[p]).next(y=>{u[p]=y,++h,h===a&&r(u)},y=>s(y))}})}static doWhile(e,t){return new te((r,s)=>{const a=()=>{e()===!0?t().next(()=>{a()},s):r()};a()})}}function gx(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ta(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}ed.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp=-1;function td(n){return n==null}function bc(n){return n===0&&1/n==-1/0}function vx(n){return typeof n=="number"&&Number.isInteger(n)&&!bc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="";function yx(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=sy(e)),e=_x(n.get(t),e);return sy(e)}function _x(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case Aw:t+="";break;default:t+=a}}return t}function sy(n){return n+Aw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ns(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function xw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,t){this.comparator=e,this.root=t||Dt.EMPTY}insert(e,t){return new it(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Dt.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ic(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ic(this.root,e,this.comparator,!1)}getReverseIterator(){return new ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ic(this.root,e,this.comparator,!0)}}class ic{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dt{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??Dt.RED,this.left=s??Dt.EMPTY,this.right=a??Dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new Dt(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Dt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}Dt.EMPTY=null,Dt.RED=!0,Dt.BLACK=!1;Dt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,t,r,s,a){return this}insert(e,t,r){return new Dt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ay(this.data.getIterator())}getIteratorFrom(e){return new ay(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Et(this.comparator);return t.data=e,t}}class ay{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.fields=e,e.sort(Mt.comparator)}static empty(){return new $n([])}unionWith(e){let t=new Et(Mt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new $n(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zo(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Pw("Invalid base64 string: "+a):a}}(e);return new Lt(t)}static fromUint8Array(e){const t=function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a}(e);return new Lt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lt.EMPTY_BYTE_STRING=new Lt("");const wx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fi(n){if(Ge(!!n,39018),typeof n=="string"){let e=0;const t=wx.exec(n);if(Ge(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lt(n.seconds),nanos:lt(n.nanos)}}function lt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Bi(n){return typeof n=="string"?Lt.fromBase64String(n):Lt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="server_timestamp",kw="__type__",Nw="__previous_value__",bw="__local_write_time__";function nd(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[kw])===null||t===void 0?void 0:t.stringValue)===Rw}function rd(n){const e=n.mapValue.fields[Nw];return nd(e)?rd(e):e}function yl(n){const e=Fi(n.mapValue.fields[bw].timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e,t,r,s,a,u,h,f,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p}}const Dc="(default)";class _l{constructor(e,t){this.projectId=e,this.database=t||Dc}static empty(){return new _l("","")}get isDefaultDatabase(){return this.database===Dc}isEqual(e){return e instanceof _l&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="__type__",Cx="__max__",sc={mapValue:{}},Mw="__vector__",Mc="value";function Ui(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?nd(n)?4:Sx(n)?9007199254740991:Tx(n)?10:11:Ie(28295,{value:n})}function pr(n,e){if(n===e)return!0;const t=Ui(n);if(t!==Ui(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return yl(n).isEqual(yl(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=Fi(s.timestampValue),h=Fi(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,a){return Bi(s.bytesValue).isEqual(Bi(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return lt(s.geoPointValue.latitude)===lt(a.geoPointValue.latitude)&&lt(s.geoPointValue.longitude)===lt(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return lt(s.integerValue)===lt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=lt(s.doubleValue),h=lt(a.doubleValue);return u===h?bc(u)===bc(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return zo(n.arrayValue.values||[],e.arrayValue.values||[],pr);case 10:case 11:return function(s,a){const u=s.mapValue.fields||{},h=a.mapValue.fields||{};if(oy(u)!==oy(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!pr(u[f],h[f])))return!1;return!0}(n,e);default:return Ie(52216,{left:n})}}function wl(n,e){return(n.values||[]).find(t=>pr(t,e))!==void 0}function $o(n,e){if(n===e)return 0;const t=Ui(n),r=Ui(e);if(t!==r)return ke(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(n.booleanValue,e.booleanValue);case 2:return function(a,u){const h=lt(a.integerValue||a.doubleValue),f=lt(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,e);case 3:return ly(n.timestampValue,e.timestampValue);case 4:return ly(yl(n),yl(e));case 5:return Pf(n.stringValue,e.stringValue);case 6:return function(a,u){const h=Bi(a),f=Bi(u);return h.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const h=a.split("/"),f=u.split("/");for(let p=0;p<h.length&&p<f.length;p++){const y=ke(h[p],f[p]);if(y!==0)return y}return ke(h.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const h=ke(lt(a.latitude),lt(u.latitude));return h!==0?h:ke(lt(a.longitude),lt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return uy(n.arrayValue,e.arrayValue);case 10:return function(a,u){var h,f,p,y;const w=a.fields||{},T=u.fields||{},M=(h=w[Mc])===null||h===void 0?void 0:h.arrayValue,x=(f=T[Mc])===null||f===void 0?void 0:f.arrayValue,V=ke(((p=M==null?void 0:M.values)===null||p===void 0?void 0:p.length)||0,((y=x==null?void 0:x.values)===null||y===void 0?void 0:y.length)||0);return V!==0?V:uy(M,x)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===sc.mapValue&&u===sc.mapValue)return 0;if(a===sc.mapValue)return 1;if(u===sc.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),p=u.fields||{},y=Object.keys(p);f.sort(),y.sort();for(let w=0;w<f.length&&w<y.length;++w){const T=Pf(f[w],y[w]);if(T!==0)return T;const M=$o(h[f[w]],p[y[w]]);if(M!==0)return M}return ke(f.length,y.length)}(n.mapValue,e.mapValue);default:throw Ie(23264,{Pe:t})}}function ly(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ke(n,e);const t=Fi(n),r=Fi(e),s=ke(t.seconds,r.seconds);return s!==0?s:ke(t.nanos,r.nanos)}function uy(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=$o(t[s],r[s]);if(a)return a}return ke(t.length,r.length)}function Go(n){return Rf(n)}function Rf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Fi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Bi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ee.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=Rf(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${Rf(t.fields[u])}`;return s+"}"}(n.mapValue):Ie(61005,{value:n})}function vc(n){switch(Ui(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rd(n);return e?16+vc(e):16;case 5:return 2*n.stringValue.length;case 6:return Bi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+vc(a),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return Ns(r.fields,(a,u)=>{s+=a.length+vc(u)}),s}(n.mapValue);default:throw Ie(13486,{value:n})}}function Vc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function kf(n){return!!n&&"integerValue"in n}function fp(n){return!!n&&"arrayValue"in n}function cy(n){return!!n&&"nullValue"in n}function dy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function yc(n){return!!n&&"mapValue"in n}function Tx(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Dw])===null||t===void 0?void 0:t.stringValue)===Mw}function ul(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ns(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ul(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ul(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Sx(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Cx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!yc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ul(t)}setAll(e){let t=Mt.emptyPath(),r={},s=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=h.popLast()}u?r[h.lastSegment()]=ul(u):s.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());yc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return pr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];yc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Ns(t,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new An(ul(this.value))}}function Vw(n){const e=[];return Ns(n.fields,(t,r)=>{const s=new Mt([t]);if(yc(r)){const a=Vw(r.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)}),new $n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,t,r,s,a,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new $t(e,0,xe.min(),xe.min(),xe.min(),An.empty(),0)}static newFoundDocument(e,t,r,s){return new $t(e,1,t,xe.min(),r,s,0)}static newNoDocument(e,t){return new $t(e,2,t,xe.min(),xe.min(),An.empty(),0)}static newUnknownDocument(e,t){return new $t(e,3,t,xe.min(),xe.min(),An.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,t){this.position=e,this.inclusive=t}}function hy(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],u=n.position[s];if(a.field.isKeyField()?r=Ee.comparator(Ee.fromName(u.referenceValue),t.key):r=$o(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function fy(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!pr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,t="asc"){this.field=e,this.dir=t}}function Ix(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{}class ft extends Lw{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new xx(e,t,r):t==="array-contains"?new kx(e,r):t==="in"?new Nx(e,r):t==="not-in"?new bx(e,r):t==="array-contains-any"?new Dx(e,r):new ft(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Px(e,r):new Rx(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison($o(t,this.value)):t!==null&&Ui(this.value)===Ui(t)&&this.matchesComparison($o(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends Lw{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Wn(e,t)}matches(e){return Ow(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Ow(n){return n.op==="and"}function jw(n){return Ax(n)&&Ow(n)}function Ax(n){for(const e of n.filters)if(e instanceof Wn)return!1;return!0}function Nf(n){if(n instanceof ft)return n.field.canonicalString()+n.op.toString()+Go(n.value);if(jw(n))return n.filters.map(e=>Nf(e)).join(",");{const e=n.filters.map(t=>Nf(t)).join(",");return`${n.op}(${e})`}}function Fw(n,e){return n instanceof ft?function(r,s){return s instanceof ft&&r.op===s.op&&r.field.isEqual(s.field)&&pr(r.value,s.value)}(n,e):n instanceof Wn?function(r,s){return s instanceof Wn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,u,h)=>a&&Fw(u,s.filters[h]),!0):!1}(n,e):void Ie(19439)}function Bw(n){return n instanceof ft?function(t){return`${t.field.canonicalString()} ${t.op} ${Go(t.value)}`}(n):n instanceof Wn?function(t){return t.op.toString()+" {"+t.getFilters().map(Bw).join(" ,")+"}"}(n):"Filter"}class xx extends ft{constructor(e,t,r){super(e,t,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class Px extends ft{constructor(e,t){super(e,"in",t),this.keys=Uw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Rx extends ft{constructor(e,t){super(e,"not-in",t),this.keys=Uw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Uw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ee.fromName(r.referenceValue))}class kx extends ft{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return fp(t)&&wl(t.arrayValue,this.value)}}class Nx extends ft{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&wl(this.value.arrayValue,t)}}class bx extends ft{constructor(e,t){super(e,"not-in",t)}matches(e){if(wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!wl(this.value.arrayValue,t)}}class Dx extends ft{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!fp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>wl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,t=null,r=[],s=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=u,this.endAt=h,this.Ie=null}}function py(n,e=null,t=[],r=[],s=null,a=null,u=null){return new Mx(n,e,t,r,s,a,u)}function pp(n){const e=Pe(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Nf(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),td(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Go(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Go(r)).join(",")),e.Ie=t}return e.Ie}function mp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Ix(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Fw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!fy(n.startAt,e.startAt)&&fy(n.endAt,e.endAt)}function bf(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,t=null,r=[],s=[],a=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Vx(n,e,t,r,s,a,u,h){return new bs(n,e,t,r,s,a,u,h)}function gp(n){return new bs(n)}function my(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function vp(n){return n.collectionGroup!==null}function Oo(n){const e=Pe(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Et(Mt.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new El(a,r))}),t.has(Mt.keyField().canonicalString())||e.Ee.push(new El(Mt.keyField(),r))}return e.Ee}function cr(n){const e=Pe(n);return e.de||(e.de=Lx(e,Oo(n))),e.de}function Lx(n,e){if(n.limitType==="F")return py(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new El(s.field,a)});const t=n.endAt?new Ho(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ho(n.startAt.position,n.startAt.inclusive):null;return py(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Df(n,e){const t=n.filters.concat([e]);return new bs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Lc(n,e,t){return new bs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function id(n,e){return mp(cr(n),cr(e))&&n.limitType===e.limitType}function zw(n){return`${pp(cr(n))}|lt:${n.limitType}`}function ko(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>Bw(s)).join(", ")}]`),td(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>Go(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>Go(s)).join(",")),`Target(${r})`}(cr(n))}; limitType=${n.limitType})`}function sd(n,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ee.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,s){for(const a of Oo(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(u,h,f){const p=hy(u,h,f);return u.inclusive?p<=0:p<0}(r.startAt,Oo(r),s)||r.endAt&&!function(u,h,f){const p=hy(u,h,f);return u.inclusive?p>=0:p>0}(r.endAt,Oo(r),s))}(n,e)}function Ox(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function $w(n){return(e,t)=>{let r=!1;for(const s of Oo(n)){const a=jx(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function jx(n,e,t){const r=n.field.isKeyField()?Ee.comparator(e.key,t.key):function(a,u,h){const f=u.data.field(a),p=h.data.field(a);return f!==null&&p!==null?$o(f,p):Ie(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ie(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ns(this.inner,(t,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return xw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=new it(Ee.comparator);function Kr(){return Fx}const Gw=new it(Ee.comparator);function sl(...n){let e=Gw;for(const t of n)e=e.insert(t.key,t);return e}function Hw(n){let e=Gw;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ws(){return cl()}function qw(){return cl()}function cl(){return new Ds(n=>n.toString(),(n,e)=>n.isEqual(e))}const Bx=new it(Ee.comparator),Ux=new Et(Ee.comparator);function Me(...n){let e=Ux;for(const t of n)e=e.add(t);return e}const zx=new Et(ke);function $x(){return zx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bc(e)?"-0":e}}function Ww(n){return{integerValue:""+n}}function Gx(n,e){return vx(e)?Ww(e):yp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(){this._=void 0}}function Hx(n,e,t){return n instanceof Cl?function(s,a){const u={fields:{[kw]:{stringValue:Rw},[bw]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&nd(a)&&(a=rd(a)),a&&(u.fields[Nw]=a),{mapValue:u}}(t,e):n instanceof Tl?Qw(n,e):n instanceof Sl?Yw(n,e):function(s,a){const u=Kw(s,a),h=gy(u)+gy(s.Re);return kf(u)&&kf(s.Re)?Ww(h):yp(s.serializer,h)}(n,e)}function qx(n,e,t){return n instanceof Tl?Qw(n,e):n instanceof Sl?Yw(n,e):t}function Kw(n,e){return n instanceof Oc?function(r){return kf(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Cl extends od{}class Tl extends od{constructor(e){super(),this.elements=e}}function Qw(n,e){const t=Xw(e);for(const r of n.elements)t.some(s=>pr(s,r))||t.push(r);return{arrayValue:{values:t}}}class Sl extends od{constructor(e){super(),this.elements=e}}function Yw(n,e){let t=Xw(e);for(const r of n.elements)t=t.filter(s=>!pr(s,r));return{arrayValue:{values:t}}}class Oc extends od{constructor(e,t){super(),this.serializer=e,this.Re=t}}function gy(n){return lt(n.integerValue||n.doubleValue)}function Xw(n){return fp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,t){this.field=e,this.transform=t}}function Kx(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof Tl&&s instanceof Tl||r instanceof Sl&&s instanceof Sl?zo(r.elements,s.elements,pr):r instanceof Oc&&s instanceof Oc?pr(r.Re,s.Re):r instanceof Cl&&s instanceof Cl}(n.transform,e.transform)}class Qx{constructor(e,t){this.version=e,this.transformResults=t}}class Hn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Hn}static exists(e){return new Hn(void 0,e)}static updateTime(e){return new Hn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _c(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ad{}function Jw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new _p(n.key,Hn.none()):new Vl(n.key,n.data,Hn.none());{const t=n.data,r=An.empty();let s=new Et(Mt.comparator);for(let a of e.fields)if(!s.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),s=s.add(a)}return new Ms(n.key,r,new $n(s.toArray()),Hn.none())}}function Yx(n,e,t){n instanceof Vl?function(s,a,u){const h=s.value.clone(),f=yy(s.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Ms?function(s,a,u){if(!_c(s.precondition,a))return void a.convertToUnknownDocument(u.version);const h=yy(s.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(Zw(s)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function dl(n,e,t,r){return n instanceof Vl?function(a,u,h,f){if(!_c(a.precondition,u))return h;const p=a.value.clone(),y=_y(a.fieldTransforms,f,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ms?function(a,u,h,f){if(!_c(a.precondition,u))return h;const p=_y(a.fieldTransforms,f,u),y=u.data;return y.setAll(Zw(a)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(n,e,t,r):function(a,u,h){return _c(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function Xx(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=Kw(r.transform,s||null);a!=null&&(t===null&&(t=An.empty()),t.set(r.field,a))}return t||null}function vy(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&zo(r,s,(a,u)=>Kx(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Vl extends ad{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ms extends ad{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Zw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function yy(n,e,t){const r=new Map;Ge(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let s=0;s<t.length;s++){const a=n[s],u=a.transform,h=e.data.field(a.field);r.set(a.field,qx(u,h,t[s]))}return r}function _y(n,e,t){const r=new Map;for(const s of n){const a=s.transform,u=t.data.field(s.field);r.set(s.field,Hx(a,u,e))}return r}class _p extends ad{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Jx extends ad{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&Yx(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=dl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=dl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=qw();return this.mutations.forEach(s=>{const a=e.get(s.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=t.has(s.key)?null:h;const f=Jw(u,h);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(xe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Me())}isEqual(e){return this.batchId===e.batchId&&zo(this.mutations,e.mutations,(t,r)=>vy(t,r))&&zo(this.baseMutations,e.baseMutations,(t,r)=>vy(t,r))}}class wp{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Ge(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return Bx}();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,r[u].version);return new wp(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,je;function nP(n){switch(n){case Z.OK:return Ie(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Ie(15467,{code:n})}}function e0(n){if(n===void 0)return Wr("GRPC error has no .code"),Z.UNKNOWN;switch(n){case dt.OK:return Z.OK;case dt.CANCELLED:return Z.CANCELLED;case dt.UNKNOWN:return Z.UNKNOWN;case dt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case dt.INTERNAL:return Z.INTERNAL;case dt.UNAVAILABLE:return Z.UNAVAILABLE;case dt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case dt.NOT_FOUND:return Z.NOT_FOUND;case dt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case dt.ABORTED:return Z.ABORTED;case dt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case dt.DATA_LOSS:return Z.DATA_LOSS;default:return Ie(39323,{code:n})}}(je=dt||(dt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP=new Vi([4294967295,4294967295],0);function wy(n){const e=Sw().encode(n),t=new gw;return t.update(e),new Uint8Array(t.digest())}function Ey(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Vi([t,r],0),new Vi([s,a],0)]}class Ep{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ol(`Invalid padding: ${t}`);if(r<0)throw new ol(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ol(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ol(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Vi.fromNumber(this.pe)}we(e,t,r){let s=e.add(t.multiply(Vi.fromNumber(r)));return s.compare(rP)===1&&(s=new Vi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=wy(e),[r,s]=Ey(t);for(let a=0;a<this.hashCount;a++){const u=this.we(r,s,a);if(!this.be(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Ep(a,s,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.pe===0)return;const t=wy(e),[r,s]=Ey(t);for(let a=0;a<this.hashCount;a++){const u=this.we(r,s,a);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Ll.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new ld(xe.min(),s,new it(ke),Kr(),Me())}}class Ll{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Ll(r,t,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,t,r,s){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=s}}class t0{constructor(e,t){this.targetId=e,this.Ce=t}}class n0{constructor(e,t,r=Lt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class Cy{constructor(){this.Fe=0,this.Me=Ty(),this.xe=Lt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Me(),t=Me(),r=Me();return this.Me.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Ie(38017,{changeType:a})}}),new Ll(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=Ty()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ge(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class iP{constructor(e){this.ze=e,this.je=new Map,this.He=Kr(),this.Je=oc(),this.Ye=oc(),this.Ze=new it(ke)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Ie(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,s)=>{this.it(s)&&t(s)})}ot(e){const t=e.targetId,r=e.Ce.count,s=this._t(t);if(s){const a=s.target;if(bf(a))if(r===0){const u=new Ee(a.path);this.tt(t,u,$t.newNoDocument(u,xe.min()))}else Ge(r===1,20013,{expectedCount:r});else{const u=this.ut(t);if(u!==r){const h=this.ct(e),f=h?this.lt(h,e,u):1;if(f!==0){this.st(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let u,h;try{u=Bi(r).toUint8Array()}catch(f){if(f instanceof Pw)return Uo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Ep(u,s,a)}catch(f){return Uo(f instanceof ol?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.pe===0?null:h}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let s=0;return r.forEach(a=>{const u=this.ze.Pt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.tt(t,a,null),s++)}),s}It(e){const t=new Map;this.je.forEach((a,u)=>{const h=this._t(u);if(h){if(a.current&&bf(h.target)){const f=new Ee(h.target.path);this.Et(f).has(u)||this.dt(u,f)||this.tt(u,f,$t.newNoDocument(f,e))}a.Le&&(t.set(u,a.qe()),a.Qe())}});let r=Me();this.Ye.forEach((a,u)=>{let h=!0;u.forEachWhile(f=>{const p=this._t(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(a))}),this.He.forEach((a,u)=>u.setReadTime(e));const s=new ld(e,t,this.Ze,this.He,r);return this.He=Kr(),this.Je=oc(),this.Ye=oc(),this.Ze=new it(ke),s}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,t)?s.$e(t,1):s.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Cy,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Et(ke),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Et(ke),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Cy),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function oc(){return new it(Ee.comparator)}function Ty(){return new it(Ee.comparator)}const sP={asc:"ASCENDING",desc:"DESCENDING"},oP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aP={and:"AND",or:"OR"};class lP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Mf(n,e){return n.useProto3Json||td(e)?e:{value:e}}function jc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function r0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function uP(n,e){return jc(n,e.toTimestamp())}function dr(n){return Ge(!!n,49232),xe.fromTimestamp(function(t){const r=Fi(t);return new wt(r.seconds,r.nanos)}(n))}function Cp(n,e){return Vf(n,e).canonicalString()}function Vf(n,e){const t=function(s){return new Ye(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function i0(n){const e=Ye.fromString(n);return Ge(u0(e),10190,{key:e.toString()}),e}function Lf(n,e){return Cp(n.databaseId,e.path)}function sf(n,e){const t=i0(e);if(t.get(1)!==n.databaseId.projectId)throw new he(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new he(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ee(o0(t))}function s0(n,e){return Cp(n.databaseId,e)}function cP(n){const e=i0(n);return e.length===4?Ye.emptyPath():o0(e)}function Of(n){return new Ye(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function o0(n){return Ge(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Sy(n,e,t){return{name:Lf(n,e),fields:t.value.mapValue.fields}}function dP(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ie(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,y){return p.useProto3Json?(Ge(y===void 0||typeof y=="string",58123),Lt.fromBase64String(y||"")):(Ge(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Lt.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(p){const y=p.code===void 0?Z.UNKNOWN:e0(p.code);return new he(y,p.message||"")}(u);t=new n0(r,s,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=sf(n,r.document.name),a=dr(r.document.updateTime),u=r.document.createTime?dr(r.document.createTime):xe.min(),h=new An({mapValue:{fields:r.document.fields}}),f=$t.newFoundDocument(s,a,u,h),p=r.targetIds||[],y=r.removedTargetIds||[];t=new wc(p,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=sf(n,r.document),a=r.readTime?dr(r.readTime):xe.min(),u=$t.newNoDocument(s,a),h=r.removedTargetIds||[];t=new wc([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=sf(n,r.document),a=r.removedTargetIds||[];t=new wc([],a,s,null)}else{if(!("filter"in e))return Ie(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,u=new tP(s,a),h=r.targetId;t=new t0(h,u)}}return t}function hP(n,e){let t;if(e instanceof Vl)t={update:Sy(n,e.key,e.value)};else if(e instanceof _p)t={delete:Lf(n,e.key)};else if(e instanceof Ms)t={update:Sy(n,e.key,e.data),updateMask:EP(e.fieldMask)};else{if(!(e instanceof Jx))return Ie(16599,{ft:e.type});t={verify:Lf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const h=u.transform;if(h instanceof Cl)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Tl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Sl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Oc)return{fieldPath:u.field.canonicalString(),increment:h.Re};throw Ie(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:uP(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ie(27497)}(n,e.precondition)),t}function fP(n,e){return n&&n.length>0?(Ge(e!==void 0,14353),n.map(t=>function(s,a){let u=s.updateTime?dr(s.updateTime):dr(a);return u.isEqual(xe.min())&&(u=dr(a)),new Qx(u,s.transformResults||[])}(t,e))):[]}function pP(n,e){return{documents:[s0(n,e.path)]}}function mP(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=s0(n,s);const a=function(p){if(p.length!==0)return l0(Wn.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(p){if(p.length!==0)return p.map(y=>function(T){return{field:No(T.field),direction:yP(T.dir)}}(y))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=Mf(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:t,parent:s}}function gP(n){let e=cP(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Ge(r===1,65062);const y=t.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let a=[];t.where&&(a=function(w){const T=a0(w);return T instanceof Wn&&jw(T)?T.getFilters():[T]}(t.where));let u=[];t.orderBy&&(u=function(w){return w.map(T=>function(x){return new El(bo(x.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(T))}(t.orderBy));let h=null;t.limit&&(h=function(w){let T;return T=typeof w=="object"?w.value:w,td(T)?null:T}(t.limit));let f=null;t.startAt&&(f=function(w){const T=!!w.before,M=w.values||[];return new Ho(M,T)}(t.startAt));let p=null;return t.endAt&&(p=function(w){const T=!w.before,M=w.values||[];return new Ho(M,T)}(t.endAt)),Vx(e,s,u,a,h,"F",f,p)}function vP(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function a0(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=bo(t.unaryFilter.field);return ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=bo(t.unaryFilter.field);return ft.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=bo(t.unaryFilter.field);return ft.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=bo(t.unaryFilter.field);return ft.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}}(n):n.fieldFilter!==void 0?function(t){return ft.create(bo(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Wn.create(t.compositeFilter.filters.map(r=>a0(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}}(t.compositeFilter.op))}(n):Ie(30097,{filter:n})}function yP(n){return sP[n]}function _P(n){return oP[n]}function wP(n){return aP[n]}function No(n){return{fieldPath:n.canonicalString()}}function bo(n){return Mt.fromServerFormat(n.fieldPath)}function l0(n){return n instanceof ft?function(t){if(t.op==="=="){if(dy(t.value))return{unaryFilter:{field:No(t.field),op:"IS_NAN"}};if(cy(t.value))return{unaryFilter:{field:No(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(dy(t.value))return{unaryFilter:{field:No(t.field),op:"IS_NOT_NAN"}};if(cy(t.value))return{unaryFilter:{field:No(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:No(t.field),op:_P(t.op),value:t.value}}}(n):n instanceof Wn?function(t){const r=t.getFilters().map(s=>l0(s));return r.length===1?r[0]:{compositeFilter:{op:wP(t.op),filters:r}}}(n):Ie(54877,{filter:n})}function EP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function u0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,t,r,s,a=xe.min(),u=xe.min(),h=Lt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new ki(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e){this.wt=e}}function TP(n){const e=gP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Lc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(){this.yn=new IP}addToCollectionParentIndex(e,t){return this.yn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(ji.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(ji.min())}updateCollectionGroup(e,t,r){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class IP{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Et(Ye.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Et(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},c0=41943040;class sn{static withCacheSize(e){return new sn(e,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(c0,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new qo(0)}static ir(){return new qo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay="LruGarbageCollector",AP=1048576;function xy([n,e],[t,r]){const s=ke(n,t);return s===0?ke(e,r):s}class xP{constructor(e){this.cr=e,this.buffer=new Et(xy),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();xy(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class PP{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){pe(Ay,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ta(t)?pe(Ay,"Ignoring IndexedDB error during garbage collection: ",t):await ea(t)}await this.Ir(3e5)})}}class RP{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return te.resolve(ed.le);const r=new xP(t);return this.Er.forEachTarget(e,s=>r.Pr(s.sequenceNumber)).next(()=>this.Er.Ar(e,s=>r.Pr(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(Iy)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Iy):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,s,a,u,h,f,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),s=this.params.maximumSequenceNumbersToCollect):s=w,u=Date.now(),this.nthSequenceNumber(e,s))).next(w=>(r=w,h=Date.now(),this.removeTargets(e,r,t))).next(w=>(a=w,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(p=Date.now(),Ro()<=De.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${s} in `+(h-u)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${w} documents in `+(p-f)+`ms
Total Duration: ${p-y}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:w})))}}function kP(n,e){return new RP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(){this.changes=new Ds(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?te.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&dl(r.mutation,s,$n.empty(),wt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Me()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Me()){const s=ws();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(a=>{let u=sl();return a.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=ws();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Me()))}populateOverlays(e,t,r){const s=[];return r.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,s){let a=Kr();const u=cl(),h=function(){return cl()}();return t.forEach((f,p)=>{const y=r.get(p.key);s.has(p.key)&&(y===void 0||y.mutation instanceof Ms)?a=a.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),dl(y.mutation,p,y.mutation.getFieldMask(),wt.now())):u.set(p.key,$n.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,y)=>u.set(p,y)),t.forEach((p,y)=>{var w;return h.set(p,new bP(y,(w=u.get(p))!==null&&w!==void 0?w:null))}),h))}recalculateAndSaveOverlays(e,t){const r=cl();let s=new it((u,h)=>u-h),a=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(f=>{const p=t.get(f);if(p===null)return;let y=r.get(f)||$n.empty();y=h.applyToLocalView(p,y),r.set(f,y);const w=(s.get(h.batchId)||Me()).add(f);s=s.insert(h.batchId,w)})}).next(()=>{const u=[],h=s.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,y=f.value,w=qw();y.forEach(T=>{if(!a.has(T)){const M=Jw(t.get(T),r.get(T));M!==null&&w.set(T,M),a=a.add(T)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,w))}return te.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(u){return Ee.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):vp(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):te.resolve(ws());let h=vl,f=a;return u.next(p=>te.forEach(p,(y,w)=>(h<w.largestBatchId&&(h=w.largestBatchId),a.get(y)?te.resolve():this.remoteDocumentCache.getEntry(e,y).next(T=>{f=f.insert(y,T)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,Me())).next(y=>({batchId:h,changes:Hw(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next(r=>{let s=sl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let u=sl();return this.indexManager.getCollectionParents(e,a).next(h=>te.forEach(h,f=>{const p=function(w,T){return new bs(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(y=>{y.forEach((w,T)=>{u=u.insert(w,T)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s))).next(u=>{a.forEach((f,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,$t.newInvalidDocument(y)))});let h=sl();return u.forEach((f,p)=>{const y=a.get(f);y!==void 0&&dl(y.mutation,p,$n.empty(),wt.now()),sd(t,p)&&(h=h.insert(f,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return te.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:dr(s.createTime)}}(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(s){return{name:s.name,query:TP(s.bundledQuery),readTime:dr(s.readTime)}}(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(){this.overlays=new it(Ee.comparator),this.Or=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ws();return te.forEach(t,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,a)=>{this.St(e,t,a)}),te.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Or.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Or.delete(r)),te.resolve()}getOverlaysForCollection(e,t,r){const s=ws(),a=t.length+1,u=new Ee(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return te.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new it((p,y)=>p-y);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let y=a.get(p.largestBatchId);y===null&&(y=ws(),a=a.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=ws(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,y)=>h.set(p,y)),!(h.size()>=s)););return te.resolve(h)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Or.get(s.largestBatchId).delete(r.key);this.Or.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new eP(t,r));let a=this.Or.get(t);a===void 0&&(a=Me(),this.Or.set(t,a)),this.Or.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(){this.sessionToken=Lt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(){this.Nr=new Et(xt.Br),this.Lr=new Et(xt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const r=new xt(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new xt(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){const t=new Ee(new Ye([])),r=new xt(t,e),s=new xt(t,e+1),a=[];return this.Lr.forEachInRange([r,s],u=>{this.Qr(u),a.push(u.key)}),a}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new Ee(new Ye([])),r=new xt(t,e),s=new xt(t,e+1);let a=Me();return this.Lr.forEachInRange([r,s],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new xt(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class xt{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Ee.comparator(e.key,t.key)||ke(e.Gr,t.Gr)}static kr(e,t){return ke(e.Gr,t.Gr)||Ee.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new Et(xt.Br)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Zx(a,t,r,s);this.mutationQueue.push(u);for(const h of s)this.zr=this.zr.add(new xt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return te.resolve(u)}lookupMutationBatch(e,t){return te.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Hr(r),a=s<0?0:s;return te.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?hp:this.Jn-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new xt(t,0),s=new xt(t,Number.POSITIVE_INFINITY),a=[];return this.zr.forEachInRange([r,s],u=>{const h=this.jr(u.Gr);a.push(h)}),te.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Et(ke);return t.forEach(s=>{const a=new xt(s,0),u=new xt(s,Number.POSITIVE_INFINITY);this.zr.forEachInRange([a,u],h=>{r=r.add(h.Gr)})}),te.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;Ee.isDocumentKey(a)||(a=a.child(""));const u=new xt(new Ee(a),0);let h=new Et(ke);return this.zr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(h=h.add(f.Gr)),!0)},u),te.resolve(this.Jr(h))}Jr(e){const t=[];return e.forEach(r=>{const s=this.jr(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Ge(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return te.forEach(t.mutations,s=>{const a=new xt(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){const r=new xt(t,0),s=this.zr.firstAfterOrEqual(r);return te.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e){this.Zr=e,this.docs=function(){return new it(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,u=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return te.resolve(r?r.document.mutableCopy():$t.newInvalidDocument(t))}getEntries(e,t){let r=Kr();return t.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():$t.newInvalidDocument(s))}),te.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=Kr();const u=t.path,h=new Ee(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:y}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||fx(hx(y),r)<=0||(s.has(y.key)||sd(t,y))&&(a=a.insert(y.key,y.mutableCopy()))}return te.resolve(a)}getAllFromCollectionGroup(e,t,r,s){Ie(9500)}Xr(e,t){return te.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new FP(this)}getSize(e){return te.resolve(this.size)}}class FP extends NP{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.vr.addEntry(e,s)):this.vr.removeEntry(r)}),te.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e){this.persistence=e,this.ei=new Ds(t=>pp(t),mp),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.ti=0,this.ni=new Tp,this.targetCount=0,this.ri=qo.rr()}forEachTarget(e,t){return this.ei.forEach((r,s)=>t(s)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),te.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new qo(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.ar(t),te.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.ei.forEach((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.ei.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)}),te.waitFor(a).next(()=>s)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const r=this.ei.get(t)||null;return te.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),te.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(u=>{a.push(s.markPotentiallyOrphaned(e,u))}),te.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),te.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ni.Wr(t);return te.resolve(r)}containsKey(e,t){return te.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,t){this.ii={},this.overlays={},this.si=new ed(0),this.oi=!1,this.oi=!0,this._i=new LP,this.referenceDelegate=e(this),this.ai=new BP(this),this.indexManager=new SP,this.remoteDocumentCache=function(s){return new jP(s)}(r=>this.referenceDelegate.ui(r)),this.serializer=new CP(t),this.ci=new MP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new VP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new OP(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){pe("MemoryPersistence","Starting transaction:",e);const s=new UP(this.si.next());return this.referenceDelegate.li(),r(s).next(a=>this.referenceDelegate.hi(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Pi(e,t){return te.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}}class UP extends mx{constructor(e){super(),this.currentSequenceNumber=e}}class Sp{constructor(e){this.persistence=e,this.Ti=new Tp,this.Ii=null}static Ei(e){return new Sp(e)}get di(){if(this.Ii)return this.Ii;throw Ie(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),te.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),te.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(s=>this.di.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.di.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.di,r=>{const s=Ee.fromPath(r);return this.Ai(e,s).next(a=>{a||t.removeEntry(s,xe.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return te.or([()=>te.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class Fc{constructor(e,t){this.persistence=e,this.Ri=new Ds(r=>yx(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=kP(this,t)}static Ei(e,t){return new Fc(e,t)}li(){}hi(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return te.forEach(this.Ri,(r,s)=>this.gr(e,r,s).next(a=>a?te.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.Xr(e,u=>this.gr(e,u,t).next(h=>{h||(r++,a.removeEntry(u,xe.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),te.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=vc(e.data.value)),t}gr(e,t,r){return te.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.Ri.get(t);return te.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=s}static Ps(e,t){let r=Me(),s=Me();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Ip(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return yS()?8:gx(Gt())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.Rs(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.Vs(e,t,s,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new zP;return this.fs(e,t,u).next(h=>{if(a.result=h,this.Is)return this.gs(e,t,u,h.size)})}).next(()=>a.result)}gs(e,t,r,s){return r.documentReadCount<this.Es?(Ro()<=De.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",ko(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),te.resolve()):(Ro()<=De.DEBUG&&pe("QueryEngine","Query:",ko(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(Ro()<=De.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",ko(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cr(t))):te.resolve())}Rs(e,t){if(my(t))return te.resolve(null);let r=cr(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=Lc(t,null,"F"),r=cr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=Me(...a);return this.As.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.ps(t,h);return this.ys(t,p,u,f.readTime)?this.Rs(e,Lc(t,null,"F")):this.ws(e,p,t,f)}))})))}Vs(e,t,r,s){return my(t)||s.isEqual(xe.min())?te.resolve(null):this.As.getDocuments(e,r).next(a=>{const u=this.ps(t,a);return this.ys(t,u,r,s)?te.resolve(null):(Ro()<=De.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ko(t)),this.ws(e,u,t,dx(s,vl)).next(h=>h))})}ps(e,t){let r=new Et($w(e));return t.forEach((s,a)=>{sd(e,a)&&(r=r.add(a))}),r}ys(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}fs(e,t,r){return Ro()<=De.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",ko(t)),this.As.getDocumentsMatchingQuery(e,t,ji.min(),r)}ws(e,t,r,s){return this.As.getDocumentsMatchingQuery(e,r,s).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="LocalStore",GP=3e8;class HP{constructor(e,t,r,s){this.persistence=e,this.bs=t,this.serializer=s,this.Ss=new it(ke),this.Ds=new Ds(a=>pp(a),mp),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DP(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function qP(n,e,t,r){return new HP(n,e,t,r)}async function h0(n,e){const t=Pe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],h=[];let f=Me();for(const p of s){u.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}for(const p of a){h.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}return t.localDocuments.getDocuments(r,f).next(p=>({Ms:p,removedBatchIds:u,addedBatchIds:h}))})})}function WP(n,e){const t=Pe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=t.Cs.newChangeBuffer({trackRemovals:!0});return function(h,f,p,y){const w=p.batch,T=w.keys();let M=te.resolve();return T.forEach(x=>{M=M.next(()=>y.getEntry(f,x)).next(V=>{const O=p.docVersions.get(x);Ge(O!==null,48541),V.version.compareTo(O)<0&&(w.applyToRemoteDocument(V,p),V.isValidDocument()&&(V.setReadTime(p.commitVersion),y.addEntry(V)))})}),M.next(()=>h.mutationQueue.removeMutationBatch(f,w))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let f=Me();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function f0(n){const e=Pe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function KP(n,e){const t=Pe(n),r=e.snapshotVersion;let s=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Cs.newChangeBuffer({trackRemovals:!0});s=t.Ss;const h=[];e.targetChanges.forEach((y,w)=>{const T=s.get(w);if(!T)return;h.push(t.ai.removeMatchingKeys(a,y.removedDocuments,w).next(()=>t.ai.addMatchingKeys(a,y.addedDocuments,w)));let M=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?M=M.withResumeToken(Lt.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):y.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(y.resumeToken,r)),s=s.insert(w,M),function(V,O,D){return V.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=GP?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(T,M,y)&&h.push(t.ai.updateTargetData(a,M))});let f=Kr(),p=Me();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,y))}),h.push(QP(a,u,e.documentUpdates).next(y=>{f=y.xs,p=y.Os})),!r.isEqual(xe.min())){const y=t.ai.getLastRemoteSnapshotVersion(a).next(w=>t.ai.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(y)}return te.waitFor(h).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(t.Ss=s,a))}function QP(n,e,t){let r=Me(),s=Me();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=Kr();return t.forEach((h,f)=>{const p=a.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(h)),f.isNoDocument()&&f.version.isEqual(xe.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):pe(Ap,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)}),{xs:u,Os:s}})}function YP(n,e){const t=Pe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=hp),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function XP(n,e){const t=Pe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.ai.getTargetData(r,e).next(a=>a?(s=a,te.resolve(s)):t.ai.allocateTargetId(r).next(u=>(s=new ki(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ss.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}async function jf(n,e,t){const r=Pe(n),s=r.Ss.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!ta(u))throw u;pe(Ap,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(s.target)}function Py(n,e,t){const r=Pe(n);let s=xe.min(),a=Me();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,p,y){const w=Pe(f),T=w.Ds.get(y);return T!==void 0?te.resolve(w.Ss.get(T)):w.ai.getTargetData(p,y)}(r,u,cr(e)).next(h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(u,h.targetId).next(f=>{a=f})}).next(()=>r.bs.getDocumentsMatchingQuery(u,e,t?s:xe.min(),t?a:Me())).next(h=>(JP(r,Ox(e),h),{documents:h,Ns:a})))}function JP(n,e,t){let r=n.vs.get(e)||xe.min();t.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.vs.set(e,r)}class Ry{constructor(){this.activeTargetIds=$x()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZP{constructor(){this.So=new Ry,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new Ry,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="ConnectivityMonitor";class Ny{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){pe(ky,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){pe(ky,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ac=null;function Ff(){return ac===null?ac=function(){return 268435456+Math.round(2147483648*Math.random())}():ac++,"0x"+ac.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of="RestConnection",tR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nR{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${s}`,this.qo=this.databaseId.database===Dc?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Qo(e,t,r,s,a){const u=Ff(),h=this.$o(e,t.toUriEncodedString());pe(of,`Sending RPC '${e}' ${u}:`,h,r);const f={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(f,s,a),this.Ko(e,h,f,r).then(p=>(pe(of,`Received RPC '${e}' ${u}: `,p),p),p=>{throw Uo(of,`RPC '${e}' ${u} failed with error: `,p,"url: ",h,"request:",r),p})}Wo(e,t,r,s,a,u){return this.Qo(e,t,r,s,a)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}$o(e,t){const r=tR[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ut="WebChannelConnection";class iR extends nR{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,s){const a=Ff();return new Promise((u,h)=>{const f=new vw;f.setWithCredentials(!0),f.listenOnce(yw.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case gc.NO_ERROR:const y=f.getResponseJson();pe(Ut,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(y)),u(y);break;case gc.TIMEOUT:pe(Ut,`RPC '${e}' ${a} timed out`),h(new he(Z.DEADLINE_EXCEEDED,"Request time out"));break;case gc.HTTP_ERROR:const w=f.getStatus();if(pe(Ut,`RPC '${e}' ${a} failed with status:`,w,"response text:",f.getResponseText()),w>0){let T=f.getResponseJson();Array.isArray(T)&&(T=T[0]);const M=T==null?void 0:T.error;if(M&&M.status&&M.message){const x=function(O){const D=O.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(D)>=0?D:Z.UNKNOWN}(M.status);h(new he(x,M.message))}else h(new he(Z.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new he(Z.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{s_:e,streamId:a,o_:f.getLastErrorCode(),__:f.getLastError()})}}finally{pe(Ut,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(s);pe(Ut,`RPC '${e}' ${a} sending request:`,s),f.send(t,"POST",p,r,15)})}a_(e,t,r){const s=Ff(),a=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Ew(),h=ww(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Uo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const y=a.join("");pe(Ut,`Creating RPC '${e}' stream ${s}: ${y}`,f);const w=u.createWebChannel(y,f);let T=!1,M=!1;const x=new rR({Go:O=>{M?pe(Ut,`Not sending because RPC '${e}' stream ${s} is closed:`,O):(T||(pe(Ut,`Opening RPC '${e}' stream ${s} transport.`),w.open(),T=!0),pe(Ut,`RPC '${e}' stream ${s} sending:`,O),w.send(O))},zo:()=>w.close()}),V=(O,D,R)=>{O.listen(D,L=>{try{R(L)}catch($){setTimeout(()=>{throw $},0)}})};return V(w,il.EventType.OPEN,()=>{M||(pe(Ut,`RPC '${e}' stream ${s} transport opened.`),x.t_())}),V(w,il.EventType.CLOSE,()=>{M||(M=!0,pe(Ut,`RPC '${e}' stream ${s} transport closed`),x.r_())}),V(w,il.EventType.ERROR,O=>{M||(M=!0,Uo(Ut,`RPC '${e}' stream ${s} transport errored. Name:`,O.name,"Message:",O.message),x.r_(new he(Z.UNAVAILABLE,"The operation could not be completed")))}),V(w,il.EventType.MESSAGE,O=>{var D;if(!M){const R=O.data[0];Ge(!!R,16349);const L=R,$=(L==null?void 0:L.error)||((D=L[0])===null||D===void 0?void 0:D.error);if($){pe(Ut,`RPC '${e}' stream ${s} received error:`,$);const Q=$.status;let K=function(C){const I=dt[C];if(I!==void 0)return e0(I)}(Q),j=$.message;K===void 0&&(K=Z.INTERNAL,j="Unknown error status: "+Q+" with message "+$.message),M=!0,x.r_(new he(K,j)),w.close()}else pe(Ut,`RPC '${e}' stream ${s} received:`,R),x.i_(R)}}),V(h,_w.STAT_EVENT,O=>{O.stat===xf.PROXY?pe(Ut,`RPC '${e}' stream ${s} detected buffering proxy`):O.stat===xf.NOPROXY&&pe(Ut,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.n_()},0),x}}function af(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(n){return new lP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,t,r=1e3,s=1.5,a=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=s,this.l_=a,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),s=Math.max(0,t-r);s>0&&pe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,s,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by="PersistentStream";class m0{constructor(e,t,r,s,a,u,h,f){this.bi=e,this.R_=r,this.V_=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new p0(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===Z.RESOURCE_EXHAUSTED?(Wr(t.toString()),Wr("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.m_===t&&this.B_(r,s)},r=>{e(()=>{const s=new he(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(s)})})}B_(e,t){const r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(s=>{r(()=>this.L_(s))}),this.stream.onMessage(s=>{r(()=>++this.p_==1?this.q_(s):this.onNext(s))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return pe(by,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(pe(by,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sR extends m0{constructor(e,t,r,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=dP(this.serializer,e),r=function(a){if(!("targetChange"in a))return xe.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?xe.min():u.readTime?dr(u.readTime):xe.min()}(e);return this.listener.Q_(t,r)}U_(e){const t={};t.database=Of(this.serializer),t.addTarget=function(a,u){let h;const f=u.target;if(h=bf(f)?{documents:pP(a,f)}:{query:mP(a,f).gt},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=r0(a,u.resumeToken);const p=Mf(a,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(xe.min())>0){h.readTime=jc(a,u.snapshotVersion.toTimestamp());const p=Mf(a,u.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const r=vP(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){const t={};t.database=Of(this.serializer),t.removeTarget=e,this.F_(t)}}class oR extends m0{constructor(e,t,r,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=fP(e.writeResults,e.commitTime),r=dr(e.commitTime);return this.listener.j_(r,t)}H_(){const e={};e.database=Of(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>hP(this.serializer,r))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{}class lR extends aR{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.J_=!1}Y_(){if(this.J_)throw new he(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Qo(e,Vf(t,r),s,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new he(Z.UNKNOWN,a.toString())})}Wo(e,t,r,s,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Wo(e,Vf(t,r),s,u,h,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(Z.UNKNOWN,u.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class uR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Wr(t),this.ea=!1):pe("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="RemoteStore";class cR{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=a,this.ca.vo(u=>{r.enqueueAndForget(async()=>{Vs(this)&&(pe(Ps,"Restarting streams for network reachability change."),await async function(f){const p=Pe(f);p.aa.add(4),await Ol(p),p.la.set("Unknown"),p.aa.delete(4),await cd(p)}(this))})}),this.la=new uR(r,s)}}async function cd(n){if(Vs(n))for(const e of n.ua)await e(!0)}async function Ol(n){for(const e of n.ua)await e(!1)}function g0(n,e){const t=Pe(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),kp(t)?Rp(t):na(t).b_()&&Pp(t,e))}function xp(n,e){const t=Pe(n),r=na(t);t._a.delete(e),r.b_()&&v0(t,e),t._a.size===0&&(r.b_()?r.v_():Vs(t)&&t.la.set("Unknown"))}function Pp(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}na(n).U_(e)}function v0(n,e){n.ha.Ke(e),na(n).K_(e)}function Rp(n){n.ha=new iP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),na(n).start(),n.la.ta()}function kp(n){return Vs(n)&&!na(n).w_()&&n._a.size>0}function Vs(n){return Pe(n).aa.size===0}function y0(n){n.ha=void 0}async function dR(n){n.la.set("Online")}async function hR(n){n._a.forEach((e,t)=>{Pp(n,e)})}async function fR(n,e){y0(n),kp(n)?(n.la.ia(e),Rp(n)):n.la.set("Unknown")}async function pR(n,e,t){if(n.la.set("Online"),e instanceof n0&&e.state===2&&e.cause)try{await async function(s,a){const u=a.cause;for(const h of a.targetIds)s._a.has(h)&&(await s.remoteSyncer.rejectListen(h,u),s._a.delete(h),s.ha.removeTarget(h))}(n,e)}catch(r){pe(Ps,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Bc(n,r)}else if(e instanceof wc?n.ha.Xe(e):e instanceof t0?n.ha.ot(e):n.ha.nt(e),!t.isEqual(xe.min()))try{const r=await f0(n.localStore);t.compareTo(r)>=0&&await function(a,u){const h=a.ha.It(u);return h.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const y=a._a.get(p);y&&a._a.set(p,y.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,p)=>{const y=a._a.get(f);if(!y)return;a._a.set(f,y.withResumeToken(Lt.EMPTY_BYTE_STRING,y.snapshotVersion)),v0(a,f);const w=new ki(y.target,f,p,y.sequenceNumber);Pp(a,w)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){pe(Ps,"Failed to raise snapshot:",r),await Bc(n,r)}}async function Bc(n,e,t){if(!ta(e))throw e;n.aa.add(1),await Ol(n),n.la.set("Offline"),t||(t=()=>f0(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{pe(Ps,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await cd(n)})}function _0(n,e){return e().catch(t=>Bc(n,t,e))}async function dd(n){const e=Pe(n),t=zi(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:hp;for(;mR(e);)try{const s=await YP(e.localStore,r);if(s===null){e.oa.length===0&&t.v_();break}r=s.batchId,gR(e,s)}catch(s){await Bc(e,s)}w0(e)&&E0(e)}function mR(n){return Vs(n)&&n.oa.length<10}function gR(n,e){n.oa.push(e);const t=zi(n);t.b_()&&t.W_&&t.G_(e.mutations)}function w0(n){return Vs(n)&&!zi(n).w_()&&n.oa.length>0}function E0(n){zi(n).start()}async function vR(n){zi(n).H_()}async function yR(n){const e=zi(n);for(const t of n.oa)e.G_(t.mutations)}async function _R(n,e,t){const r=n.oa.shift(),s=wp.from(r,e,t);await _0(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await dd(n)}async function wR(n,e){e&&zi(n).W_&&await async function(r,s){if(function(u){return nP(u)&&u!==Z.ABORTED}(s.code)){const a=r.oa.shift();zi(r).D_(),await _0(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await dd(r)}}(n,e),w0(n)&&E0(n)}async function Dy(n,e){const t=Pe(n);t.asyncQueue.verifyOperationInProgress(),pe(Ps,"RemoteStore received new credentials");const r=Vs(t);t.aa.add(3),await Ol(t),r&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await cd(t)}async function ER(n,e){const t=Pe(n);e?(t.aa.delete(2),await cd(t)):e||(t.aa.add(2),await Ol(t),t.la.set("Unknown"))}function na(n){return n.Pa||(n.Pa=function(t,r,s){const a=Pe(t);return a.Y_(),new sR(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{jo:dR.bind(null,n),Jo:hR.bind(null,n),Zo:fR.bind(null,n),Q_:pR.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),kp(n)?Rp(n):n.la.set("Unknown")):(await n.Pa.stop(),y0(n))})),n.Pa}function zi(n){return n.Ta||(n.Ta=function(t,r,s){const a=Pe(t);return a.Y_(),new oR(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:vR.bind(null,n),Zo:wR.bind(null,n),z_:yR.bind(null,n),j_:_R.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await dd(n)):(await n.Ta.stop(),n.oa.length>0&&(pe(Ps,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const u=Date.now()+r,h=new Np(e,t,u,s,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bp(n,e){if(Wr("AsyncQueue",`${e}: ${n}`),ta(n))return new he(Z.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{static emptySet(e){return new jo(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ee.comparator(t.key,r.key):(t,r)=>Ee.comparator(t.key,r.key),this.keyedMap=sl(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof jo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new jo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(){this.Ia=new it(Ee.comparator)}track(e){const t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Ie(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}}class Wo{constructor(e,t,r,s,a,u,h,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,a){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new Wo(e,t,jo.emptySet(t),u,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&id(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class TR{constructor(){this.queries=Vy(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){const s=Pe(t),a=s.queries;s.queries=Vy(),a.forEach((u,h)=>{for(const f of h.Ra)f.onError(r)})})(this,new he(Z.ABORTED,"Firestore shutting down"))}}function Vy(){return new Ds(n=>zw(n),id)}async function C0(n,e){const t=Pe(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.Va()&&e.ma()&&(r=2):(a=new CR,r=e.ma()?0:1);try{switch(r){case 0:a.Aa=await t.onListen(s,!0);break;case 1:a.Aa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const h=bp(u,`Initialization of query '${ko(e.query)}' failed`);return void e.onError(h)}t.queries.set(s,a),a.Ra.push(e),e.ga(t.onlineState),a.Aa&&e.pa(a.Aa)&&Dp(t)}async function T0(n,e){const t=Pe(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const u=a.Ra.indexOf(e);u>=0&&(a.Ra.splice(u,1),a.Ra.length===0?s=e.ma()?0:1:!a.Va()&&e.ma()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function SR(n,e){const t=Pe(n);let r=!1;for(const s of e){const a=s.query,u=t.queries.get(a);if(u){for(const h of u.Ra)h.pa(s)&&(r=!0);u.Aa=s}}r&&Dp(t)}function IR(n,e,t){const r=Pe(n),s=r.queries.get(e);if(s)for(const a of s.Ra)a.onError(t);r.queries.delete(e)}function Dp(n){n.fa.forEach(e=>{e.next()})}var Bf,Ly;(Ly=Bf||(Bf={})).ya="default",Ly.Cache="cache";class S0{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Wo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=Wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Bf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e){this.key=e}}class A0{constructor(e){this.key=e}}class AR{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Me(),this.mutatedKeys=Me(),this.Ua=$w(e),this.Ka=new jo(this.Ua)}get Wa(){return this.qa}Ga(e,t){const r=t?t.za:new My,s=t?t.Ka:this.Ka;let a=t?t.mutatedKeys:this.mutatedKeys,u=s,h=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((y,w)=>{const T=s.get(y),M=sd(this.query,w)?w:null,x=!!T&&this.mutatedKeys.has(T.key),V=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let O=!1;T&&M?T.data.isEqual(M.data)?x!==V&&(r.track({type:3,doc:M}),O=!0):this.ja(T,M)||(r.track({type:2,doc:M}),O=!0,(f&&this.Ua(M,f)>0||p&&this.Ua(M,p)<0)&&(h=!0)):!T&&M?(r.track({type:0,doc:M}),O=!0):T&&!M&&(r.track({type:1,doc:T}),O=!0,(f||p)&&(h=!0)),O&&(M?(u=u.add(M),a=V?a.add(y):a.delete(y)):(u=u.delete(y),a=a.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),a=a.delete(y.key),r.track({type:1,doc:y})}return{Ka:u,za:r,ys:h,mutatedKeys:a}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const u=e.za.da();u.sort((y,w)=>function(M,x){const V=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Vt:O})}};return V(M)-V(x)}(y.type,w.type)||this.Ua(y.doc,w.doc)),this.Ha(r),s=s!=null&&s;const h=t&&!s?this.Ja():[],f=this.$a.size===0&&this.current&&!s?1:0,p=f!==this.Qa;return this.Qa=f,u.length!==0||p?{snapshot:new Wo(this.query,e.Ka,a,u,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:h}:{Ya:h}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new My,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Me(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new A0(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new I0(r))}),t}Xa(e){this.qa=e.Ns,this.$a=Me();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return Wo.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Mp="SyncEngine";class xR{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class PR{constructor(e){this.key=e,this.tu=!1}}class RR{constructor(e,t,r,s,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.nu={},this.ru=new Ds(h=>zw(h),id),this.iu=new Map,this.su=new Set,this.ou=new it(Ee.comparator),this._u=new Map,this.au=new Tp,this.uu={},this.cu=new Map,this.lu=qo.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function kR(n,e,t=!0){const r=b0(n);let s;const a=r.ru.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.eu()):s=await x0(r,e,t,!0),s}async function NR(n,e){const t=b0(n);await x0(t,e,!0,!1)}async function x0(n,e,t,r){const s=await XP(n.localStore,cr(e)),a=s.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let h;return r&&(h=await bR(n,e,a,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&g0(n.remoteStore,s),h}async function bR(n,e,t,r,s){n.Pu=(w,T,M)=>async function(V,O,D,R){let L=O.view.Ga(D);L.ys&&(L=await Py(V.localStore,O.query,!1).then(({documents:j})=>O.view.Ga(j,L)));const $=R&&R.targetChanges.get(O.targetId),Q=R&&R.targetMismatches.get(O.targetId)!=null,K=O.view.applyChanges(L,V.isPrimaryClient,$,Q);return jy(V,O.targetId,K.Ya),K.snapshot}(n,w,T,M);const a=await Py(n.localStore,e,!0),u=new AR(e,a.Ns),h=u.Ga(a.documents),f=Ll.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=u.applyChanges(h,n.isPrimaryClient,f);jy(n,t,p.Ya);const y=new xR(e,t,u);return n.ru.set(e,y),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),p.snapshot}async function DR(n,e,t){const r=Pe(n),s=r.ru.get(e),a=r.iu.get(s.targetId);if(a.length>1)return r.iu.set(s.targetId,a.filter(u=>!id(u,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await jf(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&xp(r.remoteStore,s.targetId),Uf(r,s.targetId)}).catch(ea)):(Uf(r,s.targetId),await jf(r.localStore,s.targetId,!0))}async function MR(n,e){const t=Pe(n),r=t.ru.get(e),s=t.iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),xp(t.remoteStore,r.targetId))}async function VR(n,e,t){const r=zR(n);try{const s=await function(u,h){const f=Pe(u),p=wt.now(),y=h.reduce((M,x)=>M.add(x.key),Me());let w,T;return f.persistence.runTransaction("Locally write mutations","readwrite",M=>{let x=Kr(),V=Me();return f.Cs.getEntries(M,y).next(O=>{x=O,x.forEach((D,R)=>{R.isValidDocument()||(V=V.add(D))})}).next(()=>f.localDocuments.getOverlayedDocuments(M,x)).next(O=>{w=O;const D=[];for(const R of h){const L=Xx(R,w.get(R.key).overlayedDocument);L!=null&&D.push(new Ms(R.key,L,Vw(L.value.mapValue),Hn.exists(!0)))}return f.mutationQueue.addMutationBatch(M,p,D,h)}).next(O=>{T=O;const D=O.applyToLocalDocumentSet(w,V);return f.documentOverlayCache.saveOverlays(M,O.batchId,D)})}).then(()=>({batchId:T.batchId,changes:Hw(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,h,f){let p=u.uu[u.currentUser.toKey()];p||(p=new it(ke)),p=p.insert(h,f),u.uu[u.currentUser.toKey()]=p}(r,s.batchId,t),await jl(r,s.changes),await dd(r.remoteStore)}catch(s){const a=bp(s,"Failed to persist write");t.reject(a)}}async function P0(n,e){const t=Pe(n);try{const r=await KP(t.localStore,e);e.targetChanges.forEach((s,a)=>{const u=t._u.get(a);u&&(Ge(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.tu=!0:s.modifiedDocuments.size>0?Ge(u.tu,14607):s.removedDocuments.size>0&&(Ge(u.tu,42227),u.tu=!1))}),await jl(t,r,e)}catch(r){await ea(r)}}function Oy(n,e,t){const r=Pe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.ru.forEach((a,u)=>{const h=u.view.ga(e);h.snapshot&&s.push(h.snapshot)}),function(u,h){const f=Pe(u);f.onlineState=h;let p=!1;f.queries.forEach((y,w)=>{for(const T of w.Ra)T.ga(h)&&(p=!0)}),p&&Dp(f)}(r.eventManager,e),s.length&&r.nu.Q_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function LR(n,e,t){const r=Pe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r._u.get(e),a=s&&s.key;if(a){let u=new it(Ee.comparator);u=u.insert(a,$t.newNoDocument(a,xe.min()));const h=Me().add(a),f=new ld(xe.min(),new Map,new it(ke),u,h);await P0(r,f),r.ou=r.ou.remove(a),r._u.delete(e),Vp(r)}else await jf(r.localStore,e,!1).then(()=>Uf(r,e,t)).catch(ea)}async function OR(n,e){const t=Pe(n),r=e.batch.batchId;try{const s=await WP(t.localStore,e);k0(t,r,null),R0(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await jl(t,s)}catch(s){await ea(s)}}async function jR(n,e,t){const r=Pe(n);try{const s=await function(u,h){const f=Pe(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return f.mutationQueue.lookupMutationBatch(p,h).next(w=>(Ge(w!==null,37113),y=w.keys(),f.mutationQueue.removeMutationBatch(p,w))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,y,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>f.localDocuments.getDocuments(p,y))})}(r.localStore,e);k0(r,e,t),R0(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await jl(r,s)}catch(s){await ea(s)}}function R0(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function k0(n,e,t){const r=Pe(n);let s=r.uu[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.uu[r.currentUser.toKey()]=s}}function Uf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.iu.get(e))n.ru.delete(r),t&&n.nu.Tu(r,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(r=>{n.au.containsKey(r)||N0(n,r)})}function N0(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(xp(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),Vp(n))}function jy(n,e,t){for(const r of t)r instanceof I0?(n.au.addReference(r.key,e),FR(n,r)):r instanceof A0?(pe(Mp,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,e),n.au.containsKey(r.key)||N0(n,r.key)):Ie(19791,{Iu:r})}function FR(n,e){const t=e.key,r=t.path.canonicalString();n.ou.get(t)||n.su.has(r)||(pe(Mp,"New document in limbo: "+t),n.su.add(r),Vp(n))}function Vp(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new Ee(Ye.fromString(e)),r=n.lu.next();n._u.set(r,new PR(t)),n.ou=n.ou.insert(t,r),g0(n.remoteStore,new ki(cr(gp(t.path)),r,"TargetPurposeLimboResolution",ed.le))}}async function jl(n,e,t){const r=Pe(n),s=[],a=[],u=[];r.ru.isEmpty()||(r.ru.forEach((h,f)=>{u.push(r.Pu(f,e,t).then(p=>{var y;if((p||t)&&r.isPrimaryClient){const w=p?!p.fromCache:(y=t==null?void 0:t.targetChanges.get(f.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(f.targetId,w?"current":"not-current")}if(p){s.push(p);const w=Ip.Ps(f.targetId,p);a.push(w)}}))}),await Promise.all(u),r.nu.Q_(s),await async function(f,p){const y=Pe(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>te.forEach(p,T=>te.forEach(T.ls,M=>y.persistence.referenceDelegate.addReference(w,T.targetId,M)).next(()=>te.forEach(T.hs,M=>y.persistence.referenceDelegate.removeReference(w,T.targetId,M)))))}catch(w){if(!ta(w))throw w;pe(Ap,"Failed to update sequence numbers: "+w)}for(const w of p){const T=w.targetId;if(!w.fromCache){const M=y.Ss.get(T),x=M.snapshotVersion,V=M.withLastLimboFreeSnapshotVersion(x);y.Ss=y.Ss.insert(T,V)}}}(r.localStore,a))}async function BR(n,e){const t=Pe(n);if(!t.currentUser.isEqual(e)){pe(Mp,"User change. New user:",e.toKey());const r=await h0(t.localStore,e);t.currentUser=e,function(a,u){a.cu.forEach(h=>{h.forEach(f=>{f.reject(new he(Z.CANCELLED,u))})}),a.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await jl(t,r.Ms)}}function UR(n,e){const t=Pe(n),r=t._u.get(e);if(r&&r.tu)return Me().add(r.key);{let s=Me();const a=t.iu.get(e);if(!a)return s;for(const u of a){const h=t.ru.get(u);s=s.unionWith(h.view.Wa)}return s}}function b0(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=P0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=LR.bind(null,e),e.nu.Q_=SR.bind(null,e.eventManager),e.nu.Tu=IR.bind(null,e.eventManager),e}function zR(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=OR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jR.bind(null,e),e}class Uc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ud(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return qP(this.persistence,new $P,e.initialUser,this.serializer)}Ru(e){return new d0(Sp.Ei,this.serializer)}Au(e){return new ZP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Uc.provider={build:()=>new Uc};class $R extends Uc{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){Ge(this.persistence.referenceDelegate instanceof Fc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new PP(r,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new d0(r=>Fc.Ei(r,t),this.serializer)}}class zf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Oy(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=BR.bind(null,this.syncEngine),await ER(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new TR}()}createDatastore(e){const t=ud(e.databaseInfo.databaseId),r=function(a){return new iR(a)}(e.databaseInfo);return function(a,u,h,f){return new lR(a,u,h,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,a,u,h){return new cR(r,s,a,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>Oy(this.syncEngine,t,0),function(){return Ny.C()?new Ny:new eR}())}createSyncEngine(e,t){return function(s,a,u,h,f,p,y){const w=new RR(s,a,u,h,f,p);return y&&(w.hu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const a=Pe(s);pe(Ps,"RemoteStore shutting down."),a.aa.add(5),await Ol(a),a.ca.shutdown(),a.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}zf.provider={build:()=>new zf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Wr("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i="FirestoreClient";class GR{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=zt.UNAUTHENTICATED,this.clientId=Iw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{pe($i,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(pe($i,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=bp(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function lf(n,e){n.asyncQueue.verifyOperationInProgress(),pe($i,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await h0(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Fy(n,e){n.asyncQueue.verifyOperationInProgress();const t=await HR(n);pe($i,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Dy(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>Dy(e.remoteStore,s)),n._onlineComponents=e}async function HR(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe($i,"Using user provided OfflineComponentProvider");try{await lf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===Z.FAILED_PRECONDITION||s.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Uo("Error using user provided cache. Falling back to memory cache: "+t),await lf(n,new Uc)}}else pe($i,"Using default OfflineComponentProvider"),await lf(n,new $R(void 0));return n._offlineComponents}async function M0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe($i,"Using user provided OnlineComponentProvider"),await Fy(n,n._uninitializedComponentsProvider._online)):(pe($i,"Using default OnlineComponentProvider"),await Fy(n,new zf))),n._onlineComponents}function qR(n){return M0(n).then(e=>e.syncEngine)}async function V0(n){const e=await M0(n),t=e.eventManager;return t.onListen=kR.bind(null,e.syncEngine),t.onUnlisten=DR.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=NR.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=MR.bind(null,e.syncEngine),t}function WR(n,e,t={}){const r=new zr;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,h,f,p){const y=new D0({next:T=>{y.yu(),u.enqueueAndForget(()=>T0(a,w));const M=T.docs.has(h);!M&&T.fromCache?p.reject(new he(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&T.fromCache&&f&&f.source==="server"?p.reject(new he(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),w=new S0(gp(h.path),y,{includeMetadataChanges:!0,Fa:!0});return C0(a,w)}(await V0(n),n.asyncQueue,e,t,r)),r.promise}function KR(n,e,t={}){const r=new zr;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,h,f,p){const y=new D0({next:T=>{y.yu(),u.enqueueAndForget(()=>T0(a,w)),T.fromCache&&f.source==="server"?p.reject(new he(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(T)},error:T=>p.reject(T)}),w=new S0(h,y,{includeMetadataChanges:!0,Fa:!0});return C0(a,w)}(await V0(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(n,e,t){if(!t)throw new he(Z.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function QR(n,e,t,r){if(e===!0&&r===!0)throw new he(Z.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Uy(n){if(!Ee.isDocumentKey(n))throw new he(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function zy(n){if(Ee.isDocumentKey(n))throw new he(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function hd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ie(12329,{type:typeof n})}function Qr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new he(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=hd(n);throw new he(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="firestore.googleapis.com",$y=!0;class Gy{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new he(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=j0,this.ssl=$y}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:$y;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=c0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<AP)throw new he(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=L0((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fd{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gy(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new nx;switch(r.type){case"firstParty":return new ox(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=By.get(t);r&&(pe("ComponentProvider","Removing Datastore"),By.delete(t),r.terminate())}(this),Promise.resolve()}}function YR(n,e,t,r={}){var s;const a=(n=Qr(n,fd))._getSettings(),u=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),h=`${e}:${t}`;a.host!==j0&&a.host!==h&&Uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},a),{host:h,ssl:!1,emulatorOptions:r});if(!Ts(f,u)&&(n._setSettings(f),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=zt.MOCK_USER;else{p=dS(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new he(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new zt(w)}n._authCredentials=new rx(new Tw(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zr(this.firestore,e,this._query)}}class on{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Li(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new on(this.firestore,e,this._key)}}class Li extends Zr{constructor(e,t,r){super(e,t,gp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new Ee(e))}withConverter(e){return new Li(this.firestore,e,this._path)}}function Gn(n,e,...t){if(n=Vt(n),O0("collection","path",e),n instanceof fd){const r=Ye.fromString(e,...t);return zy(r),new Li(n,null,r)}{if(!(n instanceof on||n instanceof Li))throw new he(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ye.fromString(e,...t));return zy(r),new Li(n.firestore,null,r)}}function $r(n,e,...t){if(n=Vt(n),arguments.length===1&&(e=Iw.newId()),O0("doc","path",e),n instanceof fd){const r=Ye.fromString(e,...t);return Uy(r),new on(n,null,new Ee(r))}{if(!(n instanceof on||n instanceof Li))throw new he(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ye.fromString(e,...t));return Uy(r),new on(n.firestore,n instanceof Li?n.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy="AsyncQueue";class qy{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new p0(this,"async_queue_retry"),this.ju=()=>{const r=af();r&&pe(Hy,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const t=af();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=af();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new zr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!ta(e))throw e;pe(Hy,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Wr("INTERNAL UNHANDLED ERROR: ",Wy(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const s=Np.createAndSchedule(this,e,t,r,a=>this.Xu(a));return this.Uu.push(s),s}Ju(){this.Ku&&Ie(47125,{ec:Wy(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function Wy(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class ra extends fd{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new qy,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qy(e),this._firestoreClient=void 0,await e}}}function XR(n,e){const t=typeof n=="object"?n:D_(),r=typeof n=="string"?n:Dc,s=tp(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=uS("firestore");a&&YR(s,...a)}return s}function Lp(n){if(n._terminated)throw new he(Z.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||JR(n),n._firestoreClient}function JR(n){var e,t,r;const s=n._freezeSettings(),a=function(h,f,p,y){return new Ex(h,f,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,L0(y.experimentalLongPollingOptions),y.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new GR(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ko(Lt.fromBase64String(e))}catch(t){throw new he(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ko(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=/^__.*__$/;class ek{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ms(e,this.data,this.fieldMask,t,this.fieldTransforms):new Vl(e,this.data,t,this.fieldTransforms)}}function F0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{oc:n})}}class Up{constructor(e,t,r,s,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this._c(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Up(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ac({path:r,cc:!1});return s.lc(e),s}hc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ac({path:r,cc:!1});return s._c(),s}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return zc(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(F0(this.oc)&&ZR.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class tk{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ud(e)}dc(e,t,r,s=!1){return new Up({oc:e,methodName:t,Ec:r,path:Mt.emptyPath(),cc:!1,Ic:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pd(n){const e=n._freezeSettings(),t=ud(n._databaseId);return new tk(n._databaseId,!!e.ignoreUndefinedProperties,t)}function B0(n,e,t,r,s,a={}){const u=n.dc(a.merge||a.mergeFields?2:0,e,t,s);G0("Data must be an object, but it was:",u,r);const h=z0(r,u);let f,p;if(a.merge)f=new $n(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const y=[];for(const w of a.mergeFields){const T=nk(e,w,t);if(!u.contains(T))throw new he(Z.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);ik(y,T)||y.push(T)}f=new $n(y),p=u.fieldTransforms.filter(w=>f.covers(w.field))}else f=null,p=u.fieldTransforms;return new ek(new An(h),f,p)}class zp extends jp{_toFieldTransform(e){return new Wx(e.path,new Cl)}isEqual(e){return e instanceof zp}}function U0(n,e,t,r=!1){return $p(t,n.dc(r?4:3,e))}function $p(n,e){if($0(n=Vt(n)))return G0("Unsupported field value:",e,n),z0(n,e);if(n instanceof jp)return function(r,s){if(!F0(s.oc))throw s.Tc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Tc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,s){const a=[];let u=0;for(const h of r){let f=$p(h,s.Pc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,s){if((r=Vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Gx(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=wt.fromDate(r);return{timestampValue:jc(s.serializer,a)}}if(r instanceof wt){const a=new wt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:jc(s.serializer,a)}}if(r instanceof Fp)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ko)return{bytesValue:r0(s.serializer,r._byteString)};if(r instanceof on){const a=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw s.Tc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Cp(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Bp)return function(u,h){return{mapValue:{fields:{[Dw]:{stringValue:Mw},[Mc]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw h.Tc("VectorValues must only contain numeric values.");return yp(h.serializer,p)})}}}}}}(r,s);throw s.Tc(`Unsupported field value: ${hd(r)}`)}(n,e)}function z0(n,e){const t={};return xw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ns(n,(r,s)=>{const a=$p(s,e.uc(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function $0(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof wt||n instanceof Fp||n instanceof Ko||n instanceof on||n instanceof jp||n instanceof Bp)}function G0(n,e,t){if(!$0(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=hd(t);throw r==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+r)}}function nk(n,e,t){if((e=Vt(e))instanceof Op)return e._internalPath;if(typeof e=="string")return H0(n,e);throw zc("Field path arguments must be of type string or ",n,!1,void 0,t)}const rk=new RegExp("[~\\*/\\[\\]]");function H0(n,e,t){if(e.search(rk)>=0)throw zc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Op(...e.split("."))._internalPath}catch{throw zc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function zc(n,e,t,r,s){const a=r&&!r.isEmpty(),u=s!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new he(Z.INVALID_ARGUMENT,h+n+f)}function ik(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new sk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(md("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class sk extends Gp{data(){return super.data()}}function md(n,e){return typeof e=="string"?H0(n,e):e instanceof Op?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new he(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hp{}class gd extends Hp{}function Es(n,e,...t){let r=[];e instanceof Hp&&r.push(e),r=r.concat(t),function(a){const u=a.filter(f=>f instanceof qp).length,h=a.filter(f=>f instanceof vd).length;if(u>1||u>0&&h>0)throw new he(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class vd extends gd{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new vd(e,t,r)}_apply(e){const t=this._parse(e);return q0(e._query,t),new Zr(e.firestore,e.converter,Df(e._query,t))}_parse(e){const t=pd(e.firestore);return function(a,u,h,f,p,y,w){let T;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new he(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Xy(w,y);const x=[];for(const V of w)x.push(Yy(f,a,V));T={arrayValue:{values:x}}}else T=Yy(f,a,w)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Xy(w,y),T=U0(h,u,w,y==="in"||y==="not-in");return ft.create(p,y,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Il(n,e,t){const r=e,s=md("where",n);return vd._create(s,r,t)}class qp extends Hp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new qp(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Wn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,a){let u=s;const h=a.getFlattenedFilters();for(const f of h)q0(u,f),u=Df(u,f)}(e._query,t),new Zr(e.firestore,e.converter,Df(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Wp extends gd{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Wp(e,t)}_apply(e){const t=function(s,a,u){if(s.startAt!==null)throw new he(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new he(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new El(a,u)}(e._query,this._field,this._direction);return new Zr(e.firestore,e.converter,function(s,a){const u=s.explicitOrderBy.concat([a]);return new bs(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function Ky(n,e="asc"){const t=e,r=md("orderBy",n);return Wp._create(r,t)}class Kp extends gd{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Kp(e,t,r)}_apply(e){return new Zr(e.firestore,e.converter,Lc(e._query,this._limit,this._limitType))}}function Qy(n){return Kp._create("limit",n,"F")}class Qp extends gd{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Qp(e,t,r)}_apply(e){const t=lk(e,this.type,this._docOrFields,this._inclusive);return new Zr(e.firestore,e.converter,function(s,a){return new bs(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,a,s.endAt)}(e._query,t))}}function ak(...n){return Qp._create("startAfter",n,!1)}function lk(n,e,t,r){if(t[0]=Vt(t[0]),t[0]instanceof Gp)return function(a,u,h,f,p){if(!f)throw new he(Z.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const y=[];for(const w of Oo(a))if(w.field.isKeyField())y.push(Vc(u,f.key));else{const T=f.data.field(w.field);if(nd(T))throw new he(Z.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+w.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(T===null){const M=w.field.canonicalString();throw new he(Z.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${M}' (used as the orderBy) does not exist.`)}y.push(T)}return new Ho(y,p)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const s=pd(n.firestore);return function(u,h,f,p,y,w){const T=u.explicitOrderBy;if(y.length>T.length)throw new he(Z.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const M=[];for(let x=0;x<y.length;x++){const V=y[x];if(T[x].field.isKeyField()){if(typeof V!="string")throw new he(Z.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof V}`);if(!vp(u)&&V.indexOf("/")!==-1)throw new he(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${V}' contains a slash.`);const O=u.path.child(Ye.fromString(V));if(!Ee.isDocumentKey(O))throw new he(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${O}' is not because it contains an odd number of segments.`);const D=new Ee(O);M.push(Vc(h,D))}else{const O=U0(f,p,V);M.push(O)}}return new Ho(M,w)}(n._query,n.firestore._databaseId,s,e,t,r)}}function Yy(n,e,t){if(typeof(t=Vt(t))=="string"){if(t==="")throw new he(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vp(e)&&t.indexOf("/")!==-1)throw new he(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Ye.fromString(t));if(!Ee.isDocumentKey(r))throw new he(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Vc(n,new Ee(r))}if(t instanceof on)return Vc(n,t._key);throw new he(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hd(t)}.`)}function Xy(n,e){if(!Array.isArray(n)||n.length===0)throw new he(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function q0(n,e){const t=function(s,a){for(const u of s)for(const h of u.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new he(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class uk{convertValue(e,t="none"){switch(Ui(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Bi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ns(e,(s,a)=>{r[s]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,s;const a=(s=(r=(t=e.fields)===null||t===void 0?void 0:t[Mc].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>lt(u.doubleValue));return new Bp(a)}convertGeoPoint(e){return new Fp(lt(e.latitude),lt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=rd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(yl(e));default:return null}}convertTimestamp(e){const t=Fi(e);return new wt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ye.fromString(e);Ge(u0(r),9688,{name:e});const s=new _l(r.get(1),r.get(3)),a=new Ee(r.popFirst(5));return s.isEqual(t)||Wr(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class K0 extends Gp{constructor(e,t,r,s,a,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(md("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Ec extends K0{data(e={}){return super.data(e)}}class ck{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new al(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ec(this._firestore,this._userDataWriter,r.key,r,new al(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(h=>{const f=new Ec(s._firestore,s._userDataWriter,h.doc.key,h.doc,new al(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const f=new Ec(s._firestore,s._userDataWriter,h.doc.key,h.doc,new al(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,y=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:dk(h.type),doc:f,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function dk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(n){n=Qr(n,on);const e=Qr(n.firestore,ra);return WR(Lp(e),n._key).then(t=>fk(e,n,t))}class Q0 extends uk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ko(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,t)}}function Oi(n){n=Qr(n,Zr);const e=Qr(n.firestore,ra),t=Lp(e),r=new Q0(e);return ok(n._query),KR(t,n._query).then(s=>new ck(e,r,n,s))}function Y0(n,e,t){n=Qr(n,on);const r=Qr(n.firestore,ra),s=W0(n.converter,e);return Yp(r,[B0(pd(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Hn.none())])}function hk(n){return Yp(Qr(n.firestore,ra),[new _p(n._key,Hn.none())])}function X0(n,e){const t=Qr(n.firestore,ra),r=$r(n),s=W0(n.converter,e);return Yp(t,[B0(pd(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,Hn.exists(!1))]).then(()=>r)}function Yp(n,e){return function(r,s){const a=new zr;return r.asyncQueue.enqueueAndForget(async()=>VR(await qR(r),s,a)),a.promise}(Lp(n),e)}function fk(n,e,t){const r=t.docs.get(e._key),s=new Q0(n);return new K0(n,s,e._key,r,new al(t.hasPendingWrites,t.fromCache),e.converter)}function J0(){return new zp("serverTimestamp")}(function(e,t=!0){(function(s){Zo=s})(Xo),Bo(new Ss("firestore",(r,{instanceIdentifier:s,options:a})=>{const u=r.getProvider("app").getImmediate(),h=new ra(new ix(r.getProvider("auth-internal")),new ax(u,r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new he(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _l(p.options.projectId,y)}(u,s),u);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),Mi(Jv,Zv,e),Mi(Jv,Zv,"esm2017")})();const pk={apiKey:"AIzaSyCvNmPkmwMeq7LMbiTkUKpXDn6tXO_GcVQ",authDomain:"samga-2ba55.firebaseapp.com",projectId:"samga-2ba55",storageBucket:"samga-2ba55.appspot.com",messagingSenderId:"650876987710",appId:"1:650876987710:web:xxxxx"},Z0=b_(pk),Kn=ex(Z0),_t=XR(Z0);function mk(){const[n,e]=U.useState(null),t=vr(),[r,s]=U.useState(!1),u=Gi().pathname.startsWith("/store/"),h=()=>{s(p=>!p)};U.useEffect(()=>{const p=zA(Kn,y=>{e(y)});return()=>p()},[]);const f=async()=>{await $A(Kn),t("/")};return _.jsxs("header",{className:u?"header white":"header",children:[_.jsxs("div",{className:"header-inner-pc",children:[_.jsx("div",{className:"logo",onClick:()=>t("/"),children:_.jsx("img",{src:"/SAMGA-V2/img/logo/logo.svg",alt:"로고",className:"logo"})}),_.jsx("nav",{className:"nav",children:_.jsxs("ul",{className:"nav-list",children:[_.jsx("li",{children:"牛리마을 소개"}),_.jsx("li",{onClick:()=>t("/storefilterpage"),children:"식육식당"}),_.jsx("li",{onClick:()=>t("/review"),children:"리뷰"})]})}),_.jsx("div",{className:"user-menu",children:n?_.jsxs(_.Fragment,{children:[_.jsx("span",{onClick:()=>t("/mypage"),className:"clickable",children:"마이페이지"}),_.jsx("span",{onClick:f,className:"clickable",children:"로그아웃"})]}):_.jsxs(_.Fragment,{children:[_.jsx("span",{onClick:()=>t("/signup"),className:"clickable",children:"회원가입"}),_.jsx("span",{onClick:()=>t("/login"),className:"clickable",children:"로그인"})]})})]}),_.jsxs("div",{className:"header-inner-m",children:[_.jsxs("div",{className:"top-row",children:[_.jsx("div",{className:"logo",onClick:()=>t("/"),children:_.jsx("img",{src:"/SAMGA-V2/img/logo/logo.svg",alt:"로고",className:"logo"})}),_.jsxs("div",{className:"mobile-menu-icon",onClick:h,children:[_.jsx("span",{}),_.jsx("span",{}),_.jsx("span",{})]})]}),_.jsx("div",{className:`mobile-user-menu ${r?"open":""}`,children:n?_.jsxs(_.Fragment,{children:[_.jsx("span",{onClick:()=>t("/mypage"),children:"마이페이지"}),_.jsx("span",{onClick:f,children:"로그아웃"})]}):_.jsxs(_.Fragment,{children:[_.jsx("span",{onClick:()=>t("/signup"),children:"회원가입"}),_.jsx("span",{onClick:()=>t("/login"),children:"로그인"})]})}),_.jsx("nav",{className:"nav",children:_.jsxs("ul",{className:"nav-list",children:[_.jsx("li",{children:"소개"}),_.jsx("li",{children:"식육식당"}),_.jsx("li",{children:"리뷰"})]})})]})]})}const Fe=[{name:"대가1호점",lat:35.411016,lng:128.124549,address:"경남 합천군 삼가면 일부3길 8",phone:"055-931-0688",hours:"매일 11:00 - 18:00 / 매주 월요일 휴무",point:"고기 품절 시 조기 마감",options:["주문배송","무료wifi","남여화장실구분","단체이용예약가능","주차장","제로페이","유아의자"],image:"/SAMGA-V2/samga/store/대가1호점_디테일_1.png",detailimage:"/SAMGA-V2/samga/store/대가1호점_landing_detail.jpg",description:`이름이 주는 전통,
 대를 이어 맛을 지켜가겠습니다.`,story:`대가 식육식당 창업주인 장남이 운영하는 식당으로 
 카페 플로리안도 같이 운영하고 있다. 
 한우 식당들이 모여있는 삼가시장이나 삼가1로에서 뚝 떨어져있지만 넓은 주차장과 
 눈에 띄는 독특한 조경들이 있어 많은 손님들이 다시 찾는 가게이다. 
 "아버지랑은 다르지요. 아버지는 손님이 왔으면 뭐라도 드려야한다 생각하고, 
 나는 원하는 것을 드릴 수 없으면 안 드리는게 그 분을 위한 것이라 생각합니다. 
 1세대 경영과 2세대 경영의 차이랄까요?" 
 이렇게 말하는 이 대표의 차이는 세대와 페러다임의 변화 때문일 것이다. 
 그 변화 속에서 현재 이곳에 맞는 최적화가 이루어지고 있는 것이다.`,logo:"/SAMGA-V2/samga/logo/대가1호점_logo.png",hashtag:["#한우맛집","#가족과 함께","#단체손님"],slogan:`이름이 주는 전통
 대를 이어 맛을 
 지켜가겠습니다.`,slogan2:'"가장 최고로 준비해 드릴 수 없을 때는 문을 닫습니다."',detailImagelist:["/SAMGA-V2/samga/store/deaga1/대가1호점상세페이지_M_1.jpg","/SAMGA-V2/samga/store/deaga1/대가1호점상세페이지_M_2.jpg","/SAMGA-V2/samga/store/deaga1/대가1호점상세페이지_M_3.jpg","/SAMGA-V2/samga/store/deaga1/대가1호점상세페이지_PC_1.jpg","/SAMGA-V2/samga/store/deaga1/대가1호점상세페이지_PC_2.jpg","/SAMGA-V2/samga/store/deaga1/대가1호점상세페이지_PC_3.jpg"]},{name:"대가식육식당",lat:35.413238,lng:128.122724,address:"경남 합천군 삼가면 삼가중앙길 24-7",phone:"055-932-8249",hours:"매일 11:00 - 19:30 / 매주 월요일 휴무",options:["주문배송","단체이용예약가능","무료wifi","예약가능","제로페이","일반식사메뉴","주차장","남여화장실구분","유아의자","포장가능"],image:"/SAMGA-V2/samga/store/대가식육식당_디테일_1.png",detailimage:"/SAMGA-V2/samga/store/대가1호점_landing_detail.jpg",description:`좋은 고기를 다루는 건 
기술이 아니라 신념이다.`,story:"",logo:"/SAMGA-V2/samga/logo/대가식육식당_logo.png",hashtag:["#한우맛집","#가족과 함께","#단체손님"],slogan:`좋은 고기를
 다루는건
 기술이 아니라,
  신념이다.`},{name:"대가한우",lat:35.413032,lng:128.125073,address:"경남 합천군 삼가면 삼가로 353",phone:"055-932-1106",hours:"매일 10:30 - 19:30 / 매주 월요일 휴무",options:["주문배송","남여화장실구분","단체이용예약가능","무료wifi","예약가능","주차장","제로페이","유아의자","포장가능","일반식사메뉴"],image:"/SAMGA-V2/samga/store/대가한우_디테일_1.png",detailimage:"/SAMGA-V2/samga/store/대가한우_landing_detail.jpg",description:`맛있는 고기에는 늘 이유가 있다.
그 이유를 고집한다.`,story:"",logo:"/SAMGA-V2/samga/logo/대가한우_logo.png",hashtag:["#한우맛집","#가족과 함께","#단체손님"],slogan:`맛있는 고기는
 늘 이유가 있다
 그 이유를 고집한다`,slogan2:'"가장 최고로 준비해 드릴 수 없을 때는 문을 닫습니다."',detailImagelist:["/SAMGA-V2/samga/store/deagaH/대가한우상세페이지_M_1.jpg","/SAMGA-V2/samga/store/deagaH/대가한우상세페이지_M_2.jpg","/SAMGA-V2/samga/store/deagaH/대가한우상세페이지_M_3.jpg","/SAMGA-V2/samga/store/deagaH/대가한우상세페이지_PC_1.jpg","/SAMGA-V2/samga/store/deagaH/대가한우상세페이지_PC_2.jpg","/SAMGA-V2/samga/store/deagaH/대가한우상세페이지_PC_3.jpg"]},{name:"대산식육식당",lat:35.413304,lng:128.123713,address:"경남 합천군 삼가1로 104",phone:"055-932-0289",hours:"매일 10:30 - 19:30 / 매주 월요일 휴무",options:["남여화장실구분","단체이용예약가능","예약가능","주문배송","무료wifi"],image:"/SAMGA-V2/samga/store/대산식육식당_디테일_1.png",detailimage:"/SAMGA-V2/samga/store/대가1호점_landing_detail.jpg",description:`엄마 손맛에
 고기의 자부심을 더하다.`,story:"",logo:"/SAMGA-V2/samga/logo/대산식육식당_logo.png",hashtag:["#한우맛집","#가족과 함께","#단체손님"],slogan:`엄마 손맛에
 고기의 자부심을 더하다.`},{name:"대웅식육식당",lat:35.412476,lng:128.124175,address:"경남 합천군 삼가면 345-1",phone:"055-933-5566",hours:"매일 11:00 - 18:00 / 매주 월요일 휴무",point:"고기 품절 시 조기 마감",options:["주문배송","무료wifi","예약가능","단체이용예약가능","남여화장실구분","일반식사메뉴","주차장","유아의자","제로페이","포장가능"],image:"/SAMGA-V2/samga/store/대웅식육식당_1.JPG",detailimage:"/SAMGA-V2/samga/store/대가1호점_landing_detail.jpg",description:`땅에서 키운 정성
 접시에 담긴 진심`,story:"",logo:"/SAMGA-V2/samga/logo/대웅식육식당_logo.png",hashtag:["#한우맛집","#가족과 함께","#단체손님"],slogan:`땅에서 키운 정성
 접시에 담긴 진심`},{name:"도원식육식당",lat:35.4145,lng:128.1234,address:"경남 합천군 삼가중앙길 40",phone:"055-932-9595",hours:"매일 10:30 - 19:30 / 유동적 휴일 운영",options:["무료wifi","주문배송","포장가능","주차장","남여화장실구분","일반식사메뉴","제로페이","유아의자"],image:"/SAMGA-V2/samga/store/도원식육식당_1.JPG",detailimage:"/SAMGA-V2/samga/store/도원식육식당_landing_detail.jpg",description:`평점보다 더 정확한 건,
 믿고 듣는 입소문. `,story:"",logo:"/SAMGA-V2/samga/logo/도원식육식당_logo.png",hashtag:["#한우맛집","#가족과 함께","#단체손님"],slogan:`평점보다
 더 정확한건
 믿고 듣는 입소문.`,detailImagelist:["/SAMGA-V2/samga/store/dowon/도원식육식당상세페이지_M_1.jpg","/SAMGA-V2/samga/store/dowon/도원식육식당상세페이지_M_2.jpg","/SAMGA-V2/samga/store/dowon/도원식육식당상세페이지_M_3.jpg","/SAMGA-V2/samga/store/dowon/도원식육식당상세페이지_PC_1.jpg","/SAMGA-V2/samga/store/dowon/도원식육식당상세페이지_PC_2.jpg","/SAMGA-V2/samga/store/dowon/도원식육식당상세페이지_PC_3.jpg"]},{name:"미로식육식당",lat:35.412652,lng:128.123201,address:"경남 합천군 삼가면 일부5길 6-5 1층",phone:"055-933-7744",hours:"매일 10:00 - 19:30 / 유동적 휴일 운영",options:["무료wifi","주문배송","포장가능","주차장","남여화장실구분","일반식사메뉴","제로페이","유아의자","단체이용예약가능"],image:"/SAMGA-V2/samga/store/미로식육식당_1.JPG",detailimage:"/SAMGA-V2/samga/store/대가1호점_landing_detail.jpg",description:`미로 속,
 오직 맛으로 찾는 곳.`,story:"",logo:"/SAMGA-V2/samga/logo/미로식육식당_logo.png",hashtag:["#한우맛집","#가족과 함께","#단체손님"],slogan:`미로 속,
  오직 맛으로
 찾는 곳.`},{name:"불난가 한우",lat:35.414209,lng:128.120978,address:"경남 합천군 삼가면 삼가중앙1길 38",phone:"055-932-4623",hours:"매일 10:30 - 19:30 / 매주 월요일 휴무",options:["무료wifi","주문배송","포장가능","주차장","남여화장실구분","일반식사메뉴","제로페이","유아의자","단체이용예약가능"],image:"/SAMGA-V2/samga/store/불난가한우_1.jpg",detailimage:"/SAMGA-V2/samga/store/대가1호점_landing_detail.jpg",description:`소개해 준 친구에게 고마운 집,
 불이 붙을 만한 이유가 있다.`,story:"",logo:"/SAMGA-V2/samga/logo/불난가한우_logo.png",hashtag:["#한우맛집","#가족과 함께","#단체손님"],slogan:`소개해 준 친구에게
 고마운 집,
 불이 붙을 만한
 이유가 있다.`},{name:"삼가명품한우",lat:35.412749,lng:128.119125,address:"경남 합천군 삼가면 서부로 39",phone:"055-931-5004",hours:"매일 11:00 - 20:00 / 매주 수요일 휴무",point:"15:00 -  17:00 브레이크 타임",options:["무료wifi","주문배송","포장가능","주차장","남여화장실구분","일반식사메뉴","유아의자","단체이용예약가능"],image:"/SAMGA-V2/samga/store/삼가명품한우_1.jpg",detailimage:"/SAMGA-V2/samga/store/대가1호점_landing_detail.jpg",description:`최고가 아니면
 판매하지 않습니다.`,story:"",logo:"/SAMGA-V2/samga/logo/삼가명품한우_logo.png",hashtag:["#한우맛집","#가족과 함께","#단체손님"],slogan:`최고가 아니면
 판매하지 않습니다.`},{name:"상구한우",lat:35.413601,lng:128.122624,address:"경남 합천군 삼가면 삼가중앙길 26 1층",phone:"055-933-3969",hours:"매일 10:00 - 19:00 / 매주 화요일 휴무, 삼가 장날은 수요일 휴무",options:["무료wifi","주문배송","포장가능","주차장","남여화장실구분","일반식사메뉴","제로페이","유아의자","단체이용예약가능"],image:"/SAMGA-V2/samga/store/상구한우_1.jpg",detailimage:"/SAMGA-V2/samga/store/상구한우_landing_detail.jpg",description:`일상 속 고깃집,
 그러나 결코 평범하지 않은 맛.`,story:"",logo:"/SAMGA-V2/samga/logo/상구한우_logo.png",hashtag:["#한우맛집","#가족과 함께","#단체손님"],slogan:`일상 속 고깃집,
 그러나 결코
 평범하지 않은 맛.`,detailImagelist:["/SAMGA-V2/samga/store/sanggu/상구한우상세페이지_M_1.jpg","/SAMGA-V2/samga/store/sanggu/상구한우상세페이지_M_2.jpg","/SAMGA-V2/samga/store/sanggu/상구한우상세페이지_M_3.jpg","/SAMGA-V2/samga/store/sanggu/상구한우상세페이지_PC_1.jpg","/SAMGA-V2/samga/store/sanggu/상구한우상세페이지_PC_2.jpg","/SAMGA-V2/samga/store/sanggu/상구한우상세페이지_PC_3.jpg"]},{name:"태영한우",lat:35.413468,lng:128.123151,address:"경남 합천군 삼가면 일부5길 11",phone:"0507-1384-9399",hours:"매일 10:30 - 19:30 / 매주 월요일 휴무",options:[""],image:"/SAMGA-V2/samga/store/태영한우_1.jpg",detailimage:"/SAMGA-V2/samga/store/대가1호점_landing_detail.jpg",description:`깔끔한 공간, 신선한 고기,
젊은 입맛 사로잡다.`,story:"",logo:"/SAMGA-V2/samga/logo/태영한우_logo.png",hashtag:["#한우맛집","#가족과 함께","#단체손님"],slogan:`깔끔한 공간,
 신선한 고기,
젊은 입맛 사로잡다.`}];function gk(){const n=vr(),e=t=>{n(`/admin/store${t+1}`)};return _.jsx("footer",{className:"custom-footer",children:_.jsxs("div",{className:"footer-inner",children:[_.jsxs("div",{className:"footer-column left",children:[_.jsx("img",{src:"/SAMGA-V2/img/logo/logo.svg",alt:"우리마을삼가 로고",className:"footer-logo"}),_.jsxs("p",{children:["대표 : 합천군 도시재생지원 센터",_.jsx("br",{}),"사업자 등록번호 : -",_.jsx("br",{}),"주소 : 50223 경상남도 합천군 삼가면 삼가1로 100",_.jsx("br",{}),"팩스 : -",_.jsx("br",{}),"이메일 : 000@gmail.com",_.jsx("br",{})]}),_.jsxs("ul",{className:"footer-links",children:[_.jsx("li",{children:_.jsx("a",{children:"회사소개"})}),_.jsx("li",{children:_.jsx("a",{children:"이용약관"})}),_.jsx("li",{children:_.jsx("a",{children:"개인정보처리방침"})}),_.jsx("li",{children:_.jsx("a",{children:"이용안내"})})]}),_.jsxs("div",{className:"footer-sns",children:[_.jsx("a",{children:"f"}),_.jsx("a",{children:"i"}),_.jsx("a",{children:"k"})]}),_.jsxs("p",{className:"copyright",children:["Copyright © 우리마을삼가. All rights reserved.",_.jsx("br",{}),"호스팅 by Cafe24 | 디자인 by NAON"]})]}),_.jsxs("div",{className:"footer-column store",children:[_.jsx("h4",{children:"가게 리스트"}),_.jsxs("ul",{className:"store-list",children:[_.jsx("li",{children:"대가1호점"}),_.jsx("li",{children:"대가식육식당"}),_.jsx("li",{children:"대가한우"}),_.jsx("li",{children:"대산식육식당"}),_.jsx("li",{children:"대웅식육식당"}),_.jsx("li",{children:"도원식육식당"}),_.jsx("li",{children:"미로식육식당"}),_.jsx("li",{children:"불난가한우"}),_.jsx("li",{children:"삼가명품한우"}),_.jsx("li",{children:"상구한우"}),_.jsx("li",{children:"태영한우"})]})]}),_.jsxs("div",{className:"footer-column tourism",children:[_.jsx("h4",{children:"주변관광지"}),_.jsxs("ul",{className:"tour-list",children:[_.jsx("li",{children:_.jsx("a",{href:"https://blog.naver.com/hc-urc/222571944010",target:"_blank",rel:"noopener noreferrer",children:"삼가특화거리"})}),_.jsx("li",{children:_.jsx("a",{href:"https://www.hc.go.kr/09418/09425/09833.web",target:"_blank",rel:"noopener noreferrer",children:"황매산"})}),_.jsx("li",{children:_.jsx("a",{href:"https://www.youtube.com/watch?v=DjprccTSapc",target:"_blank",rel:"noopener noreferrer",children:"정양늪"})}),_.jsx("li",{children:_.jsx("a",{href:"https://www.youtube.com/watch?v=ZLch32VzUb0",target:"_blank",rel:"noopener noreferrer",children:"삼가시장"})}),_.jsx("li",{children:_.jsx("a",{href:"https://hcmoviethemepark.com/",target:"_blank",rel:"noopener noreferrer",children:"합천영상테마파크"})})]})]}),_.jsxs("div",{className:"footer-column manager",children:[_.jsx("h4",{children:"가게 관리자 페이지"}),_.jsx("ul",{className:"manager-list",children:Fe.map((t,r)=>_.jsx("li",{onClick:()=>e(r),style:{cursor:"pointer",marginBottom:"4px"},children:t.name},r))})]})]})})}const vk={대가1호점:[{text:"‘대가 1호점’은",className:"deaga1-1"},{text:`질 좋은 고기를 잘 샀을때
손님을 모시고,
그때 내어드려라`,className:"deaga1-2"},{text:`고요한 숲 속의
분위기 속 카페
플로리안`,className:"deaga1-3"}],대가한우:[{text:`고기는 눈으로보고, 
 손으로 만져봐야 진짜를 안다`,className:"deagaH1"},{text:`현장부터 다져온
좋은 고기를 알아보는 안목`,className:"deagaH2"},{text:"기본에 충실한 식사 한끼",className:"deagaH3"}],도원식육식당:[{text:"‘도원 식육식당’은",className:"dowon1"},{text:`고기의 본질은 결국
‘고기’
그 자체입니다.`,className:"dowon2"},{text:`우리집 식탁에서
만나 볼 수 있는 삼가 한우`,className:"dowon3"}],상구한우:[{text:`삼가시장 한가운데 
 자리한 ‘상구한우’는 `,className:"sanggu1"},{text:`처음 오신 분도,
오래된 단골 손님도 
편하게 들렸다 마음 놓고 
푸짐하게 드실수 있는곳`,className:"sanggu2"},{text:`다양한 메뉴
취향 따라 고르는 재미`,className:"sanggu3"}]},yk=["가게메뉴","상차림","편의시설"];function _k(){var I;const{name:n}=m_(),e=decodeURIComponent(n||""),t=Fe.find(A=>A.name===e),[r,s]=U.useState("가게메뉴"),[a,u]=U.useState(!1),h=vk[t.name]||[],f=vr(),[p,y]=U.useState(!1),w=`store${Fe.indexOf(t)+1}`,[T,M]=U.useState({});Fe.findIndex(A=>A.name===t.name);const x=((I=T[w])==null?void 0:I.average)||0,V=async A=>{const N=Es(Gn(_t,"reviews"),Il("storeId","==",A)),ie=(await Oi(N)).docs.map(J=>J.data()),le=ie.length,ce=ie.reduce((J,ae)=>J+(ae.star||0),0);return{average:le?ce/le:0,count:le}};U.useEffect(()=>{(async()=>{if(!t)return;const N=Fe.findIndex(le=>le.name===t.name);if(N===-1)return;const b=`store${N+1}`,ie=await V(b);M(le=>({...le,[b]:ie}))})()},[t]);const[O,D]=U.useState([]);U.useEffect(()=>{(async()=>{const N=`store${Fe.findIndex(ce=>ce.name===t.name)+1}`,b=Es(Gn(_t,"reviews"),Il("storeId","==",N)),le=(await Oi(b)).docs.map(ce=>({id:ce.id,...ce.data()}));D(le)})()},[t]);const[R,L]=U.useState({});U.useEffect(()=>{const A=async()=>{const N={};for(const b of O){const ie=await Oi(Gn(_t,"reviews",b.id,"comments"));N[b.id]=ie.docs.map(le=>({id:le.id,...le.data()}))}L(N)};O.length>0&&A()},[O]);const $={주문배송:"/SAMGA-V2/img/amenities/주문배송.svg",무료wifi:"/SAMGA-V2/img/amenities/무료wifi.svg",남여화장실구분:"/SAMGA-V2/img/amenities/남여화장실구분.svg",단체이용예약가능:"/SAMGA-V2/img/amenities/단체이용예약가능.svg",주차장:"/SAMGA-V2/img/amenities/주차장.svg",제로페이:"/SAMGA-V2/img/amenities/제로페이.svg",유아의자:"/SAMGA-V2/img/amenities/유아의자.svg"},K={가게메뉴:"menu",상차림:"side",편의시설:"amenities"}[r],P=Array.from({length:10},(A,N)=>`${e}_${N+1}`);if(!t)return _.jsx("div",{children:"가게 정보를 찾을 수 없습니다."});U.useEffect(()=>{(async()=>{const N=Kn.currentUser;if(!N||!w)return;const b=$r(_t,"favorites",w,"users",N.uid),ie=await Cs(b);y(ie.exists())})()},[w]);const C=async()=>{const A=Kn.currentUser;if(!A)return alert("로그인 후 이용해주세요.");const N=await Cs($r(_t,"users",A.uid));if(!N.exists())return alert("유저 정보가 없습니다.");const{nickname:b,phone:ie}=N.data(),le=$r(_t,"favorites",w,"users",A.uid);(await Cs(le)).exists()?(await hk(le),y(!1),alert("단골이 해제되었습니다!")):(await Y0(le,{nickname:b,phone:ie,createdAt:new Date}),y(!0),alert("단골로 등록되었습니다!"))};return console.log(t.detailImagelist),_.jsxs("div",{className:"store-detail-wrapper",children:[_.jsx("div",{className:"store-hero-image",style:{backgroundImage:`url(${t.detailimage})`}}),_.jsxs("div",{className:"store-info-card",children:[_.jsx("img",{src:t.logo,alt:"로고",className:"store-main-logo"}),_.jsxs("div",{className:"store-name-stars",children:[_.jsx("h2",{className:"store-name",children:t.name}),_.jsxs("div",{className:"star-icons",children:[[...Array(5)].map((A,N)=>{const b=N+1;let ie="";return x>=b?ie="/SAMGA-V2/img/icon/단골등록해제.svg":x+.5>=b?ie="/SAMGA-V2/img/icon/반쪽자리별.svg":ie="/SAMGA-V2/img/icon/단골등록.svg",_.jsx("img",{src:ie,alt:"별",style:{width:"18px",height:"18px",marginRight:"2px"}},N)}),_.jsxs("span",{style:{marginLeft:"6px",fontSize:"14px",color:"#444"},children:[x.toFixed(1),"점"]})]})]}),_.jsxs("div",{className:"store-detail",children:[_.jsx("span",{className:"label",children:"영업시간 :"})," ",t.hours.split("/")[0],t.point&&_.jsxs("span",{className:"point",children:[" ※ ",t.point]})]}),_.jsxs("div",{className:"store-detail",children:[_.jsx("span",{className:"label",children:"휴무 :"})," ",t.hours.split("/")[1].replace("휴무","")]}),_.jsxs("div",{className:"store-actions",children:[_.jsx("div",{className:"action-item",children:_.jsxs("a",{href:`https://map.kakao.com/?q=${encodeURIComponent(t.name)}`,target:"_blank",rel:"noopener noreferrer",children:[_.jsx("img",{src:"/SAMGA-V2/img/icon/길찾기.svg",alt:"길찾기"}),_.jsx("span",{children:"길찾기"})]})}),_.jsxs("div",{className:"action-item",children:[_.jsx("img",{src:"/SAMGA-V2/img/icon/공유하기.svg",alt:"공유하기"}),_.jsx("span",{children:"공유하기"})]}),_.jsxs("div",{className:"action-item",onClick:C,children:[_.jsx("img",{src:p?"/SAMGA-V2/img/icon/단골등록해제.svg":"/SAMGA-V2/img/icon/단골등록.svg",alt:p?"단골해제":"단골등록"}),_.jsx("span",{children:p?"단골해제":"단골등록"})]}),_.jsxs("div",{className:"action-item",children:[_.jsx("img",{src:"/SAMGA-V2/img/icon/리뷰쓰기.svg",alt:"리뷰쓰기"}),_.jsx("span",{onClick:()=>f("/write"),children:"리뷰쓰기"})]})]}),_.jsxs("div",{className:"facility-section",children:[_.jsx("div",{className:"facility-title",children:"편의시설"}),_.jsx("div",{className:"facility-icons",children:(a?t.options:t.options.slice(0,4)).map(A=>$[A]&&_.jsxs("div",{className:"facility-icon",children:[_.jsx("div",{className:`facility-icon-img-wrapper ${A==="무료wifi"?"wifi-padding":""}`,children:_.jsx("img",{src:$[A],alt:A})}),_.jsx("p",{children:A})]},A))}),_.jsx("div",{className:"button-location",children:t.options.length>4&&_.jsx("button",{className:"more-button",onClick:()=>u(A=>!A),children:a?"간략히 보기 ▲":`+${t.options.length-4}개 더보기 ▼`})})]})]}),_.jsxs("div",{className:`store-story-wrapper ${t.name==="대가한우"?"no-bg":""}`,children:[_.jsx("div",{className:"store-slogan",children:t.description.split(`
`).map((A,N)=>_.jsx("div",{children:A},N))}),_.jsxs("div",{className:"store-name-line",children:[_.jsx("span",{className:"store-name-text",children:t.name}),_.jsx("div",{className:"store-name-bar"})]})]}),_.jsx("div",{className:"brand-inner",children:_.jsxs("div",{className:`store-brand-wrapper ${t.name==="대가한우"?"no-bg":""}`,children:[_.jsx("img",{src:"/SAMGA-V2/img/logo/videologo.svg",alt:"videologo",className:"video-logo"}),_.jsx("div",{className:"brand-text",children:"KOREAN BEEF VILLAGE SAMGA"}),_.jsx("hr",{className:"brand-divider"})]})}),_.jsxs("div",{className:"store-detail-images-separated",children:[_.jsx("div",{className:"detail-images-pc only-pc",children:t.detailImagelist.filter(A=>/상세페이지_PC_\d+\.(jpg|png)$/i.test(A)).map((A,N)=>_.jsxs("div",{className:"pc-image-wrapper",children:[_.jsx("img",{src:A,alt:`PC 상세 이미지 ${N+1}`,className:"store-image"}),h[N]&&_.jsx("div",{className:`pc-image-text-overlay ${h[N].className}`,children:h[N].text.split(`
`).map((b,ie)=>_.jsx("div",{children:b},ie))})]},`pc-${N}`))}),_.jsx("div",{className:"detail-images-mobile only-mobile",children:t.detailImagelist.filter(A=>/상세페이지_M_\d+\.(jpg|png)$/i.test(A)).map((A,N)=>_.jsx("img",{src:A,alt:`모바일 상세 이미지 ${N+1}`,className:"store-image"},`m-${N}`))})]}),t.name==="도원식육식당"&&_.jsxs("div",{className:"dowon-product-section",children:[_.jsxs("div",{className:"dowon-product-inner",children:[_.jsxs("div",{className:"dowon-product-title",children:["아이디어스 인기제품 ",_.jsx("span",{className:"highlight",children:"구매하기"})]}),_.jsxs("div",{className:"dowon-product-grid dowon-only-pc",children:[_.jsx("div",{className:"dowon-product-item",children:_.jsxs("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.idus.com/v2/product/25792545-088d-4d5c-bb89-762a3b6533b0?search_word=%EB%8F%84%EC%9B%90+%ED%95%9C%EC%9A%B0&keyword_channel=user",children:[_.jsx("img",{src:"/SAMGA-V2/samga/store/dowon/1.png",alt:"1번 상품"}),_.jsx("div",{className:"dowon-product-name",children:"한우(대패)로스구이(2-3인)"})]})}),_.jsx("div",{className:"dowon-product-item",children:_.jsxs("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.idus.com/v2/product/d0e10218-942c-4664-b1b3-0c6c770c9e7e?search_word=%EB%8F%84%EC%9B%90+%ED%95%9C%EC%9A%B0&keyword_channel=user",children:[_.jsx("img",{src:"/SAMGA-V2/samga/store/dowon/2.png",alt:"2번 상품"}),_.jsx("div",{className:"dowon-product-name",children:"한우(만능)자투리1키로"})]})}),_.jsx("div",{className:"dowon-product-item",children:_.jsxs("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.idus.com/v2/product/1953a42a-00ca-4418-af1b-576b2876e7f5?search_word=%EB%8F%84%EC%9B%90+%ED%95%9C%EC%9A%B0&keyword_channel=user",children:[_.jsx("img",{src:"/SAMGA-V2/samga/store/dowon/3.png",alt:"3번 상품"}),_.jsx("div",{className:"dowon-product-name",children:"(눈꽃)(1++9)한우 등심(300G)"})]})}),_.jsx("div",{className:"dowon-product-item",children:_.jsxs("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.idus.com/v2/product/4ee9f37c-16ff-4457-aab2-e823035a4b4d?search_word=%EB%8F%84%EC%9B%90+%ED%95%9C%EC%9A%B0&keyword_channel=user",children:[_.jsx("img",{src:"/SAMGA-V2/samga/store/dowon/4.png",alt:"4번 상품"}),_.jsx("div",{className:"dowon-product-name",children:"(국내산)돼지 갈비찜"})]})}),_.jsx("div",{className:"dowon-product-item",children:_.jsxs("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.idus.com/v2/product/bd28e21e-e78c-4296-ae61-1f48da56bbe2?search_word=%EB%8F%84%EC%9B%90+%ED%95%9C%EC%9A%B0&keyword_channel=user",children:[_.jsx("img",{src:"/SAMGA-V2/samga/store/dowon/5.png",alt:"5번 상품"}),_.jsx("div",{className:"dowon-product-name",children:"(명품한우선물)한우특모듬0.6KG"})]})})]}),_.jsxs("div",{className:"dowon-product-grid dowon-only-mobile",children:[_.jsx("div",{className:"dowon-product-item",children:_.jsxs("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.idus.com/v2/product/25792545-088d-4d5c-bb89-762a3b6533b0?search_word=%EB%8F%84%EC%9B%90+%ED%95%9C%EC%9A%B0&keyword_channel=user",children:[_.jsx("img",{src:"/SAMGA-V2/samga/store/dowon/1.png",alt:"1번 상품"}),_.jsx("div",{className:"dowon-product-name",children:"한우(대패)로스구이(2-3인)"})]})}),_.jsx("div",{className:"dowon-product-item",children:_.jsxs("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.idus.com/v2/product/d0e10218-942c-4664-b1b3-0c6c770c9e7e?search_word=%EB%8F%84%EC%9B%90+%ED%95%9C%EC%9A%B0&keyword_channel=user",children:[_.jsx("img",{src:"/SAMGA-V2/samga/store/dowon/2.png",alt:"2번 상품"}),_.jsx("div",{className:"dowon-product-name",children:"한우(만능)자투리1키로"})]})}),_.jsx("div",{className:"dowon-product-item",children:_.jsxs("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.idus.com/v2/product/1953a42a-00ca-4418-af1b-576b2876e7f5?search_word=%EB%8F%84%EC%9B%90+%ED%95%9C%EC%9A%B0&keyword_channel=user",children:[_.jsx("img",{src:"/SAMGA-V2/samga/store/dowon/3.png",alt:"3번 상품"}),_.jsx("div",{className:"dowon-product-name",children:"(눈꽃)(1++9)한우 등심(300G)"})]})}),_.jsx("div",{className:"dowon-product-item",children:_.jsxs("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.idus.com/v2/product/4ee9f37c-16ff-4457-aab2-e823035a4b4d?search_word=%EB%8F%84%EC%9B%90+%ED%95%9C%EC%9A%B0&keyword_channel=user",children:[_.jsx("img",{src:"/SAMGA-V2/samga/store/dowon/4.png",alt:"4번 상품"}),_.jsx("div",{className:"dowon-product-name",children:"(국내산)돼지 갈비찜"})]})})]})]}),_.jsx("div",{className:"idius-all",children:_.jsxs("a",{href:"https://www.idus.com/v2/search?keyword=%EB%8F%84%EC%9B%90%20%ED%95%9C%EC%9A%B0&keyword_channel=user",target:"_blank",rel:"noopener noreferrer",children:["모든 상품 보기 ",_.jsx("span",{className:"arrow",children:">"})]})})]}),_.jsxs("div",{className:"store-detail-top-wrapper",children:[_.jsx("h2",{className:"section-title",children:"가게 상세 이미지"}),_.jsx("div",{className:"tab-buttons",children:yk.map(A=>_.jsx("button",{className:`tab-button ${r===A?"active":""}`,onClick:()=>s(A),children:A},A))}),_.jsx("div",{className:"store-images",children:P.map((A,N)=>[".jpg",".JPG",".png"].map(b=>{const ie=`/SAMGA-V2/samga/store/${K}/${A}${b}`;return _.jsx("img",{src:ie,alt:`${e} ${r} 이미지 ${N+1}`,className:"store-image",onError:le=>{le.target.style.display="none"}},ie)}))})]}),_.jsxs("div",{className:"store-review-wrapper",children:[_.jsxs("div",{className:"review-item",children:[_.jsx("img",{src:"/SAMGA-V2/img/icon/리뷰쓰기.svg",alt:"리뷰제목"}),_.jsx("span",{children:"리뷰"})]}),O.length>0?_.jsx("div",{className:"store-review-list",children:O.map((A,N)=>{var b,ie;return _.jsxs("div",{className:"store-review-card",children:[_.jsxs("div",{className:"review-titles",children:[_.jsx("div",{className:"review-title",children:A.title}),_.jsxs("div",{className:"review-stars",children:[[...Array(5)].map((le,ce)=>{const me=ce+1;let J="";return A.star>=me?J="/SAMGA-V2/img/icon/단골등록해제.svg":A.star+.5>=me?J="/SAMGA-V2/img/icon/반쪽자리별.svg":J="/SAMGA-V2/img/icon/단골등록.svg",_.jsx("img",{src:J,alt:"별점",className:"star-icon"},ce)}),_.jsxs("span",{className:"review-star-value",children:[(A.star??0).toFixed(1),"점"]})]})]}),_.jsx("div",{className:"review-content",children:A.content}),_.jsxs("div",{className:"review-meta",children:[_.jsx("span",{children:A.nickname}),_.jsx("span",{children:(b=A.createdAt)==null?void 0:b.toDate().toLocaleString()})]}),(ie=R[A.id])==null?void 0:ie.map((le,ce)=>{var me;return _.jsxs("div",{className:"review-comment",children:[_.jsx("div",{className:"comment-nickname",children:le.nickname}),_.jsx("div",{className:"comment-content",children:le.content}),_.jsx("div",{className:"comment-date",children:(me=le.createdAt)==null?void 0:me.toDate().toLocaleString()})]},ce)})]},N)})}):_.jsx("p",{className:"no-store-review",children:"아직 등록된 리뷰가 없습니다. 첫 리뷰를 남겨보세요!"}),_.jsx("a",{href:`https://search.naver.com/search.naver?query=${encodeURIComponent(e)} 리뷰`,target:"_blank",rel:"noopener noreferrer",className:"naver-review-link",children:"네이버 리뷰 보러가기 →"})]})]})}function Jy(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function Xp(n,e){n===void 0&&(n={}),e===void 0&&(e={});const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:Jy(e[r])&&Jy(n[r])&&Object.keys(e[r]).length>0&&Xp(n[r],e[r])})}const eE={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function hr(){const n=typeof document<"u"?document:{};return Xp(n,eE),n}const wk={document:eE,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function Qt(){const n=typeof window<"u"?window:{};return Xp(n,wk),n}function Ek(n){return n===void 0&&(n=""),n.trim().split(" ").filter(e=>!!e.trim())}function Ck(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function $f(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function $c(){return Date.now()}function Tk(n){const e=Qt();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function Sk(n,e){e===void 0&&(e="x");const t=Qt();let r,s,a;const u=Tk(n);return t.WebKitCSSMatrix?(s=u.transform||u.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(h=>h.replace(",",".")).join(", ")),a=new t.WebKitCSSMatrix(s==="none"?"":s)):(a=u.MozTransform||u.OTransform||u.MsTransform||u.msTransform||u.transform||u.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=a.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?s=a.m41:r.length===16?s=parseFloat(r[12]):s=parseFloat(r[4])),e==="y"&&(t.WebKitCSSMatrix?s=a.m42:r.length===16?s=parseFloat(r[13]):s=parseFloat(r[5])),s||0}function lc(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function Ik(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function pn(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const r=t<0||arguments.length<=t?void 0:arguments[t];if(r!=null&&!Ik(r)){const s=Object.keys(Object(r)).filter(a=>e.indexOf(a)<0);for(let a=0,u=s.length;a<u;a+=1){const h=s[a],f=Object.getOwnPropertyDescriptor(r,h);f!==void 0&&f.enumerable&&(lc(n[h])&&lc(r[h])?r[h].__swiper__?n[h]=r[h]:pn(n[h],r[h]):!lc(n[h])&&lc(r[h])?(n[h]={},r[h].__swiper__?n[h]=r[h]:pn(n[h],r[h])):n[h]=r[h])}}}return n}function uc(n,e,t){n.style.setProperty(e,t)}function tE(n){let{swiper:e,targetPosition:t,side:r}=n;const s=Qt(),a=-e.translate;let u=null,h;const f=e.params.speed;e.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(e.cssModeFrameID);const p=t>a?"next":"prev",y=(T,M)=>p==="next"&&T>=M||p==="prev"&&T<=M,w=()=>{h=new Date().getTime(),u===null&&(u=h);const T=Math.max(Math.min((h-u)/f,1),0),M=.5-Math.cos(T*Math.PI)/2;let x=a+M*(t-a);if(y(x,t)&&(x=t),e.wrapperEl.scrollTo({[r]:x}),y(x,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:x})}),s.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=s.requestAnimationFrame(w)};w()}function ar(n,e){e===void 0&&(e="");const t=Qt(),r=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&r.push(...n.assignedElements()),e?r.filter(s=>s.matches(e)):r}function Ak(n,e){const t=[e];for(;t.length>0;){const r=t.shift();if(n===r)return!0;t.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function xk(n,e){const t=Qt();let r=e.contains(n);return!r&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(n),r||(r=Ak(n,e))),r}function Gc(n){try{console.warn(n);return}catch{}}function Hc(n,e){e===void 0&&(e=[]);const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:Ek(e)),t}function Pk(n,e){const t=[];for(;n.previousElementSibling;){const r=n.previousElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function Rk(n,e){const t=[];for(;n.nextElementSibling;){const r=n.nextElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function Ni(n,e){return Qt().getComputedStyle(n,null).getPropertyValue(e)}function qc(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function nE(n,e){const t=[];let r=n.parentElement;for(;r;)e?r.matches(e)&&t.push(r):t.push(r),r=r.parentElement;return t}function Gf(n,e,t){const r=Qt();return n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Pt(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}let uf;function kk(){const n=Qt(),e=hr();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function rE(){return uf||(uf=kk()),uf}let cf;function Nk(n){let{userAgent:e}=n===void 0?{}:n;const t=rE(),r=Qt(),s=r.navigator.platform,a=e||r.navigator.userAgent,u={ios:!1,android:!1},h=r.screen.width,f=r.screen.height,p=a.match(/(Android);?[\s\/]+([\d.]+)?/);let y=a.match(/(iPad).*OS\s([\d_]+)/);const w=a.match(/(iPod)(.*OS\s([\d_]+))?/),T=!y&&a.match(/(iPhone\sOS|iOS)\s([\d_]+)/),M=s==="Win32";let x=s==="MacIntel";const V=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!y&&x&&t.touch&&V.indexOf(`${h}x${f}`)>=0&&(y=a.match(/(Version)\/([\d.]+)/),y||(y=[0,1,"13_0_0"]),x=!1),p&&!M&&(u.os="android",u.android=!0),(y||T||w)&&(u.os="ios",u.ios=!0),u}function iE(n){return n===void 0&&(n={}),cf||(cf=Nk(n)),cf}let df;function bk(){const n=Qt(),e=iE();let t=!1;function r(){const h=n.navigator.userAgent.toLowerCase();return h.indexOf("safari")>=0&&h.indexOf("chrome")<0&&h.indexOf("android")<0}if(r()){const h=String(n.navigator.userAgent);if(h.includes("Version/")){const[f,p]=h.split("Version/")[1].split(" ")[0].split(".").map(y=>Number(y));t=f<16||f===16&&p<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),a=r(),u=a||s&&e.ios;return{isSafari:t||a,needPerspectiveFix:t,need3dFix:u,isWebView:s}}function sE(){return df||(df=bk()),df}function Dk(n){let{swiper:e,on:t,emit:r}=n;const s=Qt();let a=null,u=null;const h=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},f=()=>{!e||e.destroyed||!e.initialized||(a=new ResizeObserver(w=>{u=s.requestAnimationFrame(()=>{const{width:T,height:M}=e;let x=T,V=M;w.forEach(O=>{let{contentBoxSize:D,contentRect:R,target:L}=O;L&&L!==e.el||(x=R?R.width:(D[0]||D).inlineSize,V=R?R.height:(D[0]||D).blockSize)}),(x!==T||V!==M)&&h()})}),a.observe(e.el))},p=()=>{u&&s.cancelAnimationFrame(u),a&&a.unobserve&&e.el&&(a.unobserve(e.el),a=null)},y=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof s.ResizeObserver<"u"){f();return}s.addEventListener("resize",h),s.addEventListener("orientationchange",y)}),t("destroy",()=>{p(),s.removeEventListener("resize",h),s.removeEventListener("orientationchange",y)})}function Mk(n){let{swiper:e,extendParams:t,on:r,emit:s}=n;const a=[],u=Qt(),h=function(y,w){w===void 0&&(w={});const T=u.MutationObserver||u.WebkitMutationObserver,M=new T(x=>{if(e.__preventObserver__)return;if(x.length===1){s("observerUpdate",x[0]);return}const V=function(){s("observerUpdate",x[0])};u.requestAnimationFrame?u.requestAnimationFrame(V):u.setTimeout(V,0)});M.observe(y,{attributes:typeof w.attributes>"u"?!0:w.attributes,childList:e.isElement||(typeof w.childList>"u"?!0:w).childList,characterData:typeof w.characterData>"u"?!0:w.characterData}),a.push(M)},f=()=>{if(e.params.observer){if(e.params.observeParents){const y=nE(e.hostEl);for(let w=0;w<y.length;w+=1)h(y[w])}h(e.hostEl,{childList:e.params.observeSlideChildren}),h(e.wrapperEl,{attributes:!1})}},p=()=>{a.forEach(y=>{y.disconnect()}),a.splice(0,a.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",f),r("destroy",p)}var Vk={on(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const s=t?"unshift":"push";return n.split(" ").forEach(a=>{r.eventsListeners[a]||(r.eventsListeners[a]=[]),r.eventsListeners[a][s](e)}),r},once(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function s(){r.off(n,s),s.__emitterProxy&&delete s.__emitterProxy;for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];e.apply(r,u)}return s.__emitterProxy=e,r.on(n,s,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const r=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[r](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(r=>{typeof e>"u"?t.eventsListeners[r]=[]:t.eventsListeners[r]&&t.eventsListeners[r].forEach((s,a)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&t.eventsListeners[r].splice(a,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,r;for(var s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return typeof a[0]=="string"||Array.isArray(a[0])?(e=a[0],t=a.slice(1,a.length),r=n):(e=a[0].events,t=a[0].data,r=a[0].context||n),t.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(f=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(p=>{p.apply(r,[f,...t])}),n.eventsListeners&&n.eventsListeners[f]&&n.eventsListeners[f].forEach(p=>{p.apply(r,t)})}),n}};function Lk(){const n=this;let e,t;const r=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=r.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=r.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(Ni(r,"padding-left")||0,10)-parseInt(Ni(r,"padding-right")||0,10),t=t-parseInt(Ni(r,"padding-top")||0,10)-parseInt(Ni(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function Ok(){const n=this;function e(I,A){return parseFloat(I.getPropertyValue(n.getDirectionLabel(A))||0)}const t=n.params,{wrapperEl:r,slidesEl:s,size:a,rtlTranslate:u,wrongRTL:h}=n,f=n.virtual&&t.virtual.enabled,p=f?n.virtual.slides.length:n.slides.length,y=ar(s,`.${n.params.slideClass}, swiper-slide`),w=f?n.virtual.slides.length:y.length;let T=[];const M=[],x=[];let V=t.slidesOffsetBefore;typeof V=="function"&&(V=t.slidesOffsetBefore.call(n));let O=t.slidesOffsetAfter;typeof O=="function"&&(O=t.slidesOffsetAfter.call(n));const D=n.snapGrid.length,R=n.slidesGrid.length;let L=t.spaceBetween,$=-V,Q=0,K=0;if(typeof a>"u")return;typeof L=="string"&&L.indexOf("%")>=0?L=parseFloat(L.replace("%",""))/100*a:typeof L=="string"&&(L=parseFloat(L)),n.virtualSize=-L,y.forEach(I=>{u?I.style.marginLeft="":I.style.marginRight="",I.style.marginBottom="",I.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(uc(r,"--swiper-centered-offset-before",""),uc(r,"--swiper-centered-offset-after",""));const j=t.grid&&t.grid.rows>1&&n.grid;j?n.grid.initSlides(y):n.grid&&n.grid.unsetSlides();let P;const C=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(I=>typeof t.breakpoints[I].slidesPerView<"u").length>0;for(let I=0;I<w;I+=1){P=0;let A;if(y[I]&&(A=y[I]),j&&n.grid.updateSlide(I,A,y),!(y[I]&&Ni(A,"display")==="none")){if(t.slidesPerView==="auto"){C&&(y[I].style[n.getDirectionLabel("width")]="");const N=getComputedStyle(A),b=A.style.transform,ie=A.style.webkitTransform;if(b&&(A.style.transform="none"),ie&&(A.style.webkitTransform="none"),t.roundLengths)P=n.isHorizontal()?Gf(A,"width"):Gf(A,"height");else{const le=e(N,"width"),ce=e(N,"padding-left"),me=e(N,"padding-right"),J=e(N,"margin-left"),ae=e(N,"margin-right"),oe=N.getPropertyValue("box-sizing");if(oe&&oe==="border-box")P=le+J+ae;else{const{clientWidth:G,offsetWidth:ee}=A;P=le+ce+me+J+ae+(ee-G)}}b&&(A.style.transform=b),ie&&(A.style.webkitTransform=ie),t.roundLengths&&(P=Math.floor(P))}else P=(a-(t.slidesPerView-1)*L)/t.slidesPerView,t.roundLengths&&(P=Math.floor(P)),y[I]&&(y[I].style[n.getDirectionLabel("width")]=`${P}px`);y[I]&&(y[I].swiperSlideSize=P),x.push(P),t.centeredSlides?($=$+P/2+Q/2+L,Q===0&&I!==0&&($=$-a/2-L),I===0&&($=$-a/2-L),Math.abs($)<1/1e3&&($=0),t.roundLengths&&($=Math.floor($)),K%t.slidesPerGroup===0&&T.push($),M.push($)):(t.roundLengths&&($=Math.floor($)),(K-Math.min(n.params.slidesPerGroupSkip,K))%n.params.slidesPerGroup===0&&T.push($),M.push($),$=$+P+L),n.virtualSize+=P+L,Q=P,K+=1}}if(n.virtualSize=Math.max(n.virtualSize,a)+O,u&&h&&(t.effect==="slide"||t.effect==="coverflow")&&(r.style.width=`${n.virtualSize+L}px`),t.setWrapperSize&&(r.style[n.getDirectionLabel("width")]=`${n.virtualSize+L}px`),j&&n.grid.updateWrapperSize(P,T),!t.centeredSlides){const I=[];for(let A=0;A<T.length;A+=1){let N=T[A];t.roundLengths&&(N=Math.floor(N)),T[A]<=n.virtualSize-a&&I.push(N)}T=I,Math.floor(n.virtualSize-a)-Math.floor(T[T.length-1])>1&&T.push(n.virtualSize-a)}if(f&&t.loop){const I=x[0]+L;if(t.slidesPerGroup>1){const A=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),N=I*t.slidesPerGroup;for(let b=0;b<A;b+=1)T.push(T[T.length-1]+N)}for(let A=0;A<n.virtual.slidesBefore+n.virtual.slidesAfter;A+=1)t.slidesPerGroup===1&&T.push(T[T.length-1]+I),M.push(M[M.length-1]+I),n.virtualSize+=I}if(T.length===0&&(T=[0]),L!==0){const I=n.isHorizontal()&&u?"marginLeft":n.getDirectionLabel("marginRight");y.filter((A,N)=>!t.cssMode||t.loop?!0:N!==y.length-1).forEach(A=>{A.style[I]=`${L}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let I=0;x.forEach(N=>{I+=N+(L||0)}),I-=L;const A=I>a?I-a:0;T=T.map(N=>N<=0?-V:N>A?A+O:N)}if(t.centerInsufficientSlides){let I=0;x.forEach(N=>{I+=N+(L||0)}),I-=L;const A=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(I+A<a){const N=(a-I-A)/2;T.forEach((b,ie)=>{T[ie]=b-N}),M.forEach((b,ie)=>{M[ie]=b+N})}}if(Object.assign(n,{slides:y,snapGrid:T,slidesGrid:M,slidesSizesGrid:x}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){uc(r,"--swiper-centered-offset-before",`${-T[0]}px`),uc(r,"--swiper-centered-offset-after",`${n.size/2-x[x.length-1]/2}px`);const I=-n.snapGrid[0],A=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(N=>N+I),n.slidesGrid=n.slidesGrid.map(N=>N+A)}if(w!==p&&n.emit("slidesLengthChange"),T.length!==D&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),M.length!==R&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!f&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const I=`${t.containerModifierClass}backface-hidden`,A=n.el.classList.contains(I);w<=t.maxBackfaceHiddenSlides?A||n.el.classList.add(I):A&&n.el.classList.remove(I)}}function jk(n){const e=this,t=[],r=e.virtual&&e.params.virtual.enabled;let s=0,a;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const u=h=>r?e.slides[e.getSlideIndexByData(h)]:e.slides[h];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(h=>{t.push(h)});else for(a=0;a<Math.ceil(e.params.slidesPerView);a+=1){const h=e.activeIndex+a;if(h>e.slides.length&&!r)break;t.push(u(h))}else t.push(u(e.activeIndex));for(a=0;a<t.length;a+=1)if(typeof t[a]<"u"){const h=t[a].offsetHeight;s=h>s?h:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function Fk(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(n.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-t-n.cssOverflowAdjustment()}const Zy=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function Bk(n){n===void 0&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:r,rtlTranslate:s,snapGrid:a}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let u=-n;s&&(u=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let h=t.spaceBetween;typeof h=="string"&&h.indexOf("%")>=0?h=parseFloat(h.replace("%",""))/100*e.size:typeof h=="string"&&(h=parseFloat(h));for(let f=0;f<r.length;f+=1){const p=r[f];let y=p.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(y-=r[0].swiperSlideOffset);const w=(u+(t.centeredSlides?e.minTranslate():0)-y)/(p.swiperSlideSize+h),T=(u-a[0]+(t.centeredSlides?e.minTranslate():0)-y)/(p.swiperSlideSize+h),M=-(u-y),x=M+e.slidesSizesGrid[f],V=M>=0&&M<=e.size-e.slidesSizesGrid[f],O=M>=0&&M<e.size-1||x>1&&x<=e.size||M<=0&&x>=e.size;O&&(e.visibleSlides.push(p),e.visibleSlidesIndexes.push(f)),Zy(p,O,t.slideVisibleClass),Zy(p,V,t.slideFullyVisibleClass),p.progress=s?-w:w,p.originalProgress=s?-T:T}}function Uk(n){const e=this;if(typeof n>"u"){const y=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*y||0}const t=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:a,isEnd:u,progressLoop:h}=e;const f=a,p=u;if(r===0)s=0,a=!0,u=!0;else{s=(n-e.minTranslate())/r;const y=Math.abs(n-e.minTranslate())<1,w=Math.abs(n-e.maxTranslate())<1;a=y||s<=0,u=w||s>=1,y&&(s=0),w&&(s=1)}if(t.loop){const y=e.getSlideIndexByData(0),w=e.getSlideIndexByData(e.slides.length-1),T=e.slidesGrid[y],M=e.slidesGrid[w],x=e.slidesGrid[e.slidesGrid.length-1],V=Math.abs(n);V>=T?h=(V-T)/x:h=(V+x-M)/x,h>1&&(h-=1)}Object.assign(e,{progress:s,progressLoop:h,isBeginning:a,isEnd:u}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),a&&!f&&e.emit("reachBeginning toEdge"),u&&!p&&e.emit("reachEnd toEdge"),(f&&!a||p&&!u)&&e.emit("fromEdge"),e.emit("progress",s)}const hf=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function zk(){const n=this,{slides:e,params:t,slidesEl:r,activeIndex:s}=n,a=n.virtual&&t.virtual.enabled,u=n.grid&&t.grid&&t.grid.rows>1,h=w=>ar(r,`.${t.slideClass}${w}, swiper-slide${w}`)[0];let f,p,y;if(a)if(t.loop){let w=s-n.virtual.slidesBefore;w<0&&(w=n.virtual.slides.length+w),w>=n.virtual.slides.length&&(w-=n.virtual.slides.length),f=h(`[data-swiper-slide-index="${w}"]`)}else f=h(`[data-swiper-slide-index="${s}"]`);else u?(f=e.find(w=>w.column===s),y=e.find(w=>w.column===s+1),p=e.find(w=>w.column===s-1)):f=e[s];f&&(u||(y=Rk(f,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!y&&(y=e[0]),p=Pk(f,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!p===0&&(p=e[e.length-1]))),e.forEach(w=>{hf(w,w===f,t.slideActiveClass),hf(w,w===y,t.slideNextClass),hf(w,w===p,t.slidePrevClass)}),n.emitSlidesClasses()}const Cc=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,r=e.closest(t());if(r){let s=r.querySelector(`.${n.params.lazyPreloaderClass}`);!s&&n.isElement&&(r.shadowRoot?s=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(s=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},ff=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},Hf=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const r=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),s=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const u=s,h=[u-e];h.push(...Array.from({length:e}).map((f,p)=>u+r+p)),n.slides.forEach((f,p)=>{h.includes(f.column)&&ff(n,p)});return}const a=s+r-1;if(n.params.rewind||n.params.loop)for(let u=s-e;u<=a+e;u+=1){const h=(u%t+t)%t;(h<s||h>a)&&ff(n,h)}else for(let u=Math.max(s-e,0);u<=Math.min(a+e,t-1);u+=1)u!==s&&(u>a||u<s)&&ff(n,u)};function $k(n){const{slidesGrid:e,params:t}=n,r=n.rtlTranslate?n.translate:-n.translate;let s;for(let a=0;a<e.length;a+=1)typeof e[a+1]<"u"?r>=e[a]&&r<e[a+1]-(e[a+1]-e[a])/2?s=a:r>=e[a]&&r<e[a+1]&&(s=a+1):r>=e[a]&&(s=a);return t.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function Gk(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:s,activeIndex:a,realIndex:u,snapIndex:h}=e;let f=n,p;const y=M=>{let x=M-e.virtual.slidesBefore;return x<0&&(x=e.virtual.slides.length+x),x>=e.virtual.slides.length&&(x-=e.virtual.slides.length),x};if(typeof f>"u"&&(f=$k(e)),r.indexOf(t)>=0)p=r.indexOf(t);else{const M=Math.min(s.slidesPerGroupSkip,f);p=M+Math.floor((f-M)/s.slidesPerGroup)}if(p>=r.length&&(p=r.length-1),f===a&&!e.params.loop){p!==h&&(e.snapIndex=p,e.emit("snapIndexChange"));return}if(f===a&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=y(f);return}const w=e.grid&&s.grid&&s.grid.rows>1;let T;if(e.virtual&&s.virtual.enabled&&s.loop)T=y(f);else if(w){const M=e.slides.find(V=>V.column===f);let x=parseInt(M.getAttribute("data-swiper-slide-index"),10);Number.isNaN(x)&&(x=Math.max(e.slides.indexOf(M),0)),T=Math.floor(x/s.grid.rows)}else if(e.slides[f]){const M=e.slides[f].getAttribute("data-swiper-slide-index");M?T=parseInt(M,10):T=f}else T=f;Object.assign(e,{previousSnapIndex:h,snapIndex:p,previousRealIndex:u,realIndex:T,previousIndex:a,activeIndex:f}),e.initialized&&Hf(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(u!==T&&e.emit("realIndexChange"),e.emit("slideChange"))}function Hk(n,e){const t=this,r=t.params;let s=n.closest(`.${r.slideClass}, swiper-slide`);!s&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(h=>{!s&&h.matches&&h.matches(`.${r.slideClass}, swiper-slide`)&&(s=h)});let a=!1,u;if(s){for(let h=0;h<t.slides.length;h+=1)if(t.slides[h]===s){a=!0,u=h;break}}if(s&&a)t.clickedSlide=s,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=u;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}r.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var qk={updateSize:Lk,updateSlides:Ok,updateAutoHeight:jk,updateSlidesOffset:Fk,updateSlidesProgress:Bk,updateProgress:Uk,updateSlidesClasses:zk,updateActiveIndex:Gk,updateClickedSlide:Hk};function Wk(n){n===void 0&&(n=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:r,translate:s,wrapperEl:a}=e;if(t.virtualTranslate)return r?-s:s;if(t.cssMode)return s;let u=Sk(a,n);return u+=e.cssOverflowAdjustment(),r&&(u=-u),u||0}function Kk(n,e){const t=this,{rtlTranslate:r,params:s,wrapperEl:a,progress:u}=t;let h=0,f=0;const p=0;t.isHorizontal()?h=r?-n:n:f=n,s.roundLengths&&(h=Math.floor(h),f=Math.floor(f)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?h:f,s.cssMode?a[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-h:-f:s.virtualTranslate||(t.isHorizontal()?h-=t.cssOverflowAdjustment():f-=t.cssOverflowAdjustment(),a.style.transform=`translate3d(${h}px, ${f}px, ${p}px)`);let y;const w=t.maxTranslate()-t.minTranslate();w===0?y=0:y=(n-t.minTranslate())/w,y!==u&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function Qk(){return-this.snapGrid[0]}function Yk(){return-this.snapGrid[this.snapGrid.length-1]}function Xk(n,e,t,r,s){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),r===void 0&&(r=!0);const a=this,{params:u,wrapperEl:h}=a;if(a.animating&&u.preventInteractionOnTransition)return!1;const f=a.minTranslate(),p=a.maxTranslate();let y;if(r&&n>f?y=f:r&&n<p?y=p:y=n,a.updateProgress(y),u.cssMode){const w=a.isHorizontal();if(e===0)h[w?"scrollLeft":"scrollTop"]=-y;else{if(!a.support.smoothScroll)return tE({swiper:a,targetPosition:-y,side:w?"left":"top"}),!0;h.scrollTo({[w?"left":"top"]:-y,behavior:"smooth"})}return!0}return e===0?(a.setTransition(0),a.setTranslate(y),t&&(a.emit("beforeTransitionStart",e,s),a.emit("transitionEnd"))):(a.setTransition(e),a.setTranslate(y),t&&(a.emit("beforeTransitionStart",e,s),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(T){!a||a.destroyed||T.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,a.animating=!1,t&&a.emit("transitionEnd"))}),a.wrapperEl.addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd))),!0}var Jk={getTranslate:Wk,setTranslate:Kk,minTranslate:Qk,maxTranslate:Yk,translateTo:Xk};function Zk(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function oE(n){let{swiper:e,runCallbacks:t,direction:r,step:s}=n;const{activeIndex:a,previousIndex:u}=e;let h=r;if(h||(a>u?h="next":a<u?h="prev":h="reset"),e.emit(`transition${s}`),t&&a!==u){if(h==="reset"){e.emit(`slideResetTransition${s}`);return}e.emit(`slideChangeTransition${s}`),h==="next"?e.emit(`slideNextTransition${s}`):e.emit(`slidePrevTransition${s}`)}}function eN(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;r.cssMode||(r.autoHeight&&t.updateAutoHeight(),oE({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function tN(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;t.animating=!1,!r.cssMode&&(t.setTransition(0),oE({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var nN={setTransition:Zk,transitionStart:eN,transitionEnd:tN};function rN(n,e,t,r,s){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const a=this;let u=n;u<0&&(u=0);const{params:h,snapGrid:f,slidesGrid:p,previousIndex:y,activeIndex:w,rtlTranslate:T,wrapperEl:M,enabled:x}=a;if(!x&&!r&&!s||a.destroyed||a.animating&&h.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=a.params.speed);const V=Math.min(a.params.slidesPerGroupSkip,u);let O=V+Math.floor((u-V)/a.params.slidesPerGroup);O>=f.length&&(O=f.length-1);const D=-f[O];if(h.normalizeSlideIndex)for(let j=0;j<p.length;j+=1){const P=-Math.floor(D*100),C=Math.floor(p[j]*100),I=Math.floor(p[j+1]*100);typeof p[j+1]<"u"?P>=C&&P<I-(I-C)/2?u=j:P>=C&&P<I&&(u=j+1):P>=C&&(u=j)}if(a.initialized&&u!==w&&(!a.allowSlideNext&&(T?D>a.translate&&D>a.minTranslate():D<a.translate&&D<a.minTranslate())||!a.allowSlidePrev&&D>a.translate&&D>a.maxTranslate()&&(w||0)!==u))return!1;u!==(y||0)&&t&&a.emit("beforeSlideChangeStart"),a.updateProgress(D);let R;u>w?R="next":u<w?R="prev":R="reset";const L=a.virtual&&a.params.virtual.enabled;if(!(L&&s)&&(T&&-D===a.translate||!T&&D===a.translate))return a.updateActiveIndex(u),h.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),h.effect!=="slide"&&a.setTranslate(D),R!=="reset"&&(a.transitionStart(t,R),a.transitionEnd(t,R)),!1;if(h.cssMode){const j=a.isHorizontal(),P=T?D:-D;if(e===0)L&&(a.wrapperEl.style.scrollSnapType="none",a._immediateVirtual=!0),L&&!a._cssModeVirtualInitialSet&&a.params.initialSlide>0?(a._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{M[j?"scrollLeft":"scrollTop"]=P})):M[j?"scrollLeft":"scrollTop"]=P,L&&requestAnimationFrame(()=>{a.wrapperEl.style.scrollSnapType="",a._immediateVirtual=!1});else{if(!a.support.smoothScroll)return tE({swiper:a,targetPosition:P,side:j?"left":"top"}),!0;M.scrollTo({[j?"left":"top"]:P,behavior:"smooth"})}return!0}const K=sE().isSafari;return L&&!s&&K&&a.isElement&&a.virtual.update(!1,!1,u),a.setTransition(e),a.setTranslate(D),a.updateActiveIndex(u),a.updateSlidesClasses(),a.emit("beforeTransitionStart",e,r),a.transitionStart(t,R),e===0?a.transitionEnd(t,R):a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(P){!a||a.destroyed||P.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(t,R))}),a.wrapperEl.addEventListener("transitionend",a.onSlideToWrapperTransitionEnd)),!0}function iN(n,e,t,r){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const s=this;if(s.destroyed)return;typeof e>"u"&&(e=s.params.speed);const a=s.grid&&s.params.grid&&s.params.grid.rows>1;let u=n;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)u=u+s.virtual.slidesBefore;else{let h;if(a){const T=u*s.params.grid.rows;h=s.slides.find(M=>M.getAttribute("data-swiper-slide-index")*1===T).column}else h=s.getSlideIndexByData(u);const f=a?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:p}=s.params;let y=s.params.slidesPerView;y==="auto"?y=s.slidesPerViewDynamic():(y=Math.ceil(parseFloat(s.params.slidesPerView,10)),p&&y%2===0&&(y=y+1));let w=f-h<y;if(p&&(w=w||h<Math.ceil(y/2)),r&&p&&s.params.slidesPerView!=="auto"&&!a&&(w=!1),w){const T=p?h<s.activeIndex?"prev":"next":h-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:T,slideTo:!0,activeSlideIndex:T==="next"?h+1:h-f+1,slideRealIndex:T==="next"?s.realIndex:void 0})}if(a){const T=u*s.params.grid.rows;u=s.slides.find(M=>M.getAttribute("data-swiper-slide-index")*1===T).column}else u=s.getSlideIndexByData(u)}return requestAnimationFrame(()=>{s.slideTo(u,e,t,r)}),s}function sN(n,e,t){e===void 0&&(e=!0);const r=this,{enabled:s,params:a,animating:u}=r;if(!s||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);let h=a.slidesPerGroup;a.slidesPerView==="auto"&&a.slidesPerGroup===1&&a.slidesPerGroupAuto&&(h=Math.max(r.slidesPerViewDynamic("current",!0),1));const f=r.activeIndex<a.slidesPerGroupSkip?1:h,p=r.virtual&&a.virtual.enabled;if(a.loop){if(u&&!p&&a.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&a.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+f,n,e,t)}),!0}return a.rewind&&r.isEnd?r.slideTo(0,n,e,t):r.slideTo(r.activeIndex+f,n,e,t)}function oN(n,e,t){e===void 0&&(e=!0);const r=this,{params:s,snapGrid:a,slidesGrid:u,rtlTranslate:h,enabled:f,animating:p}=r;if(!f||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);const y=r.virtual&&s.virtual.enabled;if(s.loop){if(p&&!y&&s.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const w=h?r.translate:-r.translate;function T(R){return R<0?-Math.floor(Math.abs(R)):Math.floor(R)}const M=T(w),x=a.map(R=>T(R)),V=s.freeMode&&s.freeMode.enabled;let O=a[x.indexOf(M)-1];if(typeof O>"u"&&(s.cssMode||V)){let R;a.forEach((L,$)=>{M>=L&&(R=$)}),typeof R<"u"&&(O=V?a[R]:a[R>0?R-1:R])}let D=0;if(typeof O<"u"&&(D=u.indexOf(O),D<0&&(D=r.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(D=D-r.slidesPerViewDynamic("previous",!0)+1,D=Math.max(D,0))),s.rewind&&r.isBeginning){const R=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(R,n,e,t)}else if(s.loop&&r.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(D,n,e,t)}),!0;return r.slideTo(D,n,e,t)}function aN(n,e,t){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof n>"u"&&(n=r.params.speed),r.slideTo(r.activeIndex,n,e,t)}function lN(n,e,t,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const s=this;if(s.destroyed)return;typeof n>"u"&&(n=s.params.speed);let a=s.activeIndex;const u=Math.min(s.params.slidesPerGroupSkip,a),h=u+Math.floor((a-u)/s.params.slidesPerGroup),f=s.rtlTranslate?s.translate:-s.translate;if(f>=s.snapGrid[h]){const p=s.snapGrid[h],y=s.snapGrid[h+1];f-p>(y-p)*r&&(a+=s.params.slidesPerGroup)}else{const p=s.snapGrid[h-1],y=s.snapGrid[h];f-p<=(y-p)*r&&(a-=s.params.slidesPerGroup)}return a=Math.max(a,0),a=Math.min(a,s.slidesGrid.length-1),s.slideTo(a,n,e,t)}function uN(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,r=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let s=n.clickedIndex,a;const u=n.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(n.animating)return;a=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?s<n.loopedSlides-r/2||s>n.slides.length-n.loopedSlides+r/2?(n.loopFix(),s=n.getSlideIndex(ar(t,`${u}[data-swiper-slide-index="${a}"]`)[0]),$f(()=>{n.slideTo(s)})):n.slideTo(s):s>n.slides.length-r?(n.loopFix(),s=n.getSlideIndex(ar(t,`${u}[data-swiper-slide-index="${a}"]`)[0]),$f(()=>{n.slideTo(s)})):n.slideTo(s)}else n.slideTo(s)}var cN={slideTo:rN,slideToLoop:iN,slideNext:sN,slidePrev:oN,slideReset:aN,slideToClosest:lN,slideToClickedSlide:uN};function dN(n,e){const t=this,{params:r,slidesEl:s}=t;if(!r.loop||t.virtual&&t.params.virtual.enabled)return;const a=()=>{ar(s,`.${r.slideClass}, swiper-slide`).forEach((T,M)=>{T.setAttribute("data-swiper-slide-index",M)})},u=t.grid&&r.grid&&r.grid.rows>1,h=r.slidesPerGroup*(u?r.grid.rows:1),f=t.slides.length%h!==0,p=u&&t.slides.length%r.grid.rows!==0,y=w=>{for(let T=0;T<w;T+=1){const M=t.isElement?Hc("swiper-slide",[r.slideBlankClass]):Hc("div",[r.slideClass,r.slideBlankClass]);t.slidesEl.append(M)}};if(f){if(r.loopAddBlankSlides){const w=h-t.slides.length%h;y(w),t.recalcSlides(),t.updateSlides()}else Gc("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");a()}else if(p){if(r.loopAddBlankSlides){const w=r.grid.rows-t.slides.length%r.grid.rows;y(w),t.recalcSlides(),t.updateSlides()}else Gc("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");a()}else a();t.loopFix({slideRealIndex:n,direction:r.centeredSlides?void 0:"next",initial:e})}function hN(n){let{slideRealIndex:e,slideTo:t=!0,direction:r,setTranslate:s,activeSlideIndex:a,initial:u,byController:h,byMousewheel:f}=n===void 0?{}:n;const p=this;if(!p.params.loop)return;p.emit("beforeLoopFix");const{slides:y,allowSlidePrev:w,allowSlideNext:T,slidesEl:M,params:x}=p,{centeredSlides:V,initialSlide:O}=x;if(p.allowSlidePrev=!0,p.allowSlideNext=!0,p.virtual&&x.virtual.enabled){t&&(!x.centeredSlides&&p.snapIndex===0?p.slideTo(p.virtual.slides.length,0,!1,!0):x.centeredSlides&&p.snapIndex<x.slidesPerView?p.slideTo(p.virtual.slides.length+p.snapIndex,0,!1,!0):p.snapIndex===p.snapGrid.length-1&&p.slideTo(p.virtual.slidesBefore,0,!1,!0)),p.allowSlidePrev=w,p.allowSlideNext=T,p.emit("loopFix");return}let D=x.slidesPerView;D==="auto"?D=p.slidesPerViewDynamic():(D=Math.ceil(parseFloat(x.slidesPerView,10)),V&&D%2===0&&(D=D+1));const R=x.slidesPerGroupAuto?D:x.slidesPerGroup;let L=R;L%R!==0&&(L+=R-L%R),L+=x.loopAdditionalSlides,p.loopedSlides=L;const $=p.grid&&x.grid&&x.grid.rows>1;y.length<D+L||p.params.effect==="cards"&&y.length<D+L*2?Gc("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):$&&x.grid.fill==="row"&&Gc("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const Q=[],K=[],j=$?Math.ceil(y.length/x.grid.rows):y.length,P=u&&j-O<D&&!V;let C=P?O:p.activeIndex;typeof a>"u"?a=p.getSlideIndex(y.find(ce=>ce.classList.contains(x.slideActiveClass))):C=a;const I=r==="next"||!r,A=r==="prev"||!r;let N=0,b=0;const le=($?y[a].column:a)+(V&&typeof s>"u"?-D/2+.5:0);if(le<L){N=Math.max(L-le,R);for(let ce=0;ce<L-le;ce+=1){const me=ce-Math.floor(ce/j)*j;if($){const J=j-me-1;for(let ae=y.length-1;ae>=0;ae-=1)y[ae].column===J&&Q.push(ae)}else Q.push(j-me-1)}}else if(le+D>j-L){b=Math.max(le-(j-L*2),R),P&&(b=Math.max(b,D-j+O+1));for(let ce=0;ce<b;ce+=1){const me=ce-Math.floor(ce/j)*j;$?y.forEach((J,ae)=>{J.column===me&&K.push(ae)}):K.push(me)}}if(p.__preventObserver__=!0,requestAnimationFrame(()=>{p.__preventObserver__=!1}),p.params.effect==="cards"&&y.length<D+L*2&&(K.includes(a)&&K.splice(K.indexOf(a),1),Q.includes(a)&&Q.splice(Q.indexOf(a),1)),A&&Q.forEach(ce=>{y[ce].swiperLoopMoveDOM=!0,M.prepend(y[ce]),y[ce].swiperLoopMoveDOM=!1}),I&&K.forEach(ce=>{y[ce].swiperLoopMoveDOM=!0,M.append(y[ce]),y[ce].swiperLoopMoveDOM=!1}),p.recalcSlides(),x.slidesPerView==="auto"?p.updateSlides():$&&(Q.length>0&&A||K.length>0&&I)&&p.slides.forEach((ce,me)=>{p.grid.updateSlide(me,ce,p.slides)}),x.watchSlidesProgress&&p.updateSlidesOffset(),t){if(Q.length>0&&A){if(typeof e>"u"){const ce=p.slidesGrid[C],J=p.slidesGrid[C+N]-ce;f?p.setTranslate(p.translate-J):(p.slideTo(C+Math.ceil(N),0,!1,!0),s&&(p.touchEventsData.startTranslate=p.touchEventsData.startTranslate-J,p.touchEventsData.currentTranslate=p.touchEventsData.currentTranslate-J))}else if(s){const ce=$?Q.length/x.grid.rows:Q.length;p.slideTo(p.activeIndex+ce,0,!1,!0),p.touchEventsData.currentTranslate=p.translate}}else if(K.length>0&&I)if(typeof e>"u"){const ce=p.slidesGrid[C],J=p.slidesGrid[C-b]-ce;f?p.setTranslate(p.translate-J):(p.slideTo(C-b,0,!1,!0),s&&(p.touchEventsData.startTranslate=p.touchEventsData.startTranslate-J,p.touchEventsData.currentTranslate=p.touchEventsData.currentTranslate-J))}else{const ce=$?K.length/x.grid.rows:K.length;p.slideTo(p.activeIndex-ce,0,!1,!0)}}if(p.allowSlidePrev=w,p.allowSlideNext=T,p.controller&&p.controller.control&&!h){const ce={slideRealIndex:e,direction:r,setTranslate:s,activeSlideIndex:a,byController:!0};Array.isArray(p.controller.control)?p.controller.control.forEach(me=>{!me.destroyed&&me.params.loop&&me.loopFix({...ce,slideTo:me.params.slidesPerView===x.slidesPerView?t:!1})}):p.controller.control instanceof p.constructor&&p.controller.control.params.loop&&p.controller.control.loopFix({...ce,slideTo:p.controller.control.params.slidesPerView===x.slidesPerView?t:!1})}p.emit("loopFix")}function fN(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||!t||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const r=[];n.slides.forEach(s=>{const a=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;r[a]=s}),n.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),r.forEach(s=>{t.append(s)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var pN={loopCreate:dN,loopFix:hN,loopDestroy:fN};function mN(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function gN(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var vN={setGrabCursor:mN,unsetGrabCursor:gN};function yN(n,e){e===void 0&&(e=this);function t(r){if(!r||r===hr()||r===Qt())return null;r.assignedSlot&&(r=r.assignedSlot);const s=r.closest(n);return!s&&!r.getRootNode?null:s||t(r.getRootNode().host)}return t(e)}function e_(n,e,t){const r=Qt(),{params:s}=n,a=s.edgeSwipeDetection,u=s.edgeSwipeThreshold;return a&&(t<=u||t>=r.innerWidth-u)?a==="prevent"?(e.preventDefault(),!0):!1:!0}function _N(n){const e=this,t=hr();let r=n;r.originalEvent&&(r=r.originalEvent);const s=e.touchEventsData;if(r.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==r.pointerId)return;s.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(s.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){e_(e,r,r.targetTouches[0].pageX);return}const{params:a,touches:u,enabled:h}=e;if(!h||!a.simulateTouch&&r.pointerType==="mouse"||e.animating&&a.preventInteractionOnTransition)return;!e.animating&&a.cssMode&&a.loop&&e.loopFix();let f=r.target;if(a.touchEventsTarget==="wrapper"&&!xk(f,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||s.isTouched&&s.isMoved)return;const p=!!a.noSwipingClass&&a.noSwipingClass!=="",y=r.composedPath?r.composedPath():r.path;p&&r.target&&r.target.shadowRoot&&y&&(f=y[0]);const w=a.noSwipingSelector?a.noSwipingSelector:`.${a.noSwipingClass}`,T=!!(r.target&&r.target.shadowRoot);if(a.noSwiping&&(T?yN(w,f):f.closest(w))){e.allowClick=!0;return}if(a.swipeHandler&&!f.closest(a.swipeHandler))return;u.currentX=r.pageX,u.currentY=r.pageY;const M=u.currentX,x=u.currentY;if(!e_(e,r,M))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),u.startX=M,u.startY=x,s.touchStartTime=$c(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,a.threshold>0&&(s.allowThresholdMove=!1);let V=!0;f.matches(s.focusableElements)&&(V=!1,f.nodeName==="SELECT"&&(s.isTouched=!1)),t.activeElement&&t.activeElement.matches(s.focusableElements)&&t.activeElement!==f&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!f.matches(s.focusableElements))&&t.activeElement.blur();const O=V&&e.allowTouchMove&&a.touchStartPreventDefault;(a.touchStartForcePreventDefault||O)&&!f.isContentEditable&&r.preventDefault(),a.freeMode&&a.freeMode.enabled&&e.freeMode&&e.animating&&!a.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function wN(n){const e=hr(),t=this,r=t.touchEventsData,{params:s,touches:a,rtlTranslate:u,enabled:h}=t;if(!h||!s.simulateTouch&&n.pointerType==="mouse")return;let f=n;if(f.originalEvent&&(f=f.originalEvent),f.type==="pointermove"&&(r.touchId!==null||f.pointerId!==r.pointerId))return;let p;if(f.type==="touchmove"){if(p=[...f.changedTouches].find(Q=>Q.identifier===r.touchId),!p||p.identifier!==r.touchId)return}else p=f;if(!r.isTouched){r.startMoving&&r.isScrolling&&t.emit("touchMoveOpposite",f);return}const y=p.pageX,w=p.pageY;if(f.preventedByNestedSwiper){a.startX=y,a.startY=w;return}if(!t.allowTouchMove){f.target.matches(r.focusableElements)||(t.allowClick=!1),r.isTouched&&(Object.assign(a,{startX:y,startY:w,currentX:y,currentY:w}),r.touchStartTime=$c());return}if(s.touchReleaseOnEdges&&!s.loop)if(t.isVertical()){if(w<a.startY&&t.translate<=t.maxTranslate()||w>a.startY&&t.translate>=t.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(u&&(y>a.startX&&-t.translate<=t.maxTranslate()||y<a.startX&&-t.translate>=t.minTranslate()))return;if(!u&&(y<a.startX&&t.translate<=t.maxTranslate()||y>a.startX&&t.translate>=t.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==f.target&&f.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&f.target===e.activeElement&&f.target.matches(r.focusableElements)){r.isMoved=!0,t.allowClick=!1;return}r.allowTouchCallbacks&&t.emit("touchMove",f),a.previousX=a.currentX,a.previousY=a.currentY,a.currentX=y,a.currentY=w;const T=a.currentX-a.startX,M=a.currentY-a.startY;if(t.params.threshold&&Math.sqrt(T**2+M**2)<t.params.threshold)return;if(typeof r.isScrolling>"u"){let Q;t.isHorizontal()&&a.currentY===a.startY||t.isVertical()&&a.currentX===a.startX?r.isScrolling=!1:T*T+M*M>=25&&(Q=Math.atan2(Math.abs(M),Math.abs(T))*180/Math.PI,r.isScrolling=t.isHorizontal()?Q>s.touchAngle:90-Q>s.touchAngle)}if(r.isScrolling&&t.emit("touchMoveOpposite",f),typeof r.startMoving>"u"&&(a.currentX!==a.startX||a.currentY!==a.startY)&&(r.startMoving=!0),r.isScrolling||f.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;t.allowClick=!1,!s.cssMode&&f.cancelable&&f.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&f.stopPropagation();let x=t.isHorizontal()?T:M,V=t.isHorizontal()?a.currentX-a.previousX:a.currentY-a.previousY;s.oneWayMovement&&(x=Math.abs(x)*(u?1:-1),V=Math.abs(V)*(u?1:-1)),a.diff=x,x*=s.touchRatio,u&&(x=-x,V=-V);const O=t.touchesDirection;t.swipeDirection=x>0?"prev":"next",t.touchesDirection=V>0?"prev":"next";const D=t.params.loop&&!s.cssMode,R=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!r.isMoved){if(D&&R&&t.loopFix({direction:t.swipeDirection}),r.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const Q=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(Q)}r.allowMomentumBounce=!1,s.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",f)}if(new Date().getTime(),s._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&O!==t.touchesDirection&&D&&R&&Math.abs(x)>=1){Object.assign(a,{startX:y,startY:w,currentX:y,currentY:w,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}t.emit("sliderMove",f),r.isMoved=!0,r.currentTranslate=x+r.startTranslate;let L=!0,$=s.resistanceRatio;if(s.touchReleaseOnEdges&&($=0),x>0?(D&&R&&r.allowThresholdMove&&r.currentTranslate>(s.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(s.slidesPerView!=="auto"&&t.slides.length-s.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>t.minTranslate()&&(L=!1,s.resistance&&(r.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+r.startTranslate+x)**$))):x<0&&(D&&R&&r.allowThresholdMove&&r.currentTranslate<(s.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(s.slidesPerView!=="auto"&&t.slides.length-s.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(s.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),r.currentTranslate<t.maxTranslate()&&(L=!1,s.resistance&&(r.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-r.startTranslate-x)**$))),L&&(f.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(x)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,a.startX=a.currentX,a.startY=a.currentY,r.currentTranslate=r.startTranslate,a.diff=t.isHorizontal()?a.currentX-a.startX:a.currentY-a.startY;return}}else{r.currentTranslate=r.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&t.freeMode||s.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(r.currentTranslate),t.setTranslate(r.currentTranslate))}function EN(n){const e=this,t=e.touchEventsData;let r=n;r.originalEvent&&(r=r.originalEvent);let s;if(r.type==="touchend"||r.type==="touchcancel"){if(s=[...r.changedTouches].find(Q=>Q.identifier===t.touchId),!s||s.identifier!==t.touchId)return}else{if(t.touchId!==null||r.pointerId!==t.pointerId)return;s=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:u,touches:h,rtlTranslate:f,slidesGrid:p,enabled:y}=e;if(!y||!u.simulateTouch&&r.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",r),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&u.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}u.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const w=$c(),T=w-t.touchStartTime;if(e.allowClick){const Q=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(Q&&Q[0]||r.target,Q),e.emit("tap click",r),T<300&&w-t.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(t.lastClickTime=$c(),$f(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||h.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let M;if(u.followFinger?M=f?e.translate:-e.translate:M=-t.currentTranslate,u.cssMode)return;if(u.freeMode&&u.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:M});return}const x=M>=-e.maxTranslate()&&!e.params.loop;let V=0,O=e.slidesSizesGrid[0];for(let Q=0;Q<p.length;Q+=Q<u.slidesPerGroupSkip?1:u.slidesPerGroup){const K=Q<u.slidesPerGroupSkip-1?1:u.slidesPerGroup;typeof p[Q+K]<"u"?(x||M>=p[Q]&&M<p[Q+K])&&(V=Q,O=p[Q+K]-p[Q]):(x||M>=p[Q])&&(V=Q,O=p[p.length-1]-p[p.length-2])}let D=null,R=null;u.rewind&&(e.isBeginning?R=u.virtual&&u.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(D=0));const L=(M-p[V])/O,$=V<u.slidesPerGroupSkip-1?1:u.slidesPerGroup;if(T>u.longSwipesMs){if(!u.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(L>=u.longSwipesRatio?e.slideTo(u.rewind&&e.isEnd?D:V+$):e.slideTo(V)),e.swipeDirection==="prev"&&(L>1-u.longSwipesRatio?e.slideTo(V+$):R!==null&&L<0&&Math.abs(L)>u.longSwipesRatio?e.slideTo(R):e.slideTo(V))}else{if(!u.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(V+$):e.slideTo(V):(e.swipeDirection==="next"&&e.slideTo(D!==null?D:V+$),e.swipeDirection==="prev"&&e.slideTo(R!==null?R:V))}}function t_(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:a}=n,u=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const h=u&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!h?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!u?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=s,n.allowSlideNext=r,n.params.watchOverflow&&a!==n.snapGrid&&n.checkOverflow()}function CN(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function TN(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:r}=n;if(!r)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let s;const a=n.maxTranslate()-n.minTranslate();a===0?s=0:s=(n.translate-n.minTranslate())/a,s!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function SN(n){const e=this;Cc(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function IN(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const aE=(n,e)=>{const t=hr(),{params:r,el:s,wrapperEl:a,device:u}=n,h=!!r.nested,f=e==="on"?"addEventListener":"removeEventListener",p=e;!s||typeof s=="string"||(t[f]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:h}),s[f]("touchstart",n.onTouchStart,{passive:!1}),s[f]("pointerdown",n.onTouchStart,{passive:!1}),t[f]("touchmove",n.onTouchMove,{passive:!1,capture:h}),t[f]("pointermove",n.onTouchMove,{passive:!1,capture:h}),t[f]("touchend",n.onTouchEnd,{passive:!0}),t[f]("pointerup",n.onTouchEnd,{passive:!0}),t[f]("pointercancel",n.onTouchEnd,{passive:!0}),t[f]("touchcancel",n.onTouchEnd,{passive:!0}),t[f]("pointerout",n.onTouchEnd,{passive:!0}),t[f]("pointerleave",n.onTouchEnd,{passive:!0}),t[f]("contextmenu",n.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&s[f]("click",n.onClick,!0),r.cssMode&&a[f]("scroll",n.onScroll),r.updateOnWindowResize?n[p](u.ios||u.android?"resize orientationchange observerUpdate":"resize observerUpdate",t_,!0):n[p]("observerUpdate",t_,!0),s[f]("load",n.onLoad,{capture:!0}))};function AN(){const n=this,{params:e}=n;n.onTouchStart=_N.bind(n),n.onTouchMove=wN.bind(n),n.onTouchEnd=EN.bind(n),n.onDocumentTouchStart=IN.bind(n),e.cssMode&&(n.onScroll=TN.bind(n)),n.onClick=CN.bind(n),n.onLoad=SN.bind(n),aE(n,"on")}function xN(){aE(this,"off")}var PN={attachEvents:AN,detachEvents:xN};const n_=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function RN(){const n=this,{realIndex:e,initialized:t,params:r,el:s}=n,a=r.breakpoints;if(!a||a&&Object.keys(a).length===0)return;const u=hr(),h=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",f=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?n.el:u.querySelector(r.breakpointsBase),p=n.getBreakpoint(a,h,f);if(!p||n.currentBreakpoint===p)return;const w=(p in a?a[p]:void 0)||n.originalParams,T=n_(n,r),M=n_(n,w),x=n.params.grabCursor,V=w.grabCursor,O=r.enabled;T&&!M?(s.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),n.emitContainerClasses()):!T&&M&&(s.classList.add(`${r.containerModifierClass}grid`),(w.grid.fill&&w.grid.fill==="column"||!w.grid.fill&&r.grid.fill==="column")&&s.classList.add(`${r.containerModifierClass}grid-column`),n.emitContainerClasses()),x&&!V?n.unsetGrabCursor():!x&&V&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(K=>{if(typeof w[K]>"u")return;const j=r[K]&&r[K].enabled,P=w[K]&&w[K].enabled;j&&!P&&n[K].disable(),!j&&P&&n[K].enable()});const D=w.direction&&w.direction!==r.direction,R=r.loop&&(w.slidesPerView!==r.slidesPerView||D),L=r.loop;D&&t&&n.changeDirection(),pn(n.params,w);const $=n.params.enabled,Q=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),O&&!$?n.disable():!O&&$&&n.enable(),n.currentBreakpoint=p,n.emit("_beforeBreakpoint",w),t&&(R?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!L&&Q?(n.loopCreate(e),n.updateSlides()):L&&!Q&&n.loopDestroy()),n.emit("breakpoint",w)}function kN(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let r=!1;const s=Qt(),a=e==="window"?s.innerHeight:t.clientHeight,u=Object.keys(n).map(h=>{if(typeof h=="string"&&h.indexOf("@")===0){const f=parseFloat(h.substr(1));return{value:a*f,point:h}}return{value:h,point:h}});u.sort((h,f)=>parseInt(h.value,10)-parseInt(f.value,10));for(let h=0;h<u.length;h+=1){const{point:f,value:p}=u[h];e==="window"?s.matchMedia(`(min-width: ${p}px)`).matches&&(r=f):p<=t.clientWidth&&(r=f)}return r||"max"}var NN={setBreakpoint:RN,getBreakpoint:kN};function bN(n,e){const t=[];return n.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(s=>{r[s]&&t.push(e+s)}):typeof r=="string"&&t.push(e+r)}),t}function DN(){const n=this,{classNames:e,params:t,rtl:r,el:s,device:a}=n,u=bN(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:r},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:a.android},{ios:a.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...u),s.classList.add(...e),n.emitContainerClasses()}function MN(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var VN={addClasses:DN,removeClasses:MN};function LN(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:r}=t;if(r){const s=n.slides.length-1,a=n.slidesGrid[s]+n.slidesSizesGrid[s]+r*2;n.isLocked=n.size>a}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var ON={checkOverflow:LN},qf={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function jN(n,e){return function(r){r===void 0&&(r={});const s=Object.keys(r)[0],a=r[s];if(typeof a!="object"||a===null){pn(e,r);return}if(n[s]===!0&&(n[s]={enabled:!0}),s==="navigation"&&n[s]&&n[s].enabled&&!n[s].prevEl&&!n[s].nextEl&&(n[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&n[s]&&n[s].enabled&&!n[s].el&&(n[s].auto=!0),!(s in n&&"enabled"in a)){pn(e,r);return}typeof n[s]=="object"&&!("enabled"in n[s])&&(n[s].enabled=!0),n[s]||(n[s]={enabled:!1}),pn(e,r)}}const pf={eventsEmitter:Vk,update:qk,translate:Jk,transition:nN,slide:cN,loop:pN,grabCursor:vN,events:PN,breakpoints:NN,checkOverflow:ON,classes:VN},mf={};let Jp=class Or{constructor(){let e,t;for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];s.length===1&&s[0].constructor&&Object.prototype.toString.call(s[0]).slice(8,-1)==="Object"?t=s[0]:[e,t]=s,t||(t={}),t=pn({},t),e&&!t.el&&(t.el=e);const u=hr();if(t.el&&typeof t.el=="string"&&u.querySelectorAll(t.el).length>1){const y=[];return u.querySelectorAll(t.el).forEach(w=>{const T=pn({},t,{el:w});y.push(new Or(T))}),y}const h=this;h.__swiper__=!0,h.support=rE(),h.device=iE({userAgent:t.userAgent}),h.browser=sE(),h.eventsListeners={},h.eventsAnyListeners=[],h.modules=[...h.__modules__],t.modules&&Array.isArray(t.modules)&&h.modules.push(...t.modules);const f={};h.modules.forEach(y=>{y({params:t,swiper:h,extendParams:jN(t,f),on:h.on.bind(h),once:h.once.bind(h),off:h.off.bind(h),emit:h.emit.bind(h)})});const p=pn({},qf,f);return h.params=pn({},p,mf,t),h.originalParams=pn({},h.params),h.passedParams=pn({},t),h.params&&h.params.on&&Object.keys(h.params.on).forEach(y=>{h.on(y,h.params.on[y])}),h.params&&h.params.onAny&&h.onAny(h.params.onAny),Object.assign(h,{enabled:h.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return h.params.direction==="horizontal"},isVertical(){return h.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:h.params.allowSlideNext,allowSlidePrev:h.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:h.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:h.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),h.emit("_swiper"),h.params.init&&h.init(),h}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:r}=this,s=ar(t,`.${r.slideClass}, swiper-slide`),a=qc(s[0]);return qc(e)-a}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:t,params:r}=e;e.slides=ar(t,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const r=this;e=Math.min(Math.max(e,0),1);const s=r.minTranslate(),u=(r.maxTranslate()-s)*e+s;r.translateTo(u,typeof t>"u"?0:t),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(r=>{const s=e.getSlideClasses(r);t.push({slideEl:r,classNames:s}),e.emit("_slideClass",r,s)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const r=this,{params:s,slides:a,slidesGrid:u,slidesSizesGrid:h,size:f,activeIndex:p}=r;let y=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let w=a[p]?Math.ceil(a[p].swiperSlideSize):0,T;for(let M=p+1;M<a.length;M+=1)a[M]&&!T&&(w+=Math.ceil(a[M].swiperSlideSize),y+=1,w>f&&(T=!0));for(let M=p-1;M>=0;M-=1)a[M]&&!T&&(w+=a[M].swiperSlideSize,y+=1,w>f&&(T=!0))}else if(e==="current")for(let w=p+1;w<a.length;w+=1)(t?u[w]+h[w]-u[p]<f:u[w]-u[p]<f)&&(y+=1);else for(let w=p-1;w>=0;w-=1)u[p]-u[w]<f&&(y+=1);return y}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(u=>{u.complete&&Cc(e,u)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const u=e.rtlTranslate?e.translate*-1:e.translate,h=Math.min(Math.max(u,e.maxTranslate()),e.minTranslate());e.setTranslate(h),e.updateActiveIndex(),e.updateSlidesClasses()}let a;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)s(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const u=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;a=e.slideTo(u.length-1,0,!1,!0)}else a=e.slideTo(e.activeIndex,0,!1,!0);a||s()}r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const r=this,s=r.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${s}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(a=>{e==="vertical"?a.style.width="":a.style.height=""}),r.emit("changeDirection"),t&&r.update()),r}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let r=e||t.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=t,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const s=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let u=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(s()):ar(r,s())[0];return!u&&t.params.createElements&&(u=Hc("div",t.params.wrapperClass),r.append(u),ar(r,`.${t.params.slideClass}`).forEach(h=>{u.append(h)})),Object.assign(t,{el:r,wrapperEl:u,slidesEl:t.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:u,hostEl:t.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Ni(r,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Ni(r,"direction")==="rtl"),wrongRTL:Ni(u,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const s=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&s.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(a=>{a.complete?Cc(t,a):a.addEventListener("load",u=>{Cc(t,u.target)})}),Hf(t),t.initialized=!0,Hf(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const r=this,{params:s,el:a,wrapperEl:u,slides:h}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),t&&(r.removeClasses(),a&&typeof a!="string"&&a.removeAttribute("style"),u&&u.removeAttribute("style"),h&&h.length&&h.forEach(f=>{f.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),f.removeAttribute("style"),f.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(f=>{r.off(f)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),Ck(r)),r.destroyed=!0),null}static extendDefaults(e){pn(mf,e)}static get extendedDefaults(){return mf}static get defaults(){return qf}static installModule(e){Or.prototype.__modules__||(Or.prototype.__modules__=[]);const t=Or.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>Or.installModule(t)),Or):(Or.installModule(e),Or)}};Object.keys(pf).forEach(n=>{Object.keys(pf[n]).forEach(e=>{Jp.prototype[e]=pf[n][e]})});Jp.use([Dk,Mk]);const lE=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Rs(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function Fo(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:Rs(e[r])&&Rs(n[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?n[r]=e[r]:Fo(n[r],e[r]):n[r]=e[r]})}function uE(n){return n===void 0&&(n={}),n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function cE(n){return n===void 0&&(n={}),n.pagination&&typeof n.pagination.el>"u"}function dE(n){return n===void 0&&(n={}),n.scrollbar&&typeof n.scrollbar.el>"u"}function hE(n){n===void 0&&(n="");const e=n.split(" ").map(r=>r.trim()).filter(r=>!!r),t=[];return e.forEach(r=>{t.indexOf(r)<0&&t.push(r)}),t.join(" ")}function FN(n){return n===void 0&&(n=""),n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function BN(n){let{swiper:e,slides:t,passedParams:r,changedParams:s,nextEl:a,prevEl:u,scrollbarEl:h,paginationEl:f}=n;const p=s.filter(C=>C!=="children"&&C!=="direction"&&C!=="wrapperClass"),{params:y,pagination:w,navigation:T,scrollbar:M,virtual:x,thumbs:V}=e;let O,D,R,L,$,Q,K,j;s.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&y.thumbs&&(!y.thumbs.swiper||y.thumbs.swiper.destroyed)&&(O=!0),s.includes("controller")&&r.controller&&r.controller.control&&y.controller&&!y.controller.control&&(D=!0),s.includes("pagination")&&r.pagination&&(r.pagination.el||f)&&(y.pagination||y.pagination===!1)&&w&&!w.el&&(R=!0),s.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||h)&&(y.scrollbar||y.scrollbar===!1)&&M&&!M.el&&(L=!0),s.includes("navigation")&&r.navigation&&(r.navigation.prevEl||u)&&(r.navigation.nextEl||a)&&(y.navigation||y.navigation===!1)&&T&&!T.prevEl&&!T.nextEl&&($=!0);const P=C=>{e[C]&&(e[C].destroy(),C==="navigation"?(e.isElement&&(e[C].prevEl.remove(),e[C].nextEl.remove()),y[C].prevEl=void 0,y[C].nextEl=void 0,e[C].prevEl=void 0,e[C].nextEl=void 0):(e.isElement&&e[C].el.remove(),y[C].el=void 0,e[C].el=void 0))};s.includes("loop")&&e.isElement&&(y.loop&&!r.loop?Q=!0:!y.loop&&r.loop?K=!0:j=!0),p.forEach(C=>{if(Rs(y[C])&&Rs(r[C]))Object.assign(y[C],r[C]),(C==="navigation"||C==="pagination"||C==="scrollbar")&&"enabled"in r[C]&&!r[C].enabled&&P(C);else{const I=r[C];(I===!0||I===!1)&&(C==="navigation"||C==="pagination"||C==="scrollbar")?I===!1&&P(C):y[C]=r[C]}}),p.includes("controller")&&!D&&e.controller&&e.controller.control&&y.controller&&y.controller.control&&(e.controller.control=y.controller.control),s.includes("children")&&t&&x&&y.virtual.enabled?(x.slides=t,x.update(!0)):s.includes("virtual")&&x&&y.virtual.enabled&&(t&&(x.slides=t),x.update(!0)),s.includes("children")&&t&&y.loop&&(j=!0),O&&V.init()&&V.update(!0),D&&(e.controller.control=y.controller.control),R&&(e.isElement&&(!f||typeof f=="string")&&(f=document.createElement("div"),f.classList.add("swiper-pagination"),f.part.add("pagination"),e.el.appendChild(f)),f&&(y.pagination.el=f),w.init(),w.render(),w.update()),L&&(e.isElement&&(!h||typeof h=="string")&&(h=document.createElement("div"),h.classList.add("swiper-scrollbar"),h.part.add("scrollbar"),e.el.appendChild(h)),h&&(y.scrollbar.el=h),M.init(),M.updateSize(),M.setTranslate()),$&&(e.isElement&&((!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-next"),a.innerHTML=e.hostEl.constructor.nextButtonSvg,a.part.add("button-next"),e.el.appendChild(a)),(!u||typeof u=="string")&&(u=document.createElement("div"),u.classList.add("swiper-button-prev"),u.innerHTML=e.hostEl.constructor.prevButtonSvg,u.part.add("button-prev"),e.el.appendChild(u))),a&&(y.navigation.nextEl=a),u&&(y.navigation.prevEl=u),T.init(),T.update()),s.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),s.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),s.includes("direction")&&e.changeDirection(r.direction,!1),(Q||j)&&e.loopDestroy(),(K||j)&&e.loopCreate(),e.update()}function UN(n,e){n===void 0&&(n={}),e===void 0&&(e=!0);const t={on:{}},r={},s={};Fo(t,qf),t._emitClasses=!0,t.init=!1;const a={},u=lE.map(f=>f.replace(/_/,"")),h=Object.assign({},n);return Object.keys(h).forEach(f=>{typeof n[f]>"u"||(u.indexOf(f)>=0?Rs(n[f])?(t[f]={},s[f]={},Fo(t[f],n[f]),Fo(s[f],n[f])):(t[f]=n[f],s[f]=n[f]):f.search(/on[A-Z]/)===0&&typeof n[f]=="function"?e?r[`${f[2].toLowerCase()}${f.substr(3)}`]=n[f]:t.on[`${f[2].toLowerCase()}${f.substr(3)}`]=n[f]:a[f]=n[f])}),["navigation","pagination","scrollbar"].forEach(f=>{t[f]===!0&&(t[f]={}),t[f]===!1&&delete t[f]}),{params:t,passedParams:s,rest:a,events:r}}function zN(n,e){let{el:t,nextEl:r,prevEl:s,paginationEl:a,scrollbarEl:u,swiper:h}=n;uE(e)&&r&&s&&(h.params.navigation.nextEl=r,h.originalParams.navigation.nextEl=r,h.params.navigation.prevEl=s,h.originalParams.navigation.prevEl=s),cE(e)&&a&&(h.params.pagination.el=a,h.originalParams.pagination.el=a),dE(e)&&u&&(h.params.scrollbar.el=u,h.originalParams.scrollbar.el=u),h.init(t)}function $N(n,e,t,r,s){const a=[];if(!e)return a;const u=f=>{a.indexOf(f)<0&&a.push(f)};if(t&&r){const f=r.map(s),p=t.map(s);f.join("")!==p.join("")&&u("children"),r.length!==t.length&&u("children")}return lE.filter(f=>f[0]==="_").map(f=>f.replace(/_/,"")).forEach(f=>{if(f in n&&f in e)if(Rs(n[f])&&Rs(e[f])){const p=Object.keys(n[f]),y=Object.keys(e[f]);p.length!==y.length?u(f):(p.forEach(w=>{n[f][w]!==e[f][w]&&u(f)}),y.forEach(w=>{n[f][w]!==e[f][w]&&u(f)}))}else n[f]!==e[f]&&u(f)}),a}const GN=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function Wc(){return Wc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Wc.apply(this,arguments)}function fE(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function pE(n){const e=[];return ht.Children.toArray(n).forEach(t=>{fE(t)?e.push(t):t.props&&t.props.children&&pE(t.props.children).forEach(r=>e.push(r))}),e}function HN(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return ht.Children.toArray(n).forEach(r=>{if(fE(r))e.push(r);else if(r.props&&r.props.slot&&t[r.props.slot])t[r.props.slot].push(r);else if(r.props&&r.props.children){const s=pE(r.props.children);s.length>0?s.forEach(a=>e.push(a)):t["container-end"].push(r)}else t["container-end"].push(r)}),{slides:e,slots:t}}function qN(n,e,t){if(!t)return null;const r=y=>{let w=y;return y<0?w=e.length+y:w>=e.length&&(w=w-e.length),w},s=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:a,to:u}=t,h=n.params.loop?-e.length:0,f=n.params.loop?e.length*2:e.length,p=[];for(let y=h;y<f;y+=1)y>=a&&y<=u&&p.push(e[r(y)]);return p.map((y,w)=>ht.cloneElement(y,{swiper:n,style:s,key:y.props.virtualIndex||y.key||`slide-${w}`}))}function hl(n,e){return typeof window>"u"?U.useEffect(n,e):U.useLayoutEffect(n,e)}const r_=U.createContext(null),WN=U.createContext(null),Zp=U.forwardRef(function(n,e){let{className:t,tag:r="div",wrapperTag:s="div",children:a,onSwiper:u,...h}=n===void 0?{}:n,f=!1;const[p,y]=U.useState("swiper"),[w,T]=U.useState(null),[M,x]=U.useState(!1),V=U.useRef(!1),O=U.useRef(null),D=U.useRef(null),R=U.useRef(null),L=U.useRef(null),$=U.useRef(null),Q=U.useRef(null),K=U.useRef(null),j=U.useRef(null),{params:P,passedParams:C,rest:I,events:A}=UN(h),{slides:N,slots:b}=HN(a),ie=()=>{x(!M)};Object.assign(P.on,{_containerClasses(ae,oe){y(oe)}});const le=()=>{Object.assign(P.on,A),f=!0;const ae={...P};if(delete ae.wrapperClass,D.current=new Jp(ae),D.current.virtual&&D.current.params.virtual.enabled){D.current.virtual.slides=N;const oe={cache:!1,slides:N,renderExternal:T,renderExternalUpdate:!1};Fo(D.current.params.virtual,oe),Fo(D.current.originalParams.virtual,oe)}};O.current||le(),D.current&&D.current.on("_beforeBreakpoint",ie);const ce=()=>{f||!A||!D.current||Object.keys(A).forEach(ae=>{D.current.on(ae,A[ae])})},me=()=>{!A||!D.current||Object.keys(A).forEach(ae=>{D.current.off(ae,A[ae])})};U.useEffect(()=>()=>{D.current&&D.current.off("_beforeBreakpoint",ie)}),U.useEffect(()=>{!V.current&&D.current&&(D.current.emitSlidesClasses(),V.current=!0)}),hl(()=>{if(e&&(e.current=O.current),!!O.current)return D.current.destroyed&&le(),zN({el:O.current,nextEl:$.current,prevEl:Q.current,paginationEl:K.current,scrollbarEl:j.current,swiper:D.current},P),u&&!D.current.destroyed&&u(D.current),()=>{D.current&&!D.current.destroyed&&D.current.destroy(!0,!1)}},[]),hl(()=>{ce();const ae=$N(C,R.current,N,L.current,oe=>oe.key);return R.current=C,L.current=N,ae.length&&D.current&&!D.current.destroyed&&BN({swiper:D.current,slides:N,passedParams:C,changedParams:ae,nextEl:$.current,prevEl:Q.current,scrollbarEl:j.current,paginationEl:K.current}),()=>{me()}}),hl(()=>{GN(D.current)},[w]);function J(){return P.virtual?qN(D.current,N,w):N.map((ae,oe)=>ht.cloneElement(ae,{swiper:D.current,swiperSlideIndex:oe}))}return ht.createElement(r,Wc({ref:O,className:hE(`${p}${t?` ${t}`:""}`)},I),ht.createElement(WN.Provider,{value:D.current},b["container-start"],ht.createElement(s,{className:FN(P.wrapperClass)},b["wrapper-start"],J(),b["wrapper-end"]),uE(P)&&ht.createElement(ht.Fragment,null,ht.createElement("div",{ref:Q,className:"swiper-button-prev"}),ht.createElement("div",{ref:$,className:"swiper-button-next"})),dE(P)&&ht.createElement("div",{ref:j,className:"swiper-scrollbar"}),cE(P)&&ht.createElement("div",{ref:K,className:"swiper-pagination"}),b["container-end"]))});Zp.displayName="Swiper";const em=U.forwardRef(function(n,e){let{tag:t="div",children:r,className:s="",swiper:a,zoom:u,lazy:h,virtualIndex:f,swiperSlideIndex:p,...y}=n===void 0?{}:n;const w=U.useRef(null),[T,M]=U.useState("swiper-slide"),[x,V]=U.useState(!1);function O($,Q,K){Q===w.current&&M(K)}hl(()=>{if(typeof p<"u"&&(w.current.swiperSlideIndex=p),e&&(e.current=w.current),!(!w.current||!a)){if(a.destroyed){T!=="swiper-slide"&&M("swiper-slide");return}return a.on("_slideClass",O),()=>{a&&a.off("_slideClass",O)}}}),hl(()=>{a&&w.current&&!a.destroyed&&M(a.getSlideClasses(w.current))},[a]);const D={isActive:T.indexOf("swiper-slide-active")>=0,isVisible:T.indexOf("swiper-slide-visible")>=0,isPrev:T.indexOf("swiper-slide-prev")>=0,isNext:T.indexOf("swiper-slide-next")>=0},R=()=>typeof r=="function"?r(D):r,L=()=>{V(!0)};return ht.createElement(t,Wc({ref:w,className:hE(`${T}${s?` ${s}`:""}`),"data-swiper-slide-index":f,onLoad:L},y),u&&ht.createElement(r_.Provider,{value:D},ht.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof u=="number"?u:void 0},R(),h&&!x&&ht.createElement("div",{className:"swiper-lazy-preloader"}))),!u&&ht.createElement(r_.Provider,{value:D},R(),h&&!x&&ht.createElement("div",{className:"swiper-lazy-preloader"})))});em.displayName="SwiperSlide";function mE(n,e,t,r){return n.params.createElements&&Object.keys(r).forEach(s=>{if(!t[s]&&t.auto===!0){let a=ar(n.el,`.${r[s]}`)[0];a||(a=Hc("div",r[s]),a.className=r[s],n.el.append(a)),t[s]=a,e[s]=a}}),t}function gE(n){let{swiper:e,extendParams:t,on:r,emit:s}=n;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function a(x){let V;return x&&typeof x=="string"&&e.isElement&&(V=e.el.querySelector(x)||e.hostEl.querySelector(x),V)?V:(x&&(typeof x=="string"&&(V=[...document.querySelectorAll(x)]),e.params.uniqueNavElements&&typeof x=="string"&&V&&V.length>1&&e.el.querySelectorAll(x).length===1?V=e.el.querySelector(x):V&&V.length===1&&(V=V[0])),x&&!V?x:V)}function u(x,V){const O=e.params.navigation;x=Pt(x),x.forEach(D=>{D&&(D.classList[V?"add":"remove"](...O.disabledClass.split(" ")),D.tagName==="BUTTON"&&(D.disabled=V),e.params.watchOverflow&&e.enabled&&D.classList[e.isLocked?"add":"remove"](O.lockClass))})}function h(){const{nextEl:x,prevEl:V}=e.navigation;if(e.params.loop){u(V,!1),u(x,!1);return}u(V,e.isBeginning&&!e.params.rewind),u(x,e.isEnd&&!e.params.rewind)}function f(x){x.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),s("navigationPrev"))}function p(x){x.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),s("navigationNext"))}function y(){const x=e.params.navigation;if(e.params.navigation=mE(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(x.nextEl||x.prevEl))return;let V=a(x.nextEl),O=a(x.prevEl);Object.assign(e.navigation,{nextEl:V,prevEl:O}),V=Pt(V),O=Pt(O);const D=(R,L)=>{R&&R.addEventListener("click",L==="next"?p:f),!e.enabled&&R&&R.classList.add(...x.lockClass.split(" "))};V.forEach(R=>D(R,"next")),O.forEach(R=>D(R,"prev"))}function w(){let{nextEl:x,prevEl:V}=e.navigation;x=Pt(x),V=Pt(V);const O=(D,R)=>{D.removeEventListener("click",R==="next"?p:f),D.classList.remove(...e.params.navigation.disabledClass.split(" "))};x.forEach(D=>O(D,"next")),V.forEach(D=>O(D,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?M():(y(),h())}),r("toEdge fromEdge lock unlock",()=>{h()}),r("destroy",()=>{w()}),r("enable disable",()=>{let{nextEl:x,prevEl:V}=e.navigation;if(x=Pt(x),V=Pt(V),e.enabled){h();return}[...x,...V].filter(O=>!!O).forEach(O=>O.classList.add(e.params.navigation.lockClass))}),r("click",(x,V)=>{let{nextEl:O,prevEl:D}=e.navigation;O=Pt(O),D=Pt(D);const R=V.target;let L=D.includes(R)||O.includes(R);if(e.isElement&&!L){const $=V.path||V.composedPath&&V.composedPath();$&&(L=$.find(Q=>O.includes(Q)||D.includes(Q)))}if(e.params.navigation.hideOnClick&&!L){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===R||e.pagination.el.contains(R)))return;let $;O.length?$=O[0].classList.contains(e.params.navigation.hiddenClass):D.length&&($=D[0].classList.contains(e.params.navigation.hiddenClass)),s($===!0?"navigationShow":"navigationHide"),[...O,...D].filter(Q=>!!Q).forEach(Q=>Q.classList.toggle(e.params.navigation.hiddenClass))}});const T=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),y(),h()},M=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),w()};Object.assign(e.navigation,{enable:T,disable:M,update:h,init:y,destroy:w})}function tl(n){return n===void 0&&(n=""),`.${n.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function KN(n){let{swiper:e,extendParams:t,on:r,emit:s}=n;const a="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:R=>R,formatFractionTotal:R=>R,bulletClass:`${a}-bullet`,bulletActiveClass:`${a}-bullet-active`,modifierClass:`${a}-`,currentClass:`${a}-current`,totalClass:`${a}-total`,hiddenClass:`${a}-hidden`,progressbarFillClass:`${a}-progressbar-fill`,progressbarOppositeClass:`${a}-progressbar-opposite`,clickableClass:`${a}-clickable`,lockClass:`${a}-lock`,horizontalClass:`${a}-horizontal`,verticalClass:`${a}-vertical`,paginationDisabledClass:`${a}-disabled`}}),e.pagination={el:null,bullets:[]};let u,h=0;function f(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function p(R,L){const{bulletActiveClass:$}=e.params.pagination;R&&(R=R[`${L==="prev"?"previous":"next"}ElementSibling`],R&&(R.classList.add(`${$}-${L}`),R=R[`${L==="prev"?"previous":"next"}ElementSibling`],R&&R.classList.add(`${$}-${L}-${L}`)))}function y(R,L,$){if(R=R%$,L=L%$,L===R+1)return"next";if(L===R-1)return"previous"}function w(R){const L=R.target.closest(tl(e.params.pagination.bulletClass));if(!L)return;R.preventDefault();const $=qc(L)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===$)return;const Q=y(e.realIndex,$,e.slides.length);Q==="next"?e.slideNext():Q==="previous"?e.slidePrev():e.slideToLoop($)}else e.slideTo($)}function T(){const R=e.rtl,L=e.params.pagination;if(f())return;let $=e.pagination.el;$=Pt($);let Q,K;const j=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,P=e.params.loop?Math.ceil(j/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(K=e.previousRealIndex||0,Q=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(Q=e.snapIndex,K=e.previousSnapIndex):(K=e.previousIndex||0,Q=e.activeIndex||0),L.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const C=e.pagination.bullets;let I,A,N;if(L.dynamicBullets&&(u=Gf(C[0],e.isHorizontal()?"width":"height"),$.forEach(b=>{b.style[e.isHorizontal()?"width":"height"]=`${u*(L.dynamicMainBullets+4)}px`}),L.dynamicMainBullets>1&&K!==void 0&&(h+=Q-(K||0),h>L.dynamicMainBullets-1?h=L.dynamicMainBullets-1:h<0&&(h=0)),I=Math.max(Q-h,0),A=I+(Math.min(C.length,L.dynamicMainBullets)-1),N=(A+I)/2),C.forEach(b=>{const ie=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(le=>`${L.bulletActiveClass}${le}`)].map(le=>typeof le=="string"&&le.includes(" ")?le.split(" "):le).flat();b.classList.remove(...ie)}),$.length>1)C.forEach(b=>{const ie=qc(b);ie===Q?b.classList.add(...L.bulletActiveClass.split(" ")):e.isElement&&b.setAttribute("part","bullet"),L.dynamicBullets&&(ie>=I&&ie<=A&&b.classList.add(...`${L.bulletActiveClass}-main`.split(" ")),ie===I&&p(b,"prev"),ie===A&&p(b,"next"))});else{const b=C[Q];if(b&&b.classList.add(...L.bulletActiveClass.split(" ")),e.isElement&&C.forEach((ie,le)=>{ie.setAttribute("part",le===Q?"bullet-active":"bullet")}),L.dynamicBullets){const ie=C[I],le=C[A];for(let ce=I;ce<=A;ce+=1)C[ce]&&C[ce].classList.add(...`${L.bulletActiveClass}-main`.split(" "));p(ie,"prev"),p(le,"next")}}if(L.dynamicBullets){const b=Math.min(C.length,L.dynamicMainBullets+4),ie=(u*b-u)/2-N*u,le=R?"right":"left";C.forEach(ce=>{ce.style[e.isHorizontal()?le:"top"]=`${ie}px`})}}$.forEach((C,I)=>{if(L.type==="fraction"&&(C.querySelectorAll(tl(L.currentClass)).forEach(A=>{A.textContent=L.formatFractionCurrent(Q+1)}),C.querySelectorAll(tl(L.totalClass)).forEach(A=>{A.textContent=L.formatFractionTotal(P)})),L.type==="progressbar"){let A;L.progressbarOpposite?A=e.isHorizontal()?"vertical":"horizontal":A=e.isHorizontal()?"horizontal":"vertical";const N=(Q+1)/P;let b=1,ie=1;A==="horizontal"?b=N:ie=N,C.querySelectorAll(tl(L.progressbarFillClass)).forEach(le=>{le.style.transform=`translate3d(0,0,0) scaleX(${b}) scaleY(${ie})`,le.style.transitionDuration=`${e.params.speed}ms`})}L.type==="custom"&&L.renderCustom?(C.innerHTML=L.renderCustom(e,Q+1,P),I===0&&s("paginationRender",C)):(I===0&&s("paginationRender",C),s("paginationUpdate",C)),e.params.watchOverflow&&e.enabled&&C.classList[e.isLocked?"add":"remove"](L.lockClass)})}function M(){const R=e.params.pagination;if(f())return;const L=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let $=e.pagination.el;$=Pt($);let Q="";if(R.type==="bullets"){let K=e.params.loop?Math.ceil(L/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&K>L&&(K=L);for(let j=0;j<K;j+=1)R.renderBullet?Q+=R.renderBullet.call(e,j,R.bulletClass):Q+=`<${R.bulletElement} ${e.isElement?'part="bullet"':""} class="${R.bulletClass}"></${R.bulletElement}>`}R.type==="fraction"&&(R.renderFraction?Q=R.renderFraction.call(e,R.currentClass,R.totalClass):Q=`<span class="${R.currentClass}"></span> / <span class="${R.totalClass}"></span>`),R.type==="progressbar"&&(R.renderProgressbar?Q=R.renderProgressbar.call(e,R.progressbarFillClass):Q=`<span class="${R.progressbarFillClass}"></span>`),e.pagination.bullets=[],$.forEach(K=>{R.type!=="custom"&&(K.innerHTML=Q||""),R.type==="bullets"&&e.pagination.bullets.push(...K.querySelectorAll(tl(R.bulletClass)))}),R.type!=="custom"&&s("paginationRender",$[0])}function x(){e.params.pagination=mE(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const R=e.params.pagination;if(!R.el)return;let L;typeof R.el=="string"&&e.isElement&&(L=e.el.querySelector(R.el)),!L&&typeof R.el=="string"&&(L=[...document.querySelectorAll(R.el)]),L||(L=R.el),!(!L||L.length===0)&&(e.params.uniqueNavElements&&typeof R.el=="string"&&Array.isArray(L)&&L.length>1&&(L=[...e.el.querySelectorAll(R.el)],L.length>1&&(L=L.find($=>nE($,".swiper")[0]===e.el))),Array.isArray(L)&&L.length===1&&(L=L[0]),Object.assign(e.pagination,{el:L}),L=Pt(L),L.forEach($=>{R.type==="bullets"&&R.clickable&&$.classList.add(...(R.clickableClass||"").split(" ")),$.classList.add(R.modifierClass+R.type),$.classList.add(e.isHorizontal()?R.horizontalClass:R.verticalClass),R.type==="bullets"&&R.dynamicBullets&&($.classList.add(`${R.modifierClass}${R.type}-dynamic`),h=0,R.dynamicMainBullets<1&&(R.dynamicMainBullets=1)),R.type==="progressbar"&&R.progressbarOpposite&&$.classList.add(R.progressbarOppositeClass),R.clickable&&$.addEventListener("click",w),e.enabled||$.classList.add(R.lockClass)}))}function V(){const R=e.params.pagination;if(f())return;let L=e.pagination.el;L&&(L=Pt(L),L.forEach($=>{$.classList.remove(R.hiddenClass),$.classList.remove(R.modifierClass+R.type),$.classList.remove(e.isHorizontal()?R.horizontalClass:R.verticalClass),R.clickable&&($.classList.remove(...(R.clickableClass||"").split(" ")),$.removeEventListener("click",w))})),e.pagination.bullets&&e.pagination.bullets.forEach($=>$.classList.remove(...R.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const R=e.params.pagination;let{el:L}=e.pagination;L=Pt(L),L.forEach($=>{$.classList.remove(R.horizontalClass,R.verticalClass),$.classList.add(e.isHorizontal()?R.horizontalClass:R.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?D():(x(),M(),T())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&T()}),r("snapIndexChange",()=>{T()}),r("snapGridLengthChange",()=>{M(),T()}),r("destroy",()=>{V()}),r("enable disable",()=>{let{el:R}=e.pagination;R&&(R=Pt(R),R.forEach(L=>L.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{T()}),r("click",(R,L)=>{const $=L.target,Q=Pt(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&Q&&Q.length>0&&!$.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&$===e.navigation.nextEl||e.navigation.prevEl&&$===e.navigation.prevEl))return;const K=Q[0].classList.contains(e.params.pagination.hiddenClass);s(K===!0?"paginationShow":"paginationHide"),Q.forEach(j=>j.classList.toggle(e.params.pagination.hiddenClass))}});const O=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:R}=e.pagination;R&&(R=Pt(R),R.forEach(L=>L.classList.remove(e.params.pagination.paginationDisabledClass))),x(),M(),T()},D=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:R}=e.pagination;R&&(R=Pt(R),R.forEach(L=>L.classList.add(e.params.pagination.paginationDisabledClass))),V()};Object.assign(e.pagination,{enable:O,disable:D,render:M,update:T,init:x,destroy:V})}function vE(n){let{swiper:e,extendParams:t,on:r,emit:s,params:a}=n;e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let u,h,f=a&&a.autoplay?a.autoplay.delay:3e3,p=a&&a.autoplay?a.autoplay.delay:3e3,y,w=new Date().getTime(),T,M,x,V,O,D,R;function L(J){!e||e.destroyed||!e.wrapperEl||J.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",L),!(R||J.detail&&J.detail.bySwiperTouchMove)&&I())}const $=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?T=!0:T&&(p=y,T=!1);const J=e.autoplay.paused?y:w+p-new Date().getTime();e.autoplay.timeLeft=J,s("autoplayTimeLeft",J,J/f),h=requestAnimationFrame(()=>{$()})},Q=()=>{let J;return e.virtual&&e.params.virtual.enabled?J=e.slides.find(oe=>oe.classList.contains("swiper-slide-active")):J=e.slides[e.activeIndex],J?parseInt(J.getAttribute("data-swiper-autoplay"),10):void 0},K=J=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(h),$();let ae=typeof J>"u"?e.params.autoplay.delay:J;f=e.params.autoplay.delay,p=e.params.autoplay.delay;const oe=Q();!Number.isNaN(oe)&&oe>0&&typeof J>"u"&&(ae=oe,f=oe,p=oe),y=ae;const G=e.params.speed,ee=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(G,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,G,!0,!0),s("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(G,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,G,!0,!0),s("autoplay")),e.params.cssMode&&(w=new Date().getTime(),requestAnimationFrame(()=>{K()})))};return ae>0?(clearTimeout(u),u=setTimeout(()=>{ee()},ae)):requestAnimationFrame(()=>{ee()}),ae},j=()=>{w=new Date().getTime(),e.autoplay.running=!0,K(),s("autoplayStart")},P=()=>{e.autoplay.running=!1,clearTimeout(u),cancelAnimationFrame(h),s("autoplayStop")},C=(J,ae)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(u),J||(D=!0);const oe=()=>{s("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",L):I()};if(e.autoplay.paused=!0,ae){O&&(y=e.params.autoplay.delay),O=!1,oe();return}y=(y||e.params.autoplay.delay)-(new Date().getTime()-w),!(e.isEnd&&y<0&&!e.params.loop)&&(y<0&&(y=0),oe())},I=()=>{e.isEnd&&y<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(w=new Date().getTime(),D?(D=!1,K(y)):K(),e.autoplay.paused=!1,s("autoplayResume"))},A=()=>{if(e.destroyed||!e.autoplay.running)return;const J=hr();J.visibilityState==="hidden"&&(D=!0,C(!0)),J.visibilityState==="visible"&&I()},N=J=>{J.pointerType==="mouse"&&(D=!0,R=!0,!(e.animating||e.autoplay.paused)&&C(!0))},b=J=>{J.pointerType==="mouse"&&(R=!1,e.autoplay.paused&&I())},ie=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",N),e.el.addEventListener("pointerleave",b))},le=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",N),e.el.removeEventListener("pointerleave",b))},ce=()=>{hr().addEventListener("visibilitychange",A)},me=()=>{hr().removeEventListener("visibilitychange",A)};r("init",()=>{e.params.autoplay.enabled&&(ie(),ce(),j())}),r("destroy",()=>{le(),me(),e.autoplay.running&&P()}),r("_freeModeStaticRelease",()=>{(x||D)&&I()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?P():C(!0,!0)}),r("beforeTransitionStart",(J,ae,oe)=>{e.destroyed||!e.autoplay.running||(oe||!e.params.autoplay.disableOnInteraction?C(!0,!0):P())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){P();return}M=!0,x=!1,D=!1,V=setTimeout(()=>{D=!0,x=!0,C(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!M)){if(clearTimeout(V),clearTimeout(u),e.params.autoplay.disableOnInteraction){x=!1,M=!1;return}x&&e.params.cssMode&&I(),x=!1,M=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(O=!0)}),Object.assign(e.autoplay,{start:j,stop:P,pause:C,resume:I})}function QN(){const[n,e]=U.useState(null),[t,r]=U.useState(""),[s,a]=U.useState(Fe),[u,h]=U.useState(!1),[f,p]=U.useState(!1),y=U.useRef(null),w=vr(),T=async V=>{const O=Es(Gn(_t,"reviews"),Il("storeId","==",V)),R=(await Oi(O)).docs.map(Q=>Q.data()),L=R.reduce((Q,K)=>Q+(K.star||0),0),$=R.length?L/R.length:0;return{average:Number($.toFixed(1)),count:R.length}},[M,x]=U.useState({});return U.useEffect(()=>{(async()=>{const O={};for(let D=0;D<Fe.length;D++){const R=`store${D+1}`,L=await T(R);O[R]=L}x(O)})()},[]),U.useEffect(()=>{const V=document.createElement("script");V.src="https://dapi.kakao.com/v2/maps/sdk.js?autoload=false&appkey=d65716a4db9e8a93aaff1dfc09ee36b8",V.onload=()=>{window.kakao.maps.load(()=>{const O=document.getElementById("map");if(!O)return;const D=new window.kakao.maps.Map(O,{center:new window.kakao.maps.LatLng(35.413,128.123),level:4});if(y.current=D,s.forEach(R=>{const L=new window.kakao.maps.LatLng(R.lat,R.lng),$=new window.kakao.maps.Marker({position:L,map:D,title:R.name});window.kakao.maps.event.addListener($,"click",()=>{e(R),D.setLevel(1),D.panTo(L)});const Q=document.createElement("div");Q.id=`store-label-${R.name}`,Q.innerText=R.name,Q.style.cssText=`
            cursor: pointer;
            padding: 6px 14px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
            font-size: 13px;
            font-weight: 500;
            color: #333;
            white-space: nowrap;
            border: 1px solid #ddd;
          `,Q.onclick=()=>{e(R)};const K=new window.kakao.maps.CustomOverlay({position:L,content:Q,yAnchor:1.5});requestAnimationFrame(()=>{K.setMap(D)})}),s.length===1){const R=s[0];D.setCenter(new window.kakao.maps.LatLng(R.lat,R.lng)),D.setLevel(3)}})},document.head.appendChild(V)},[u,s]),U.useEffect(()=>{if(!u)return;const V=document.getElementById("map");if(!V)return;console.log("map container:",V);const O=new window.kakao.maps.Map(V,{center:new window.kakao.maps.LatLng(35.413,128.123),level:4});if(y.current=O,s.forEach(D=>{const R=new window.kakao.maps.Marker({map:O,position:new window.kakao.maps.LatLng(D.lat,D.lng),title:D.name});window.kakao.maps.event.addListener(R,"click",()=>{e(D)})}),s.length>0){const D=s[0];O.setCenter(new window.kakao.maps.LatLng(D.lat,D.lng)),O.setLevel(3)}},[u,s]),U.useEffect(()=>{const V=O=>{const D=document.querySelector(".map-gallery-searchbar"),R=document.getElementById("map"),L=document.querySelector(".map-gallery-map-container"),$=O.target;D&&!D.contains($)&&R&&!R.contains($)&&L&&!L.contains($)&&h(!1)};return document.addEventListener("mousedown",V),()=>document.removeEventListener("mousedown",V)},[]),_.jsxs("div",{className:"map-gallery-wrapper",children:[_.jsxs("div",{className:"map-gallery-inner",children:[_.jsxs("div",{className:"map-gallery-swiper-container",children:[_.jsx(Zp,{className:"map-gallery-swiper",modules:[gE,KN,vE],navigation:!0,pagination:{clickable:!0},autoplay:{delay:2e3},loop:!0,children:["대가1호점","미로식육식당","태영식육식당"].map((V,O)=>_.jsx(em,{children:_.jsx("img",{src:`/SAMGA-V2/img/landing/${V}_1.jpg`,alt:V,className:"map-gallery-slide-img"})},O))}),_.jsxs("div",{className:"map-gallery-searchbar",children:[_.jsx("button",{className:"search-icon-button",onClick:()=>{if(t.trim()==="")a(Fe),e(null);else{const V=Fe.filter(O=>O.name.includes(t));a(V),e(V[0]??null)}},children:_.jsx("img",{src:"/SAMGA-V2/img/logo/search.svg",alt:"검색 아이콘",className:"search-icon-img"})}),_.jsx("input",{type:"text",value:t,placeholder:"내가 찾는 식당을 검색해보세요.",onFocus:()=>h(!0),onChange:V=>{const O=V.target.value;if(r(O),O.trim()==="")a(Fe),e(null);else{const D=Fe.filter(R=>R.name.includes(O));a(D),e(D[0]??null)}},onKeyDown:V=>{if(V.key==="Enter"){const O=Fe.filter(D=>D.name.includes(t));a(O),e(O[0]??null)}}})]})]}),u&&_.jsxs("div",{className:"map-gallery-map-container",children:[n&&(()=>{var R;const V=Fe.findIndex(L=>L.name===n.name);if(V===-1)return null;const O=`store${V+1}`,D=M[O];return _.jsxs("div",{className:"map-gallery-info-card",children:[_.jsxs("div",{className:"info-header",children:[_.jsxs("h3",{className:"store-name",children:[n.name,_.jsxs("span",{className:"rating",children:[[...Array(5)].map((L,$)=>{const Q=$+1;let K="";return(D==null?void 0:D.average)>=Q?K="/SAMGA-V2/img/icon/단골등록해제.svg":(D==null?void 0:D.average)+.5>=Q?K="/SAMGA-V2/img/icon/반쪽자리별.svg":K="/SAMGA-V2/img/icon/단골등록.svg",_.jsx("img",{src:K,alt:"별점",className:"star-icon",style:{width:16,height:16}},$)}),_.jsxs("span",{className:"review-score",children:[((R=D==null?void 0:D.average)==null?void 0:R.toFixed(1))||"0.0","점"]}),_.jsxs("span",{className:"review-count",children:["(",(D==null?void 0:D.count)||0,"개 리뷰)"]})]})]}),_.jsxs("div",{className:"menu-links",children:[_.jsx("span",{className:"link",onClick:()=>w("/review"),children:"Review"}),_.jsx("span",{className:"divider",children:"|"}),_.jsx("a",{href:"#",className:"link",children:"메뉴보기"})]})]}),_.jsxs("p",{className:"store-detail",children:[_.jsx("span",{className:"label",children:"주소 :"})," ",n.address," T. ",_.jsx("b",{children:n.phone})]}),_.jsxs("p",{className:"store-detail",children:[_.jsx("span",{className:"label",children:"영업시간 :"})," ",n.hours.split("/")[0],n.point&&_.jsxs("span",{className:"point",children:[" ※ ",n.point]})]}),_.jsxs("p",{className:"store-detail",children:[_.jsx("span",{className:"label",children:"휴무 :"})," ",n.hours.split("/")[1].replace("휴무","")]}),_.jsxs("div",{className:"map-footer-links",children:[_.jsx("a",{href:`https://map.kakao.com/link/to/${n.name},${n.lat},${n.lng}`,target:"_blank",rel:"noopener noreferrer",className:"map-link",children:"길찾기"}),_.jsx("span",{className:"divider",children:"/"}),_.jsx("button",{className:"map-link",onClick:()=>w(`/store/${encodeURIComponent(n.name)}`),children:"상세페이지로 가기"})]})]})})(),_.jsx("div",{id:"map"})]})]}),_.jsx("div",{className:"map-gallery-pattern"}),_.jsx("div",{className:"map-gallery-bottom"})]})}const YN=[{src:"/SAMGA-V2/img/banner/banner5.png",caption:`좋은사람과 같이 걷기 좋은 
 삼가특화거리-소화잘되는 길`,link:"https://blog.naver.com/hc-urc/222571944010"},{src:"/SAMGA-V2/img/banner/banner4.png",caption:`4계절 각기다른 멋! 황매산 군립공원 
 공식사이트 바로가기`,link:"https://www.hc.go.kr/09418/09425/09833.web"},{src:"/SAMGA-V2/img/banner/banner3.png",caption:`생명의 아름다운 멋으로 가득한 정양늪 
 공식사이트 바로가기`,link:"https://www.youtube.com/watch?v=DjprccTSapc"},{src:"/SAMGA-V2/img/banner/banner2.png",caption:`삼가의 멋-삼가시장 
합천 공식유튜브 바로가기`,link:"https://www.youtube.com/watch?v=ZLch32VzUb0"},{src:"/SAMGA-V2/img/banner/banner1.png",caption:`영화같은일상 합천영상테마파크 
 공식사이트 바로가기`,link:"https://hcmoviethemepark.com/"}];function XN(n){const e=[...n];for(let t=e.length-1;t>0;t--){const r=Math.floor(Math.random()*(t+1));[e[t],e[r]]=[e[r],e[t]]}return e}function JN(){const n=window.innerWidth<=768,e=vr(),t=s=>{e(`/store/${encodeURIComponent(s)}`)},r=U.useMemo(()=>XN(Fe),[]);return _.jsxs("div",{className:"storelist-landing",children:[_.jsxs("div",{className:"landing-video-wrapper",children:[_.jsx("img",{src:"/SAMGA-V2/img/logo/videologo.svg",alt:"삼가한우로고",className:"landing-logo"}),_.jsx("iframe",{src:"https://drive.google.com/file/d/1WF-K2Nu6Jer87imLhWAyKXeWraxIkvVP/preview",width:"85%",height:"400px",frameBorder:"0",style:{borderRadius:"12px",padding:"110px 0 0"},allow:"autoplay; encrypted-media",allowFullScreen:!0})]}),_.jsxs("div",{className:"landing-text",children:[_.jsx("img",{src:"/SAMGA-V2/img/logo/tasty.svg",alt:"tasty",className:"tasty"}),_.jsxs("h2",{className:"landing-title",children:["삼가에선 한우가 일상,",_.jsx("br",{}),"매일 특별한 고기 한 끼"]}),_.jsx("hr",{className:"landing-divider"}),_.jsx("p",{className:"landing-tagline",children:"KOREAN BEEF VILLAGE SAMGA"})]}),_.jsxs("div",{className:"store-card-grid",children:[r.map((s,a)=>{const u=[0,50,10][a%3];return _.jsxs("div",{className:"store-card-wrapper",children:[_.jsxs("h3",{className:"store-title",style:{transform:n?"":`translateY(${u}px)`,display:"flex",alignItems:"center",gap:"8px"},children:[_.jsx("img",{src:"/SAMGA-V2/img/logo/제목옆아이콘.svg",alt:"아이콘",style:{width:"18px",height:"18px",objectFit:"contain"}}),s.name]}),_.jsxs("div",{className:"store-card",style:{transform:n?"":`translateY(${u}px)`},onClick:()=>t(s.name),children:[_.jsx("img",{src:s.image,alt:s.name,className:"store-card-image"}),_.jsxs("div",{className:`store-card-textbox ${s.name==="대가식육식당"?"center-text":""}`,children:[_.jsx("h3",{className:"store-desc",children:s.slogan}),s.slogan2&&_.jsx("p",{className:"store-subdesc",children:s.slogan2}),_.jsx("button",{className:"store-button",children:"자세히 보기"})]})]})]})}),_.jsxs("div",{className:"store-card-wrapper",children:[_.jsxs("h3",{className:"store-title",style:{display:"flex",alignItems:"center",gap:"8px"},children:[_.jsx("img",{src:"/SAMGA-V2/img/logo/제목옆아이콘.svg",alt:"아이콘",style:{width:"18px",height:"18px",objectFit:"contain"}}),"牛리마을"]}),_.jsx("div",{className:"store-card",children:_.jsx("img",{src:"/SAMGA-V2/samga/store/소탈이.jpg",alt:"소탈이",className:"store-card-image"})})]})]}),_.jsxs("div",{className:"banner-wrapper",children:[_.jsxs("div",{className:"banner-title-area",children:[_.jsx("img",{src:"/SAMGA-V2/img/logo/bannerlogo.svg",alt:"타이틀로고",className:"slogan-img"}),_.jsxs("div",{className:"banner-subtitle",children:[_.jsx("span",{className:"bolder",children:"맛!"}),"있는",_.jsx("span",{className:"bolder",children:"멋!"}),"있는 좋은",_.jsx("span",{className:"bolder",children:"사람"}),"과"]}),_.jsx("div",{className:"banner-title",children:"가볼만한 곳?"})]}),_.jsx(Zp,{modules:[gE,vE],pagination:{clickable:!1},autoplay:{delay:2e3},loop:!0,spaceBetween:20,slidesPerView:2,breakpoints:{768:{slidesPerView:4}},className:"banner-swiper",children:YN.map((s,a)=>_.jsx(em,{className:"banner-slide",children:_.jsxs("a",{href:s.link,target:"_blank",rel:"noopener noreferrer",className:"banner-link",children:[_.jsx("img",{src:s.src,alt:`배너${a+1}`,className:"banner-img"}),_.jsx("div",{className:"banner-hover-caption",children:_.jsx("p",{children:s.caption})})]})},a))})]})]})}function ZN(){return _.jsxs(_.Fragment,{children:[_.jsx("section",{children:_.jsx(QN,{})}),_.jsx("section",{style:{marginTop:"-280px",position:"relative",zIndex:10},children:_.jsx(JN,{})})]})}const i_=[{label:"주차장",key:"주차장"},{label:"남여 화장실 구분",key:"남여화장실구분"},{label:"예약 가능",key:"예약가능"},{label:"단체 이용.예약 가능",key:"단체이용예약가능"},{label:"무료 WIFI",key:"무료wifi"},{label:"유아의자",key:"유아의자"},{label:"일반 식사 메뉴",key:"일반식사메뉴"},{label:"주문 배송",key:"주문배송"},{label:"포장가능",key:"포장가능"},{label:"제로페이",key:"제로페이"}];function eb(){const[n,e]=U.useState([]),[t,r]=U.useState([]),[s,a]=U.useState(null),[u,h]=U.useState(!1),f=window.innerWidth<=1200,p=U.useRef(null),y=U.useRef([]),w=U.useRef([]),T=vr(),M=f?"mobileMap":"filterMap",[x,V]=U.useState("120px"),[O,D]=U.useState({}),[R,L]=U.useState(""),$=async C=>{const I=Es(Gn(_t,"reviews"),Il("storeId","==",C)),N=(await Oi(I)).docs.map(le=>le.data()),b=N.reduce((le,ce)=>le+(ce.star||0),0),ie=N.length?b/N.length:0;return{average:Number(ie.toFixed(1)),count:N.length}};U.useEffect(()=>{const C=()=>{window.innerWidth<=1600?V("0px"):V("120px")};return C(),window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[]),U.useEffect(()=>{const C=n.length===0?Fe:Fe.filter(I=>n.every(A=>{var N;return(N=I.options)==null?void 0:N.includes(A)}));r(C)},[n]),U.useEffect(()=>{const C=document.createElement("script");C.src="https://dapi.kakao.com/v2/maps/sdk.js?autoload=false&appkey=d65716a4db9e8a93aaff1dfc09ee36b8",C.onload=()=>{window.kakao.maps.load(()=>{const I=document.getElementById(M);if(!I)return;const A=new window.kakao.maps.Map(I,{center:new window.kakao.maps.LatLng(35.413,128.123),level:4});p.current=A,Q(n.length===0?Fe:t),setTimeout(()=>{window.kakao.maps.event.trigger(A,"resize")},200)})},document.head.appendChild(C)},[u,t]);const Q=C=>{const I=p.current;I&&(y.current.forEach(A=>A.setMap(null)),w.current.forEach(A=>A.setMap(null)),y.current=[],w.current=[],C.forEach(A=>{const N=new window.kakao.maps.LatLng(A.lat,A.lng),b=new window.kakao.maps.Marker({position:N,map:I});y.current.push(b);const ie=document.createElement("div");ie.innerText=A.name,ie.addEventListener("click",()=>{a(ce=>(ce==null?void 0:ce.name)===A.name?null:A)}),ie.style.cssText="padding:6px 12px; background:white; border-radius:8px; font-size:13px; font-weight:bold; color:#333; box-shadow:0 2px 6px rgba(0,0,0,0.2); border:1px solid #ddd; white-space:nowrap; cursor:pointer; text-align:center;";const le=new window.kakao.maps.CustomOverlay({position:N,content:ie,yAnchor:1.5});le.setMap(I),w.current.push(le)}))},K=C=>{e(I=>I.includes(C)?I.filter(A=>A!==C):[...I,C])},[j,P]=U.useState({});return U.useEffect(()=>{(async()=>{const I={};for(let A=0;A<Fe.length;A++){const N=`store${A+1}`,b=await $(N);I[N]=b}P(I)})()},[]),_.jsx("div",{children:f?_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"mobile-search-wrapper",children:_.jsxs("div",{className:"mobile-search-bar",children:[_.jsx("button",{className:"search-icon-button",onClick:()=>{if(R.trim()==="")r(Fe),a(null);else{const C=Fe.filter(I=>I.name.includes(R));r(C),a(C[0]??null)}},children:_.jsx("img",{src:"/SAMGA-V2/img/logo/search.svg",alt:"검색 아이콘"})}),_.jsx("input",{type:"text",value:R,className:"search-input",placeholder:"내가 찾는 식당을 검색해보세요.",onFocus:()=>h(!0),onChange:C=>{const I=C.target.value;if(L(I),I.trim()==="")r(Fe),a(null);else{const A=Fe.filter(N=>N.name.includes(I));r(A),a(A[0]??null)}},onKeyDown:C=>{if(C.key==="Enter"){const I=Fe.filter(A=>A.name.includes(R));r(I),a(I[0]??null)}}})]})}),_.jsxs("div",{className:"mobile-filter-bar",children:[_.jsx("button",{onClick:()=>h(!u),className:"toggle-map-button",children:_.jsx("img",{src:"/SAMGA-V2/img/icon/map.svg",width:"15px"})}),i_.map(({label:C,key:I})=>_.jsxs("button",{onClick:()=>K(I),className:`filter-button ${n.includes(I)?"active":""}`,children:[C," ",n.includes(I)&&_.jsx("span",{className:"remove-x",children:"×"})]},I))]}),u&&_.jsxs("div",{className:"mobile-map-wrapper",children:[_.jsx("div",{id:"mobileMap",className:"mobile-map"}),s&&_.jsxs("div",{className:"mobile-map-store-card",children:[_.jsxs("div",{className:"store-card-header",children:[_.jsx("h3",{children:s.name}),_.jsx("button",{onClick:()=>h(!1),className:"close-button",children:"✖"})]}),_.jsx("p",{className:"store-address",children:s.address}),_.jsx("p",{className:"store-phone",children:s.phone}),_.jsx("a",{href:`https://map.kakao.com/link/to/${s.name},${s.lat},${s.lng}`,target:"_blank",rel:"noopener noreferrer",className:"map-link",children:"길찾기"})]})]}),_.jsxs("div",{className:"mobile-store-list",children:[t.map((C,I)=>{var b;const A=`store${I+1}`,N=j[A];return _.jsxs("div",{className:"mobile-store-item",onClick:()=>T(`/store/${encodeURIComponent(C.name)}`),children:[_.jsxs("div",{className:"store-item-header",children:[_.jsx("img",{src:C.image||"/SAMGA-V2/img/default.jpg",alt:C.name,className:"store-thumbnail"}),_.jsxs("div",{className:"store-info-text",children:[_.jsx("h3",{className:"store-name",children:C.name}),_.jsxs("div",{className:"store-stars",children:[[...Array(5)].map((ie,le)=>{const ce=le+1;let me="";return((N==null?void 0:N.average)??0)>=ce?me="/SAMGA-V2/img/icon/단골등록해제.svg":((N==null?void 0:N.average)??0)+.25>=ce?me="/SAMGA-V2/img/icon/반쪽자리별.svg":me="/SAMGA-V2/img/icon/단골등록.svg",_.jsx("img",{src:me,alt:"별",className:"star-icon"},le)}),_.jsxs("span",{className:"review-star-value",children:[((N==null?void 0:N.average)??0).toFixed(1),"점"]})]}),_.jsxs("span",{className:"review-count",children:["(",(N==null?void 0:N.count)||0," 리뷰)"]}),_.jsx("p",{className:"store-address",children:C.address}),_.jsx("p",{className:"store-phone",children:C.phone})]})]}),((b=C.options)==null?void 0:b.length)>0&&_.jsxs("div",{className:"option-list",children:[(O[C.name]?C.options:C.options.slice(0,3)).map(ie=>_.jsxs("span",{className:"option-tag",children:["#",ie]},ie)),C.options.length>3&&_.jsx("button",{className:"toggle-options-button",onClick:ie=>{ie.stopPropagation(),D(le=>({...le,[C.name]:!le[C.name]}))},children:O[C.name]?"간략히 ▲":"더보기 ▼"})]})]},C.name)}),s&&_.jsxs("div",{className:"popup-store-card",children:[_.jsxs("div",{className:"card-header",children:[_.jsx("h3",{className:"store-name",children:s.name}),_.jsx("button",{onClick:()=>a(null),className:"close-button",children:"✖"})]}),_.jsx("p",{className:"store-address",children:s.address}),_.jsx("p",{className:"store-phone",children:s.phone}),_.jsx("a",{href:`https://map.kakao.com/link/to/${s.name},${s.lat},${s.lng}`,target:"_blank",rel:"noopener noreferrer",className:"map-link",children:"길찾기"})]})]})]}):_.jsx(_.Fragment,{children:_.jsxs("div",{className:"pc-wrapper",children:[_.jsx("div",{className:"pc-search-wrapper",children:_.jsxs("div",{className:"pc-search-bar",children:[_.jsx("button",{className:"search-icon-button-fillter",onClick:()=>{if(R.trim()==="")r(Fe),a(null);else{const C=Fe.filter(I=>I.name.includes(R));r(C),a(C[0]??null)}},children:_.jsx("img",{src:"/SAMGA-V2/img/logo/search.svg",alt:"검색 아이콘"})}),_.jsx("input",{type:"text",value:R,placeholder:"내가 찾는 식당을 검색해보세요.",className:"search-input",onFocus:()=>h(!0),onChange:C=>{const I=C.target.value;if(L(I),I.trim()==="")r(Fe),a(null);else{const A=Fe.filter(N=>N.name.includes(I));r(A),a(A[0]??null)}},onKeyDown:C=>{if(C.key==="Enter"){const I=Fe.filter(A=>A.name.includes(R));r(I),a(I[0]??null)}}})]})}),_.jsx("hr",{className:"search-divider"}),_.jsx("div",{className:"pc-filter-bar",children:i_.map(({label:C,key:I})=>_.jsxs("button",{onClick:()=>K(I),className:`filter-button ${n.includes(I)?"active":""}`,children:[C," ",n.includes(I)&&_.jsx("span",{className:"remove-x",children:"×"})]},I))}),_.jsxs("div",{className:"pc-main-layout",style:{padding:`0 ${x}`},children:[_.jsx("div",{className:"pc-store-list",children:t.map((C,I)=>{var b;const A=`store${I+1}`,N=j[A];return _.jsxs("div",{className:"pc-store-item",children:[_.jsxs("div",{className:"pc-store-item-header",onClick:()=>T(`/store/${encodeURIComponent(C.name)}`),children:[_.jsx("img",{src:C.image||"/SAMGA-V2/img/default.jpg",alt:C.name,className:"store-thumbnail"}),_.jsxs("div",{className:"store-info-text",children:[_.jsx("h3",{className:"store-name",children:C.name}),_.jsxs("div",{className:"rating-review",children:[_.jsxs("div",{className:"store-stars",children:[[...Array(5)].map((ie,le)=>{const ce=le+1;let me="";return((N==null?void 0:N.average)??0)>=ce?me="/SAMGA-V2/img/icon/단골등록해제.svg":((N==null?void 0:N.average)??0)+.25>=ce?me="/SAMGA-V2/img/icon/반쪽자리별.svg":me="/SAMGA-V2/img/icon/단골등록.svg",_.jsx("img",{src:me,alt:"별",className:"star-icon"},le)}),_.jsxs("span",{className:"review-star-value",children:[((N==null?void 0:N.average)??0).toFixed(1),"점"]})]}),_.jsxs("span",{className:"review-count",children:["(",(N==null?void 0:N.count)||0," 리뷰)"]})]}),_.jsxs("p",{className:"store-address",children:[_.jsx("strong",{children:"주소:"})," ",C.address]}),_.jsxs("p",{className:"store-phone",children:[_.jsx("strong",{children:"T."})," ",C.phone]})]})]}),((b=C.options)==null?void 0:b.length)>0&&_.jsxs("div",{className:"option-list",children:[(O[C.name]?C.options:C.options.slice(0,5)).map(ie=>_.jsxs("span",{className:"option-tag",children:["#",ie]},ie)),C.options.length>5&&_.jsx("button",{className:"toggle-options-button",onClick:ie=>{ie.stopPropagation(),D(le=>({...le,[C.name]:!le[C.name]}))},children:O[C.name]?"간략히 ▲":"더보기 ▼"})]})]},C.name)})}),_.jsxs("div",{className:"pc-map-wrapper",children:[_.jsx("div",{id:"filterMap",className:"pc-map"}),s&&_.jsxs("div",{className:"popup-store-card",children:[_.jsxs("div",{className:"card-header",children:[_.jsx("h3",{className:"store-name",children:s.name}),_.jsx("button",{className:"close-button",onClick:()=>a(null),children:"✖"})]}),_.jsx("p",{className:"store-address",children:s.address}),_.jsx("p",{className:"store-phone",children:s.phone}),_.jsx("a",{href:`https://map.kakao.com/link/to/${s.name},${s.lat},${s.lng}`,target:"_blank",rel:"noopener noreferrer",className:"map-link",children:"길찾기"})]})]})]})]})})})}function tb(){const[n,e]=U.useState(""),[t,r]=U.useState(""),[s,a]=U.useState(""),u=vr(),[h,f]=U.useState(0),p=Fe.map((w,T)=>({name:w.name,id:`store${T+1}`})),y=async w=>{w.preventDefault();const T=Kn.currentUser;if(!T){alert("로그인이 필요합니다.");return}const M=await Cs($r(_t,"users",T.uid)),x=M.exists()?M.data().nickname:"알 수 없음";try{await X0(Gn(_t,"reviews"),{title:n,content:t,star:h,userId:T.uid,nickname:x,storeId:s,createdAt:J0()}),alert("리뷰 저장 완료!"),u("/review")}catch(V){console.error("리뷰 저장 실패:",V),alert("저장 중 오류가 발생했습니다.")}};return _.jsxs("div",{className:"review-write-page",children:[_.jsx("h2",{children:"리뷰 쓰기"}),_.jsxs("form",{onSubmit:y,children:[_.jsxs("div",{className:"store-select-row",children:[_.jsx("label",{htmlFor:"store-select",children:"가게 선택:"}),_.jsxs("select",{id:"store-select",value:s,onChange:w=>a(w.target.value),className:"review-input",required:!0,children:[_.jsx("option",{value:"",disabled:!0,children:" - 가게를 선택해주세요 - "}),p.map(w=>_.jsx("option",{value:w.id,children:w.name},w.id))]})]}),_.jsxs("div",{className:"star-rating",children:[[...Array(5)].map((w,T)=>{const M=(T+1)*1;let x="";return h>=M?x="/SAMGA-V2/img/icon/단골등록해제.svg":x="/SAMGA-V2/img/icon/단골등록.svg",_.jsx("img",{src:x,alt:`${M}점`,className:"star-svg",onClick:()=>f(M),style:{width:"24px",height:"24px",cursor:"pointer"}},T)}),_.jsxs("span",{className:"star-value",children:[h,"점"]})]}),_.jsx("input",{type:"text",placeholder:"제목",value:n,onChange:w=>e(w.target.value),className:"review-input",required:!0}),_.jsx("textarea",{placeholder:"내용",value:t,onChange:w=>r(w.target.value),className:"review-textarea",required:!0}),_.jsx("div",{className:"review-submit-wrapper",children:_.jsx("button",{type:"submit",className:"review-submit-button",children:"리뷰 저장"})})]})]})}const nb=n=>{const e=parseInt(n.replace("store",""));return Fe[e-1]};function rb(){const[n,e]=U.useState([]),[t,r]=U.useState(null),[s,a]=U.useState("all"),[u,h]=U.useState(!1),f=vr(),[p,y]=U.useState(""),[w,T]=U.useState({}),[M,x]=U.useState({}),[V,O]=U.useState(""),[D,R]=U.useState({}),L=async(K=!1)=>{let j=Es(Gn(_t,"reviews"),Ky("createdAt","desc"),Qy(20)),P=s;if(s!=="all"){const N=Fe.findIndex(b=>b.name===s);if(N!==-1)P=`store${N+1}`;else{console.error("해당 가게 이름이 storeData에 없습니다.");return}j=Es(Gn(_t,"reviews"),Il("storeId","==",P),Ky("createdAt","desc"),Qy(20))}!K&&t&&(j=Es(j,ak(t)));const C=await Oi(j),I=C.docs.map(N=>({id:N.id,...N.data()}));e(K?I:N=>[...N,...I]),I.forEach(N=>{Q(N.id)}),C.docs.length<20&&h(!0);const A=C.docs[C.docs.length-1];r(A)};U.useEffect(()=>{(async()=>{e([]),r(null),h(!1),await L(!0)})()},[s]),U.useEffect(()=>{(async()=>{const j=Kn.currentUser;if(!j)return;const P=$r(_t,"users",j.uid),C=await Cs(P);if(C.exists()){const I=C.data();y(I.role),O(I.storeId)}})()},[]);const $=async K=>{var A;const j=Kn.currentUser;if(!j)return alert("로그인 필요");const P=$r(_t,"users",j.uid),C=await Cs(P),I=C.exists()?C.data().nickname:"알 수 없음";if(!((A=w[K])!=null&&A.trim()))return alert("내용을 입력해주세요.");await X0(Gn(_t,"reviews",K,"comments"),{content:w[K],createdAt:J0(),nickname:I,userId:j.uid}),alert("답글이 등록되었습니다!"),T(N=>({...N,[K]:""})),x(N=>({...N,[K]:!1}))},Q=async K=>{const P=(await Oi(Gn(_t,"reviews",K,"comments"))).docs.map(C=>({id:C.id,...C.data()}));R(C=>({...C,[K]:P}))};return _.jsxs("div",{className:"review-list-page",children:[_.jsxs("div",{className:"review-list-header",children:[_.jsx("h2",{className:"review-title",children:"리뷰 목록"}),_.jsxs("select",{value:s,onChange:K=>a(K.target.value),className:"store-filter-dropdown",children:[_.jsx("option",{value:"all",children:"전체 보기"}),Fe.map((K,j)=>_.jsx("option",{value:K.name,children:K.name},j))]})]}),n.length===0&&_.jsx("p",{className:"no-review",children:"작성된 리뷰가 아직 없어요!"}),_.jsx("div",{className:"review-list-grid",children:n.map(K=>{var P,C;const j=nb(K.storeId);return _.jsxs("div",{className:"review-card",children:[j&&_.jsxs("div",{className:"store-info",children:[_.jsx("img",{src:j.logo,alt:`${j.name} 로고`,className:"store-logo"}),_.jsx("p",{className:"store-name",children:j.name}),_.jsxs("div",{className:"review-stars",children:[[...Array(5)].map((I,A)=>{const N=A+1;let b="";return K.star>=N?b="/SAMGA-V2/img/icon/단골등록해제.svg":K.star+.5>=N?b="/SAMGA-V2/img/icon/반쪽자리별.svg":b="/SAMGA-V2/img/icon/단골등록.svg",_.jsx("img",{src:b,alt:"별점",className:"star-icon"},A)}),_.jsxs("span",{className:"review-star-value",children:[(K.star??0).toFixed(1),"점"]})]})]}),_.jsxs("div",{className:"review-content",children:[_.jsx("h3",{children:K.title}),_.jsx("p",{children:K.content})]}),_.jsxs("div",{className:"review-meta",children:[_.jsxs("span",{className:"review-nickname",children:["작성자: ",K.nickname]}),_.jsx("span",{className:"review-date",children:((P=K.createdAt)==null?void 0:P.toDate().toLocaleString())||"작성일 없음"})]}),(C=D[K.id])==null?void 0:C.map(I=>{var A;return _.jsxs("div",{className:"comment-item",children:[_.jsx("div",{className:"comment-nickname",children:I.nickname}),_.jsx("div",{className:"comment-content",children:I.content}),_.jsx("div",{className:"comment-date",children:(A=I.createdAt)==null?void 0:A.toDate().toLocaleString()})]},I.id)}),p==="owner"&&V===K.storeId&&_.jsx("div",{className:"reply-toggle",children:M[K.id]?_.jsxs("div",{className:"reply-form",children:[_.jsx("textarea",{className:"reply-textarea",placeholder:"답글을 입력하세요",value:w[K.id]||"",onChange:I=>T(A=>({...A,[K.id]:I.target.value}))}),_.jsx("div",{className:"reply-submit",children:_.jsx("button",{onClick:()=>$(K.id),children:"등록"})})]}):_.jsx("button",{onClick:()=>x(I=>({...I,[K.id]:!0})),children:"답글 달기"})})]},K.id)})}),!u&&_.jsx("button",{className:"load-more-button",onClick:()=>L(),children:"더보기"}),_.jsx("button",{className:"write-review-fixed",onClick:()=>f("/write"),children:"리뷰 쓰기"})]})}function ib(){const[n,e]=U.useState(""),[t,r]=U.useState(""),[s,a]=U.useState(""),[u,h]=U.useState(""),[f,p]=U.useState(""),[y,w]=U.useState(""),[T,M]=U.useState(""),x=D=>{/^01[016789]-\d{3,4}-\d{4}$/.test(D)?p(""):p("전화번호 형식이 올바르지 않습니다. (예: 010-1234-5678)")},V=async D=>{D.preventDefault(),w(""),M("");try{const L=(await OA(Kn,n,t)).user;await Y0($r(_t,"users",L.uid),{email:n,nickname:s,phone:u,role:"user",createdAt:new Date}),await FA(L),M("회원가입이 완료되었습니다! 이메일을 확인해주세요."),e(""),r(""),a(""),h("")}catch(R){R.code==="auth/email-already-in-use"?w("이미 가입된 이메일입니다."):R.code==="auth/invalid-email"?w("이메일 형식이 올바르지 않습니다."):R.code==="auth/weak-password"?w("비밀번호는 6자리 이상이어야 합니다."):w("회원가입 중 오류가 발생했습니다.")}},O=D=>{const R=D.replace(/\D/g,"");return R.length<4?R:R.length<7?`${R.slice(0,3)}-${R.slice(3)}`:R.length<=11?`${R.slice(0,3)}-${R.slice(3,7)}-${R.slice(7)}`:R};return _.jsx("div",{className:"signup-page",children:_.jsxs("div",{className:"signup-wrapper",children:[_.jsx("h2",{children:"회원가입"}),_.jsxs("form",{onSubmit:V,children:[_.jsx("input",{type:"text",placeholder:"닉네임",value:s,onChange:D=>a(D.target.value),required:!0}),_.jsx("br",{}),_.jsx("input",{type:"email",placeholder:"이메일",value:n,onChange:D=>e(D.target.value),required:!0}),_.jsx("br",{}),_.jsx("input",{type:"password",placeholder:"비밀번호",value:t,onChange:D=>r(D.target.value),required:!0}),_.jsx("br",{}),_.jsx("input",{type:"text",placeholder:"전화번호 (예: 010-1234-5678)",value:u,onChange:D=>{const R=O(D.target.value);h(R),x(R)},required:!0}),_.jsx("br",{}),f&&_.jsx("p",{style:{color:"red"},children:f}),_.jsx("button",{type:"submit",children:"회원가입"})]}),y&&_.jsx("p",{style:{color:"red"},children:y}),T&&_.jsx("p",{style:{color:"green"},children:T})]})})}function sb(){const[n,e]=U.useState(""),[t,r]=U.useState(""),[s,a]=U.useState(""),u=vr(),h=async f=>{f.preventDefault(),a("");try{await jA(Kn,n,t),u("/")}catch{a("이메일 또는 비밀번호가 올바르지 않습니다.")}};return U.useEffect(()=>{const f=Kn.currentUser;f&&!f.emailVerified&&(alert("이메일 인증을 완료해주세요."),u("/"))},[]),_.jsx("div",{className:"signup-page",children:_.jsxs("div",{className:"signup-wrapper",children:[_.jsx("h2",{children:"로그인"}),_.jsxs("form",{onSubmit:h,children:[_.jsx("input",{type:"email",placeholder:"이메일",value:n,onChange:f=>e(f.target.value),required:!0}),_.jsx("br",{}),_.jsx("input",{type:"password",placeholder:"비밀번호",value:t,onChange:f=>r(f.target.value),required:!0}),_.jsx("br",{}),_.jsx("button",{type:"submit",children:"로그인"})]}),s&&_.jsx("p",{style:{color:"red"},children:s})]})})}function ob(){var p;const{storeId:n}=m_(),[e,t]=U.useState(""),[r,s]=U.useState([]),[a,u]=U.useState(!1),h=parseInt((n||"").replace("store",""))-1,f=((p=Fe[h])==null?void 0:p.name)||n;return U.useEffect(()=>{(async()=>{const w=Kn.currentUser;if(!w)return;const T=await Cs($r(_t,"users",w.uid));if(!T.exists())return;const M=T.data();if(t(M.storeId||""),M.role==="owner"&&M.storeId===n){const x=await Oi(Gn(_t,"favorites",n,"users"));s(x.docs.map(V=>V.data()))}u(!0)})()},[n]),a?e!==n?_.jsx("p",{children:"해당 가게에 대한 접근 권한이 없습니다."}):_.jsxs("div",{className:"regular-wrapper",children:[_.jsxs("h2",{children:[f,"의 단골 목록"]}),_.jsx("ul",{children:r.map((y,w)=>_.jsxs("li",{children:[y.nickname," | ",y.phone]},w))})]}):_.jsx("p",{children:"로딩 중..."})}function ab(){return _.jsxs(HT,{basename:"/SAMGA-V2",children:[_.jsx(mk,{}),_.jsxs(ET,{children:[_.jsx(Lr,{path:"/signup",element:_.jsx(ib,{})}),_.jsx(Lr,{path:"/login",element:_.jsx(sb,{})}),_.jsx(Lr,{path:"/",element:_.jsx(ZN,{})}),_.jsx(Lr,{path:"/store/:name",element:_.jsx(_k,{})}),_.jsx(Lr,{path:"/storefilterpage",element:_.jsx(eb,{})}),_.jsx(Lr,{path:"/review",element:_.jsx(rb,{})}),_.jsx(Lr,{path:"/write",element:_.jsx(tb,{})}),_.jsx(Lr,{path:"/admin/:storeId",element:_.jsx(ob,{})})]}),_.jsx(gk,{})]})}kC.createRoot(document.getElementById("root")).render(_.jsx(ht.StrictMode,{children:_.jsx(ab,{})}));
