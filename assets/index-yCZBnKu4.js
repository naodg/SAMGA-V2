(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function m_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Xh={exports:{}},rl={},Jh={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv;function DC(){if(vv)return be;vv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function C(G){return G===null||typeof G!="object"?null:(G=w&&G[w]||G["@@iterator"],typeof G=="function"?G:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,L={};function O(G,Z,we){this.props=G,this.context=Z,this.refs=L,this.updater=we||N}O.prototype.isReactComponent={},O.prototype.setState=function(G,Z){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,Z,"setState")},O.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function M(){}M.prototype=O.prototype;function k(G,Z,we){this.props=G,this.context=Z,this.refs=L,this.updater=we||N}var V=k.prototype=new M;V.constructor=k,A(V,O.prototype),V.isPureReactComponent=!0;var $=Array.isArray,Q=Object.prototype.hasOwnProperty,J={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function b(G,Z,we){var Re,Ne={},Oe=null,ze=null;if(Z!=null)for(Re in Z.ref!==void 0&&(ze=Z.ref),Z.key!==void 0&&(Oe=""+Z.key),Z)Q.call(Z,Re)&&!j.hasOwnProperty(Re)&&(Ne[Re]=Z[Re]);var $e=arguments.length-2;if($e===1)Ne.children=we;else if(1<$e){for(var Ke=Array($e),St=0;St<$e;St++)Ke[St]=arguments[St+2];Ne.children=Ke}if(G&&G.defaultProps)for(Re in $e=G.defaultProps,$e)Ne[Re]===void 0&&(Ne[Re]=$e[Re]);return{$$typeof:n,type:G,key:Oe,ref:ze,props:Ne,_owner:J.current}}function T(G,Z){return{$$typeof:n,type:G.type,key:Z,ref:G.ref,props:G.props,_owner:G._owner}}function x(G){return typeof G=="object"&&G!==null&&G.$$typeof===n}function I(G){var Z={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(we){return Z[we]})}var P=/\/+/g;function R(G,Z){return typeof G=="object"&&G!==null&&G.key!=null?I(""+G.key):Z.toString(36)}function ne(G,Z,we,Re,Ne){var Oe=typeof G;(Oe==="undefined"||Oe==="boolean")&&(G=null);var ze=!1;if(G===null)ze=!0;else switch(Oe){case"string":case"number":ze=!0;break;case"object":switch(G.$$typeof){case n:case e:ze=!0}}if(ze)return ze=G,Ne=Ne(ze),G=Re===""?"."+R(ze,0):Re,$(Ne)?(we="",G!=null&&(we=G.replace(P,"$&/")+"/"),ne(Ne,Z,we,"",function(St){return St})):Ne!=null&&(x(Ne)&&(Ne=T(Ne,we+(!Ne.key||ze&&ze.key===Ne.key?"":(""+Ne.key).replace(P,"$&/")+"/")+G)),Z.push(Ne)),1;if(ze=0,Re=Re===""?".":Re+":",$(G))for(var $e=0;$e<G.length;$e++){Oe=G[$e];var Ke=Re+R(Oe,$e);ze+=ne(Oe,Z,we,Ke,Ne)}else if(Ke=C(G),typeof Ke=="function")for(G=Ke.call(G),$e=0;!(Oe=G.next()).done;)Oe=Oe.value,Ke=Re+R(Oe,$e++),ze+=ne(Oe,Z,we,Ke,Ne);else if(Oe==="object")throw Z=String(G),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return ze}function ie(G,Z,we){if(G==null)return G;var Re=[],Ne=0;return ne(G,Re,"","",function(Oe){return Z.call(we,Oe,Ne++)}),Re}function se(G){if(G._status===-1){var Z=G._result;Z=Z(),Z.then(function(we){(G._status===0||G._status===-1)&&(G._status=1,G._result=we)},function(we){(G._status===0||G._status===-1)&&(G._status=2,G._result=we)}),G._status===-1&&(G._status=0,G._result=Z)}if(G._status===1)return G._result.default;throw G._result}var fe={current:null},H={transition:null},te={ReactCurrentDispatcher:fe,ReactCurrentBatchConfig:H,ReactCurrentOwner:J};function oe(){throw Error("act(...) is not supported in production builds of React.")}return be.Children={map:ie,forEach:function(G,Z,we){ie(G,function(){Z.apply(this,arguments)},we)},count:function(G){var Z=0;return ie(G,function(){Z++}),Z},toArray:function(G){return ie(G,function(Z){return Z})||[]},only:function(G){if(!x(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},be.Component=O,be.Fragment=t,be.Profiler=s,be.PureComponent=k,be.StrictMode=r,be.Suspense=f,be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,be.act=oe,be.cloneElement=function(G,Z,we){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var Re=A({},G.props),Ne=G.key,Oe=G.ref,ze=G._owner;if(Z!=null){if(Z.ref!==void 0&&(Oe=Z.ref,ze=J.current),Z.key!==void 0&&(Ne=""+Z.key),G.type&&G.type.defaultProps)var $e=G.type.defaultProps;for(Ke in Z)Q.call(Z,Ke)&&!j.hasOwnProperty(Ke)&&(Re[Ke]=Z[Ke]===void 0&&$e!==void 0?$e[Ke]:Z[Ke])}var Ke=arguments.length-2;if(Ke===1)Re.children=we;else if(1<Ke){$e=Array(Ke);for(var St=0;St<Ke;St++)$e[St]=arguments[St+2];Re.children=$e}return{$$typeof:n,type:G.type,key:Ne,ref:Oe,props:Re,_owner:ze}},be.createContext=function(G){return G={$$typeof:u,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:a,_context:G},G.Consumer=G},be.createElement=b,be.createFactory=function(G){var Z=b.bind(null,G);return Z.type=G,Z},be.createRef=function(){return{current:null}},be.forwardRef=function(G){return{$$typeof:h,render:G}},be.isValidElement=x,be.lazy=function(G){return{$$typeof:v,_payload:{_status:-1,_result:G},_init:se}},be.memo=function(G,Z){return{$$typeof:p,type:G,compare:Z===void 0?null:Z}},be.startTransition=function(G){var Z=H.transition;H.transition={};try{G()}finally{H.transition=Z}},be.unstable_act=oe,be.useCallback=function(G,Z){return fe.current.useCallback(G,Z)},be.useContext=function(G){return fe.current.useContext(G)},be.useDebugValue=function(){},be.useDeferredValue=function(G){return fe.current.useDeferredValue(G)},be.useEffect=function(G,Z){return fe.current.useEffect(G,Z)},be.useId=function(){return fe.current.useId()},be.useImperativeHandle=function(G,Z,we){return fe.current.useImperativeHandle(G,Z,we)},be.useInsertionEffect=function(G,Z){return fe.current.useInsertionEffect(G,Z)},be.useLayoutEffect=function(G,Z){return fe.current.useLayoutEffect(G,Z)},be.useMemo=function(G,Z){return fe.current.useMemo(G,Z)},be.useReducer=function(G,Z,we){return fe.current.useReducer(G,Z,we)},be.useRef=function(G){return fe.current.useRef(G)},be.useState=function(G){return fe.current.useState(G)},be.useSyncExternalStore=function(G,Z,we){return fe.current.useSyncExternalStore(G,Z,we)},be.useTransition=function(){return fe.current.useTransition()},be.version="18.3.1",be}var yv;function np(){return yv||(yv=1,Jh.exports=DC()),Jh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v;function MC(){if(_v)return rl;_v=1;var n=np(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,p){var v,w={},C=null,N=null;p!==void 0&&(C=""+p),f.key!==void 0&&(C=""+f.key),f.ref!==void 0&&(N=f.ref);for(v in f)r.call(f,v)&&!a.hasOwnProperty(v)&&(w[v]=f[v]);if(h&&h.defaultProps)for(v in f=h.defaultProps,f)w[v]===void 0&&(w[v]=f[v]);return{$$typeof:e,type:h,key:C,ref:N,props:w,_owner:s.current}}return rl.Fragment=t,rl.jsx=u,rl.jsxs=u,rl}var wv;function VC(){return wv||(wv=1,Xh.exports=MC()),Xh.exports}var _=VC(),B=np();const pt=m_(B);var ic={},Zh={exports:{}},an={},ef={exports:{}},tf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function LC(){return Ev||(Ev=1,function(n){function e(H,te){var oe=H.length;H.push(te);e:for(;0<oe;){var G=oe-1>>>1,Z=H[G];if(0<s(Z,te))H[G]=te,H[oe]=Z,oe=G;else break e}}function t(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var te=H[0],oe=H.pop();if(oe!==te){H[0]=oe;e:for(var G=0,Z=H.length,we=Z>>>1;G<we;){var Re=2*(G+1)-1,Ne=H[Re],Oe=Re+1,ze=H[Oe];if(0>s(Ne,oe))Oe<Z&&0>s(ze,Ne)?(H[G]=ze,H[Oe]=oe,G=Oe):(H[G]=Ne,H[Re]=oe,G=Re);else if(Oe<Z&&0>s(ze,oe))H[G]=ze,H[Oe]=oe,G=Oe;else break e}}return te}function s(H,te){var oe=H.sortIndex-te.sortIndex;return oe!==0?oe:H.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],p=[],v=1,w=null,C=3,N=!1,A=!1,L=!1,O=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function V(H){for(var te=t(p);te!==null;){if(te.callback===null)r(p);else if(te.startTime<=H)r(p),te.sortIndex=te.expirationTime,e(f,te);else break;te=t(p)}}function $(H){if(L=!1,V(H),!A)if(t(f)!==null)A=!0,se(Q);else{var te=t(p);te!==null&&fe($,te.startTime-H)}}function Q(H,te){A=!1,L&&(L=!1,M(b),b=-1),N=!0;var oe=C;try{for(V(te),w=t(f);w!==null&&(!(w.expirationTime>te)||H&&!I());){var G=w.callback;if(typeof G=="function"){w.callback=null,C=w.priorityLevel;var Z=G(w.expirationTime<=te);te=n.unstable_now(),typeof Z=="function"?w.callback=Z:w===t(f)&&r(f),V(te)}else r(f);w=t(f)}if(w!==null)var we=!0;else{var Re=t(p);Re!==null&&fe($,Re.startTime-te),we=!1}return we}finally{w=null,C=oe,N=!1}}var J=!1,j=null,b=-1,T=5,x=-1;function I(){return!(n.unstable_now()-x<T)}function P(){if(j!==null){var H=n.unstable_now();x=H;var te=!0;try{te=j(!0,H)}finally{te?R():(J=!1,j=null)}}else J=!1}var R;if(typeof k=="function")R=function(){k(P)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,ie=ne.port2;ne.port1.onmessage=P,R=function(){ie.postMessage(null)}}else R=function(){O(P,0)};function se(H){j=H,J||(J=!0,R())}function fe(H,te){b=O(function(){H(n.unstable_now())},te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_continueExecution=function(){A||N||(A=!0,se(Q))},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return C},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(H){switch(C){case 1:case 2:case 3:var te=3;break;default:te=C}var oe=C;C=te;try{return H()}finally{C=oe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(H,te){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var oe=C;C=H;try{return te()}finally{C=oe}},n.unstable_scheduleCallback=function(H,te,oe){var G=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?G+oe:G):oe=G,H){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=oe+Z,H={id:v++,callback:te,priorityLevel:H,startTime:oe,expirationTime:Z,sortIndex:-1},oe>G?(H.sortIndex=oe,e(p,H),t(f)===null&&H===t(p)&&(L?(M(b),b=-1):L=!0,fe($,oe-G))):(H.sortIndex=Z,e(f,H),A||N||(A=!0,se(Q))),H},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(H){var te=C;return function(){var oe=C;C=te;try{return H.apply(this,arguments)}finally{C=oe}}}}(tf)),tf}var Cv;function OC(){return Cv||(Cv=1,ef.exports=LC()),ef.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function jC(){if(Tv)return an;Tv=1;var n=np(),e=OC();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){u(i,o),u(i+"Capture",o)}function u(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function C(i){return f.call(w,i)?!0:f.call(v,i)?!1:p.test(i)?w[i]=!0:(v[i]=!0,!1)}function N(i,o,l,d){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function A(i,o,l,d){if(o===null||typeof o>"u"||N(i,o,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function L(i,o,l,d,m,y,S){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=i,this.type=o,this.sanitizeURL=y,this.removeEmptyString=S}var O={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){O[i]=new L(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];O[o]=new L(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){O[i]=new L(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){O[i]=new L(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){O[i]=new L(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){O[i]=new L(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){O[i]=new L(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){O[i]=new L(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){O[i]=new L(i,5,!1,i.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function k(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(M,k);O[o]=new L(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(M,k);O[o]=new L(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(M,k);O[o]=new L(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){O[i]=new L(i,1,!1,i.toLowerCase(),null,!1,!1)}),O.xlinkHref=new L("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){O[i]=new L(i,1,!1,i.toLowerCase(),null,!0,!0)});function V(i,o,l,d){var m=O.hasOwnProperty(o)?O[o]:null;(m!==null?m.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(A(o,l,m,d)&&(l=null),d||m===null?C(o)&&(l===null?i.removeAttribute(o):i.setAttribute(o,""+l)):m.mustUseProperty?i[m.propertyName]=l===null?m.type===3?!1:"":l:(o=m.attributeName,d=m.attributeNamespace,l===null?i.removeAttribute(o):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,d?i.setAttributeNS(d,o,l):i.setAttribute(o,l))))}var $=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q=Symbol.for("react.element"),J=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),I=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),fe=Symbol.for("react.offscreen"),H=Symbol.iterator;function te(i){return i===null||typeof i!="object"?null:(i=H&&i[H]||i["@@iterator"],typeof i=="function"?i:null)}var oe=Object.assign,G;function Z(i){if(G===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);G=o&&o[1]||""}return`
`+G+i}var we=!1;function Re(i,o){if(!i||we)return"";we=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Y){var d=Y}Reflect.construct(i,[],o)}else{try{o.call()}catch(Y){d=Y}i.call(o.prototype)}else{try{throw Error()}catch(Y){d=Y}i()}}catch(Y){if(Y&&d&&typeof Y.stack=="string"){for(var m=Y.stack.split(`
`),y=d.stack.split(`
`),S=m.length-1,F=y.length-1;1<=S&&0<=F&&m[S]!==y[F];)F--;for(;1<=S&&0<=F;S--,F--)if(m[S]!==y[F]){if(S!==1||F!==1)do if(S--,F--,0>F||m[S]!==y[F]){var U=`
`+m[S].replace(" at new "," at ");return i.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",i.displayName)),U}while(1<=S&&0<=F);break}}}finally{we=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?Z(i):""}function Ne(i){switch(i.tag){case 5:return Z(i.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return i=Re(i.type,!1),i;case 11:return i=Re(i.type.render,!1),i;case 1:return i=Re(i.type,!0),i;default:return""}}function Oe(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case j:return"Fragment";case J:return"Portal";case T:return"Profiler";case b:return"StrictMode";case R:return"Suspense";case ne:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case I:return(i.displayName||"Context")+".Consumer";case x:return(i._context.displayName||"Context")+".Provider";case P:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ie:return o=i.displayName||null,o!==null?o:Oe(i.type)||"Memo";case se:o=i._payload,i=i._init;try{return Oe(i(o))}catch{}}return null}function ze(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(o);case 8:return o===b?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function $e(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ke(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function St(i){var o=Ke(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),d=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(S){d=""+S,y.call(this,S)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(S){d=""+S},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Cr(i){i._valueTracker||(i._valueTracker=St(i))}function js(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),d="";return i&&(d=Ke(i)?i.checked?"true":"false":i.value),i=d,i!==l?(o.setValue(i),!0):!1}function ri(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Qi(i,o){var l=o.checked;return oe({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function Fs(i,o){var l=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;l=$e(o.value!=null?o.value:l),i._wrapperState={initialChecked:d,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function ua(i,o){o=o.checked,o!=null&&V(i,"checked",o,!1)}function ca(i,o){ua(i,o);var l=$e(o.value),d=o.type;if(l!=null)d==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(d==="submit"||d==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Bs(i,o.type,l):o.hasOwnProperty("defaultValue")&&Bs(i,o.type,$e(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function $l(i,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,l||o===i.value||(i.value=o),i.defaultValue=o}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function Bs(i,o,l){(o!=="number"||ri(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var Tr=Array.isArray;function Sr(i,o,l,d){if(i=i.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=o.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&d&&(i[l].defaultSelected=!0)}else{for(l=""+$e(l),o=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,d&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function da(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Us(i,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(Tr(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}i._wrapperState={initialValue:$e(l)}}function zs(i,o){var l=$e(o.value),d=$e(o.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),o.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),d!=null&&(i.defaultValue=""+d)}function ha(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function vt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yt(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?vt(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Ar,fa=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,d,m){MSApp.execUnsafeLocalFunction(function(){return i(o,l,d,m)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Ar=Ar||document.createElement("div"),Ar.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Ar.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function ii(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var Yi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xi=["Webkit","ms","Moz","O"];Object.keys(Yi).forEach(function(i){Xi.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Yi[o]=Yi[i]})});function pa(i,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||Yi.hasOwnProperty(i)&&Yi[i]?(""+o).trim():o+"px"}function ma(i,o){i=i.style;for(var l in o)if(o.hasOwnProperty(l)){var d=l.indexOf("--")===0,m=pa(l,o[l],d);l==="float"&&(l="cssFloat"),d?i.setProperty(l,m):i[l]=m}}var ga=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function va(i,o){if(o){if(ga[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function ya(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ji=null;function $s(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Gs=null,_n=null,Jn=null;function Hs(i){if(i=za(i)){if(typeof Gs!="function")throw Error(t(280));var o=i.stateNode;o&&(o=_u(o),Gs(i.stateNode,i.type,o))}}function Zn(i){_n?Jn?Jn.push(i):Jn=[i]:_n=i}function _a(){if(_n){var i=_n,o=Jn;if(Jn=_n=null,Hs(i),o)for(i=0;i<o.length;i++)Hs(o[i])}}function Zi(i,o){return i(o)}function wa(){}var Ir=!1;function Ea(i,o,l){if(Ir)return i(o,l);Ir=!0;try{return Zi(i,o,l)}finally{Ir=!1,(_n!==null||Jn!==null)&&(wa(),_a())}}function at(i,o){var l=i.stateNode;if(l===null)return null;var d=_u(l);if(d===null)return null;l=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var qs=!1;if(h)try{var bn={};Object.defineProperty(bn,"passive",{get:function(){qs=!0}}),window.addEventListener("test",bn,bn),window.removeEventListener("test",bn,bn)}catch{qs=!1}function es(i,o,l,d,m,y,S,F,U){var Y=Array.prototype.slice.call(arguments,3);try{o.apply(l,Y)}catch(le){this.onError(le)}}var ts=!1,Ws=null,Dn=!1,Ca=null,Ad={onError:function(i){ts=!0,Ws=i}};function Ks(i,o,l,d,m,y,S,F,U){ts=!1,Ws=null,es.apply(Ad,arguments)}function Gl(i,o,l,d,m,y,S,F,U){if(Ks.apply(this,arguments),ts){if(ts){var Y=Ws;ts=!1,Ws=null}else throw Error(t(198));Dn||(Dn=!0,Ca=Y)}}function Mn(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function ns(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Vn(i){if(Mn(i)!==i)throw Error(t(188))}function Hl(i){var o=i.alternate;if(!o){if(o=Mn(i),o===null)throw Error(t(188));return o!==i?null:i}for(var l=i,d=o;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(d=m.return,d!==null){l=d;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return Vn(m),i;if(y===d)return Vn(m),o;y=y.sibling}throw Error(t(188))}if(l.return!==d.return)l=m,d=y;else{for(var S=!1,F=m.child;F;){if(F===l){S=!0,l=m,d=y;break}if(F===d){S=!0,d=m,l=y;break}F=F.sibling}if(!S){for(F=y.child;F;){if(F===l){S=!0,l=y,d=m;break}if(F===d){S=!0,d=y,l=m;break}F=F.sibling}if(!S)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:o}function Ta(i){return i=Hl(i),i!==null?Qs(i):null}function Qs(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=Qs(i);if(o!==null)return o;i=i.sibling}return null}var Ys=e.unstable_scheduleCallback,Sa=e.unstable_cancelCallback,ql=e.unstable_shouldYield,Id=e.unstable_requestPaint,Qe=e.unstable_now,Wl=e.unstable_getCurrentPriorityLevel,rs=e.unstable_ImmediatePriority,si=e.unstable_UserBlockingPriority,wn=e.unstable_NormalPriority,Aa=e.unstable_LowPriority,Kl=e.unstable_IdlePriority,is=null,cn=null;function Ql(i){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(is,i,void 0,(i.current.flags&128)===128)}catch{}}var Wt=Math.clz32?Math.clz32:Xl,Ia=Math.log,Yl=Math.LN2;function Xl(i){return i>>>=0,i===0?32:31-(Ia(i)/Yl|0)|0}var Xs=64,Js=4194304;function oi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function ss(i,o){var l=i.pendingLanes;if(l===0)return 0;var d=0,m=i.suspendedLanes,y=i.pingedLanes,S=l&268435455;if(S!==0){var F=S&~m;F!==0?d=oi(F):(y&=S,y!==0&&(d=oi(y)))}else S=l&~m,S!==0?d=oi(S):y!==0&&(d=oi(y));if(d===0)return 0;if(o!==0&&o!==d&&(o&m)===0&&(m=d&-d,y=o&-o,m>=y||m===16&&(y&4194240)!==0))return o;if((d&4)!==0&&(d|=l&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=d;0<o;)l=31-Wt(o),m=1<<l,d|=i[l],o&=~m;return d}function xd(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xr(i,o){for(var l=i.suspendedLanes,d=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes;0<y;){var S=31-Wt(y),F=1<<S,U=m[S];U===-1?((F&l)===0||(F&d)!==0)&&(m[S]=xd(F,o)):U<=o&&(i.expiredLanes|=F),y&=~F}}function dn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function os(){var i=Xs;return Xs<<=1,(Xs&4194240)===0&&(Xs=64),i}function ai(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function li(i,o,l){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-Wt(o),i[o]=l}function We(i,o){var l=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var d=i.eventTimes;for(i=i.expirationTimes;0<l;){var m=31-Wt(l),y=1<<m;o[m]=0,d[m]=-1,i[m]=-1,l&=~y}}function ui(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var d=31-Wt(l),m=1<<d;m&o|i[d]&o&&(i[d]|=o),l&=~m}}var Ve=0;function ci(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Jl,Zs,Zl,eu,tu,xa=!1,er=[],bt=null,Ln=null,On=null,di=new Map,En=new Map,tr=[],Pd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nu(i,o){switch(i){case"focusin":case"focusout":bt=null;break;case"dragenter":case"dragleave":Ln=null;break;case"mouseover":case"mouseout":On=null;break;case"pointerover":case"pointerout":di.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":En.delete(o.pointerId)}}function Zt(i,o,l,d,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:o,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[m]},o!==null&&(o=za(o),o!==null&&Zs(o)),i):(i.eventSystemFlags|=d,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function Rd(i,o,l,d,m){switch(o){case"focusin":return bt=Zt(bt,i,o,l,d,m),!0;case"dragenter":return Ln=Zt(Ln,i,o,l,d,m),!0;case"mouseover":return On=Zt(On,i,o,l,d,m),!0;case"pointerover":var y=m.pointerId;return di.set(y,Zt(di.get(y)||null,i,o,l,d,m)),!0;case"gotpointercapture":return y=m.pointerId,En.set(y,Zt(En.get(y)||null,i,o,l,d,m)),!0}return!1}function ru(i){var o=ds(i.target);if(o!==null){var l=Mn(o);if(l!==null){if(o=l.tag,o===13){if(o=ns(l),o!==null){i.blockedOn=o,tu(i.priority,function(){Zl(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Pr(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=eo(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var d=new l.constructor(l.type,l);Ji=d,l.target.dispatchEvent(d),Ji=null}else return o=za(l),o!==null&&Zs(o),i.blockedOn=l,!1;o.shift()}return!0}function as(i,o,l){Pr(i)&&l.delete(o)}function iu(){xa=!1,bt!==null&&Pr(bt)&&(bt=null),Ln!==null&&Pr(Ln)&&(Ln=null),On!==null&&Pr(On)&&(On=null),di.forEach(as),En.forEach(as)}function jn(i,o){i.blockedOn===o&&(i.blockedOn=null,xa||(xa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,iu)))}function Fn(i){function o(m){return jn(m,i)}if(0<er.length){jn(er[0],i);for(var l=1;l<er.length;l++){var d=er[l];d.blockedOn===i&&(d.blockedOn=null)}}for(bt!==null&&jn(bt,i),Ln!==null&&jn(Ln,i),On!==null&&jn(On,i),di.forEach(o),En.forEach(o),l=0;l<tr.length;l++)d=tr[l],d.blockedOn===i&&(d.blockedOn=null);for(;0<tr.length&&(l=tr[0],l.blockedOn===null);)ru(l),l.blockedOn===null&&tr.shift()}var Rr=$.ReactCurrentBatchConfig,hi=!0;function et(i,o,l,d){var m=Ve,y=Rr.transition;Rr.transition=null;try{Ve=1,Pa(i,o,l,d)}finally{Ve=m,Rr.transition=y}}function kd(i,o,l,d){var m=Ve,y=Rr.transition;Rr.transition=null;try{Ve=4,Pa(i,o,l,d)}finally{Ve=m,Rr.transition=y}}function Pa(i,o,l,d){if(hi){var m=eo(i,o,l,d);if(m===null)Ud(i,o,d,ls,l),nu(i,d);else if(Rd(m,i,o,l,d))d.stopPropagation();else if(nu(i,d),o&4&&-1<Pd.indexOf(i)){for(;m!==null;){var y=za(m);if(y!==null&&Jl(y),y=eo(i,o,l,d),y===null&&Ud(i,o,d,ls,l),y===m)break;m=y}m!==null&&d.stopPropagation()}else Ud(i,o,d,null,l)}}var ls=null;function eo(i,o,l,d){if(ls=null,i=$s(d),i=ds(i),i!==null)if(o=Mn(i),o===null)i=null;else if(l=o.tag,l===13){if(i=ns(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return ls=i,null}function Ra(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wl()){case rs:return 1;case si:return 4;case wn:case Aa:return 16;case Kl:return 536870912;default:return 16}default:return 16}}var hn=null,to=null,en=null;function ka(){if(en)return en;var i,o=to,l=o.length,d,m="value"in hn?hn.value:hn.textContent,y=m.length;for(i=0;i<l&&o[i]===m[i];i++);var S=l-i;for(d=1;d<=S&&o[l-d]===m[y-d];d++);return en=m.slice(i,1<d?1-d:void 0)}function no(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function nr(){return!0}function Na(){return!1}function Dt(i){function o(l,d,m,y,S){this._reactName=l,this._targetInst=m,this.type=d,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var F in i)i.hasOwnProperty(F)&&(l=i[F],this[F]=l?l(y):y[F]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?nr:Na,this.isPropagationStopped=Na,this}return oe(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=nr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=nr)},persist:function(){},isPersistent:nr}),o}var Bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ro=Dt(Bn),rr=oe({},Bn,{view:0,detail:0}),Nd=Dt(rr),io,kr,fi,us=oe({},rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ir,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==fi&&(fi&&i.type==="mousemove"?(io=i.screenX-fi.screenX,kr=i.screenY-fi.screenY):kr=io=0,fi=i),io)},movementY:function(i){return"movementY"in i?i.movementY:kr}}),so=Dt(us),ba=oe({},us,{dataTransfer:0}),su=Dt(ba),oo=oe({},rr,{relatedTarget:0}),ao=Dt(oo),ou=oe({},Bn,{animationName:0,elapsedTime:0,pseudoElement:0}),Nr=Dt(ou),au=oe({},Bn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),lu=Dt(au),uu=oe({},Bn,{data:0}),Da=Dt(uu),lo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function du(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=cu[i])?!!o[i]:!1}function ir(){return du}var c=oe({},rr,{key:function(i){if(i.key){var o=lo[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=no(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Kt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ir,charCode:function(i){return i.type==="keypress"?no(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?no(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),g=Dt(c),E=oe({},us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),D=Dt(E),q=oe({},rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ir}),X=Dt(q),de=oe({},Bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),He=Dt(de),_t=oe({},us,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),je=Dt(_t),At=[9,13,27,32],dt=h&&"CompositionEvent"in window,Cn=null;h&&"documentMode"in document&&(Cn=document.documentMode);var fn=h&&"TextEvent"in window&&!Cn,cs=h&&(!dt||Cn&&8<Cn&&11>=Cn),uo=" ",dm=!1;function hm(i,o){switch(i){case"keyup":return At.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fm(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var co=!1;function kE(i,o){switch(i){case"compositionend":return fm(o);case"keypress":return o.which!==32?null:(dm=!0,uo);case"textInput":return i=o.data,i===uo&&dm?null:i;default:return null}}function NE(i,o){if(co)return i==="compositionend"||!dt&&hm(i,o)?(i=ka(),en=to=hn=null,co=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return cs&&o.locale!=="ko"?null:o.data;default:return null}}var bE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pm(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!bE[i.type]:o==="textarea"}function mm(i,o,l,d){Zn(d),o=gu(o,"onChange"),0<o.length&&(l=new ro("onChange","change",null,l,d),i.push({event:l,listeners:o}))}var Ma=null,Va=null;function DE(i){Dm(i,0)}function hu(i){var o=go(i);if(js(o))return i}function ME(i,o){if(i==="change")return o}var gm=!1;if(h){var bd;if(h){var Dd="oninput"in document;if(!Dd){var vm=document.createElement("div");vm.setAttribute("oninput","return;"),Dd=typeof vm.oninput=="function"}bd=Dd}else bd=!1;gm=bd&&(!document.documentMode||9<document.documentMode)}function ym(){Ma&&(Ma.detachEvent("onpropertychange",_m),Va=Ma=null)}function _m(i){if(i.propertyName==="value"&&hu(Va)){var o=[];mm(o,Va,i,$s(i)),Ea(DE,o)}}function VE(i,o,l){i==="focusin"?(ym(),Ma=o,Va=l,Ma.attachEvent("onpropertychange",_m)):i==="focusout"&&ym()}function LE(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return hu(Va)}function OE(i,o){if(i==="click")return hu(o)}function jE(i,o){if(i==="input"||i==="change")return hu(o)}function FE(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Un=typeof Object.is=="function"?Object.is:FE;function La(i,o){if(Un(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),d=Object.keys(o);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var m=l[d];if(!f.call(o,m)||!Un(i[m],o[m]))return!1}return!0}function wm(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Em(i,o){var l=wm(i);i=0;for(var d;l;){if(l.nodeType===3){if(d=i+l.textContent.length,i<=o&&d>=o)return{node:l,offset:o-i};i=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=wm(l)}}function Cm(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Cm(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Tm(){for(var i=window,o=ri();o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=ri(i.document)}return o}function Md(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function BE(i){var o=Tm(),l=i.focusedElem,d=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&Cm(l.ownerDocument.documentElement,l)){if(d!==null&&Md(l)){if(o=d.start,i=d.end,i===void 0&&(i=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(i,l.value.length);else if(i=(o=l.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=l.textContent.length,y=Math.min(d.start,m);d=d.end===void 0?y:Math.min(d.end,m),!i.extend&&y>d&&(m=d,d=y,y=m),m=Em(l,y);var S=Em(l,d);m&&S&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==S.node||i.focusOffset!==S.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),y>d?(i.addRange(o),i.extend(S.node,S.offset)):(o.setEnd(S.node,S.offset),i.addRange(o)))}}for(o=[],i=l;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)i=o[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var UE=h&&"documentMode"in document&&11>=document.documentMode,ho=null,Vd=null,Oa=null,Ld=!1;function Sm(i,o,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ld||ho==null||ho!==ri(d)||(d=ho,"selectionStart"in d&&Md(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Oa&&La(Oa,d)||(Oa=d,d=gu(Vd,"onSelect"),0<d.length&&(o=new ro("onSelect","select",null,o,l),i.push({event:o,listeners:d}),o.target=ho)))}function fu(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var fo={animationend:fu("Animation","AnimationEnd"),animationiteration:fu("Animation","AnimationIteration"),animationstart:fu("Animation","AnimationStart"),transitionend:fu("Transition","TransitionEnd")},Od={},Am={};h&&(Am=document.createElement("div").style,"AnimationEvent"in window||(delete fo.animationend.animation,delete fo.animationiteration.animation,delete fo.animationstart.animation),"TransitionEvent"in window||delete fo.transitionend.transition);function pu(i){if(Od[i])return Od[i];if(!fo[i])return i;var o=fo[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in Am)return Od[i]=o[l];return i}var Im=pu("animationend"),xm=pu("animationiteration"),Pm=pu("animationstart"),Rm=pu("transitionend"),km=new Map,Nm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pi(i,o){km.set(i,o),a(o,[i])}for(var jd=0;jd<Nm.length;jd++){var Fd=Nm[jd],zE=Fd.toLowerCase(),$E=Fd[0].toUpperCase()+Fd.slice(1);pi(zE,"on"+$E)}pi(Im,"onAnimationEnd"),pi(xm,"onAnimationIteration"),pi(Pm,"onAnimationStart"),pi("dblclick","onDoubleClick"),pi("focusin","onFocus"),pi("focusout","onBlur"),pi(Rm,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ja="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GE=new Set("cancel close invalid load scroll toggle".split(" ").concat(ja));function bm(i,o,l){var d=i.type||"unknown-event";i.currentTarget=l,Gl(d,o,void 0,i),i.currentTarget=null}function Dm(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var d=i[l],m=d.event;d=d.listeners;e:{var y=void 0;if(o)for(var S=d.length-1;0<=S;S--){var F=d[S],U=F.instance,Y=F.currentTarget;if(F=F.listener,U!==y&&m.isPropagationStopped())break e;bm(m,F,Y),y=U}else for(S=0;S<d.length;S++){if(F=d[S],U=F.instance,Y=F.currentTarget,F=F.listener,U!==y&&m.isPropagationStopped())break e;bm(m,F,Y),y=U}}}if(Dn)throw i=Ca,Dn=!1,Ca=null,i}function Je(i,o){var l=o[Wd];l===void 0&&(l=o[Wd]=new Set);var d=i+"__bubble";l.has(d)||(Mm(o,i,2,!1),l.add(d))}function Bd(i,o,l){var d=0;o&&(d|=4),Mm(l,i,d,o)}var mu="_reactListening"+Math.random().toString(36).slice(2);function Fa(i){if(!i[mu]){i[mu]=!0,r.forEach(function(l){l!=="selectionchange"&&(GE.has(l)||Bd(l,!1,i),Bd(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[mu]||(o[mu]=!0,Bd("selectionchange",!1,o))}}function Mm(i,o,l,d){switch(Ra(o)){case 1:var m=et;break;case 4:m=kd;break;default:m=Pa}l=m.bind(null,o,l,i),m=void 0,!qs||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?i.addEventListener(o,l,{capture:!0,passive:m}):i.addEventListener(o,l,!0):m!==void 0?i.addEventListener(o,l,{passive:m}):i.addEventListener(o,l,!1)}function Ud(i,o,l,d,m){var y=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var F=d.stateNode.containerInfo;if(F===m||F.nodeType===8&&F.parentNode===m)break;if(S===4)for(S=d.return;S!==null;){var U=S.tag;if((U===3||U===4)&&(U=S.stateNode.containerInfo,U===m||U.nodeType===8&&U.parentNode===m))return;S=S.return}for(;F!==null;){if(S=ds(F),S===null)return;if(U=S.tag,U===5||U===6){d=y=S;continue e}F=F.parentNode}}d=d.return}Ea(function(){var Y=y,le=$s(l),ue=[];e:{var ae=km.get(i);if(ae!==void 0){var pe=ro,ve=i;switch(i){case"keypress":if(no(l)===0)break e;case"keydown":case"keyup":pe=g;break;case"focusin":ve="focus",pe=ao;break;case"focusout":ve="blur",pe=ao;break;case"beforeblur":case"afterblur":pe=ao;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=so;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=su;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=X;break;case Im:case xm:case Pm:pe=Nr;break;case Rm:pe=He;break;case"scroll":pe=Nd;break;case"wheel":pe=je;break;case"copy":case"cut":case"paste":pe=lu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=D}var ye=(o&4)!==0,lt=!ye&&i==="scroll",W=ye?ae!==null?ae+"Capture":null:ae;ye=[];for(var z=Y,K;z!==null;){K=z;var ce=K.stateNode;if(K.tag===5&&ce!==null&&(K=ce,W!==null&&(ce=at(z,W),ce!=null&&ye.push(Ba(z,ce,K)))),lt)break;z=z.return}0<ye.length&&(ae=new pe(ae,ve,null,l,le),ue.push({event:ae,listeners:ye}))}}if((o&7)===0){e:{if(ae=i==="mouseover"||i==="pointerover",pe=i==="mouseout"||i==="pointerout",ae&&l!==Ji&&(ve=l.relatedTarget||l.fromElement)&&(ds(ve)||ve[br]))break e;if((pe||ae)&&(ae=le.window===le?le:(ae=le.ownerDocument)?ae.defaultView||ae.parentWindow:window,pe?(ve=l.relatedTarget||l.toElement,pe=Y,ve=ve?ds(ve):null,ve!==null&&(lt=Mn(ve),ve!==lt||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(pe=null,ve=Y),pe!==ve)){if(ye=so,ce="onMouseLeave",W="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(ye=D,ce="onPointerLeave",W="onPointerEnter",z="pointer"),lt=pe==null?ae:go(pe),K=ve==null?ae:go(ve),ae=new ye(ce,z+"leave",pe,l,le),ae.target=lt,ae.relatedTarget=K,ce=null,ds(le)===Y&&(ye=new ye(W,z+"enter",ve,l,le),ye.target=K,ye.relatedTarget=lt,ce=ye),lt=ce,pe&&ve)t:{for(ye=pe,W=ve,z=0,K=ye;K;K=po(K))z++;for(K=0,ce=W;ce;ce=po(ce))K++;for(;0<z-K;)ye=po(ye),z--;for(;0<K-z;)W=po(W),K--;for(;z--;){if(ye===W||W!==null&&ye===W.alternate)break t;ye=po(ye),W=po(W)}ye=null}else ye=null;pe!==null&&Vm(ue,ae,pe,ye,!1),ve!==null&&lt!==null&&Vm(ue,lt,ve,ye,!0)}}e:{if(ae=Y?go(Y):window,pe=ae.nodeName&&ae.nodeName.toLowerCase(),pe==="select"||pe==="input"&&ae.type==="file")var _e=ME;else if(pm(ae))if(gm)_e=jE;else{_e=LE;var Ce=VE}else(pe=ae.nodeName)&&pe.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&(_e=OE);if(_e&&(_e=_e(i,Y))){mm(ue,_e,l,le);break e}Ce&&Ce(i,ae,Y),i==="focusout"&&(Ce=ae._wrapperState)&&Ce.controlled&&ae.type==="number"&&Bs(ae,"number",ae.value)}switch(Ce=Y?go(Y):window,i){case"focusin":(pm(Ce)||Ce.contentEditable==="true")&&(ho=Ce,Vd=Y,Oa=null);break;case"focusout":Oa=Vd=ho=null;break;case"mousedown":Ld=!0;break;case"contextmenu":case"mouseup":case"dragend":Ld=!1,Sm(ue,l,le);break;case"selectionchange":if(UE)break;case"keydown":case"keyup":Sm(ue,l,le)}var Te;if(dt)e:{switch(i){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else co?hm(i,l)&&(Ie="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ie="onCompositionStart");Ie&&(cs&&l.locale!=="ko"&&(co||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&co&&(Te=ka()):(hn=le,to="value"in hn?hn.value:hn.textContent,co=!0)),Ce=gu(Y,Ie),0<Ce.length&&(Ie=new Da(Ie,i,null,l,le),ue.push({event:Ie,listeners:Ce}),Te?Ie.data=Te:(Te=fm(l),Te!==null&&(Ie.data=Te)))),(Te=fn?kE(i,l):NE(i,l))&&(Y=gu(Y,"onBeforeInput"),0<Y.length&&(le=new Da("onBeforeInput","beforeinput",null,l,le),ue.push({event:le,listeners:Y}),le.data=Te))}Dm(ue,o)})}function Ba(i,o,l){return{instance:i,listener:o,currentTarget:l}}function gu(i,o){for(var l=o+"Capture",d=[];i!==null;){var m=i,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=at(i,l),y!=null&&d.unshift(Ba(i,y,m)),y=at(i,o),y!=null&&d.push(Ba(i,y,m))),i=i.return}return d}function po(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Vm(i,o,l,d,m){for(var y=o._reactName,S=[];l!==null&&l!==d;){var F=l,U=F.alternate,Y=F.stateNode;if(U!==null&&U===d)break;F.tag===5&&Y!==null&&(F=Y,m?(U=at(l,y),U!=null&&S.unshift(Ba(l,U,F))):m||(U=at(l,y),U!=null&&S.push(Ba(l,U,F)))),l=l.return}S.length!==0&&i.push({event:o,listeners:S})}var HE=/\r\n?/g,qE=/\u0000|\uFFFD/g;function Lm(i){return(typeof i=="string"?i:""+i).replace(HE,`
`).replace(qE,"")}function vu(i,o,l){if(o=Lm(o),Lm(i)!==o&&l)throw Error(t(425))}function yu(){}var zd=null,$d=null;function Gd(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Hd=typeof setTimeout=="function"?setTimeout:void 0,WE=typeof clearTimeout=="function"?clearTimeout:void 0,Om=typeof Promise=="function"?Promise:void 0,KE=typeof queueMicrotask=="function"?queueMicrotask:typeof Om<"u"?function(i){return Om.resolve(null).then(i).catch(QE)}:Hd;function QE(i){setTimeout(function(){throw i})}function qd(i,o){var l=o,d=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(d===0){i.removeChild(m),Fn(o);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=m}while(l);Fn(o)}function mi(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function jm(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}var mo=Math.random().toString(36).slice(2),sr="__reactFiber$"+mo,Ua="__reactProps$"+mo,br="__reactContainer$"+mo,Wd="__reactEvents$"+mo,YE="__reactListeners$"+mo,XE="__reactHandles$"+mo;function ds(i){var o=i[sr];if(o)return o;for(var l=i.parentNode;l;){if(o=l[br]||l[sr]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=jm(i);i!==null;){if(l=i[sr])return l;i=jm(i)}return o}i=l,l=i.parentNode}return null}function za(i){return i=i[sr]||i[br],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function go(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function _u(i){return i[Ua]||null}var Kd=[],vo=-1;function gi(i){return{current:i}}function Ze(i){0>vo||(i.current=Kd[vo],Kd[vo]=null,vo--)}function Ye(i,o){vo++,Kd[vo]=i.current,i.current=o}var vi={},Ft=gi(vi),tn=gi(!1),hs=vi;function yo(i,o){var l=i.type.contextTypes;if(!l)return vi;var d=i.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in l)m[y]=o[y];return d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function nn(i){return i=i.childContextTypes,i!=null}function wu(){Ze(tn),Ze(Ft)}function Fm(i,o,l){if(Ft.current!==vi)throw Error(t(168));Ye(Ft,o),Ye(tn,l)}function Bm(i,o,l){var d=i.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var m in d)if(!(m in o))throw Error(t(108,ze(i)||"Unknown",m));return oe({},l,d)}function Eu(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||vi,hs=Ft.current,Ye(Ft,i),Ye(tn,tn.current),!0}function Um(i,o,l){var d=i.stateNode;if(!d)throw Error(t(169));l?(i=Bm(i,o,hs),d.__reactInternalMemoizedMergedChildContext=i,Ze(tn),Ze(Ft),Ye(Ft,i)):Ze(tn),Ye(tn,l)}var Dr=null,Cu=!1,Qd=!1;function zm(i){Dr===null?Dr=[i]:Dr.push(i)}function JE(i){Cu=!0,zm(i)}function yi(){if(!Qd&&Dr!==null){Qd=!0;var i=0,o=Ve;try{var l=Dr;for(Ve=1;i<l.length;i++){var d=l[i];do d=d(!0);while(d!==null)}Dr=null,Cu=!1}catch(m){throw Dr!==null&&(Dr=Dr.slice(i+1)),Ys(rs,yi),m}finally{Ve=o,Qd=!1}}return null}var _o=[],wo=0,Tu=null,Su=0,Tn=[],Sn=0,fs=null,Mr=1,Vr="";function ps(i,o){_o[wo++]=Su,_o[wo++]=Tu,Tu=i,Su=o}function $m(i,o,l){Tn[Sn++]=Mr,Tn[Sn++]=Vr,Tn[Sn++]=fs,fs=i;var d=Mr;i=Vr;var m=32-Wt(d)-1;d&=~(1<<m),l+=1;var y=32-Wt(o)+m;if(30<y){var S=m-m%5;y=(d&(1<<S)-1).toString(32),d>>=S,m-=S,Mr=1<<32-Wt(o)+m|l<<m|d,Vr=y+i}else Mr=1<<y|l<<m|d,Vr=i}function Yd(i){i.return!==null&&(ps(i,1),$m(i,1,0))}function Xd(i){for(;i===Tu;)Tu=_o[--wo],_o[wo]=null,Su=_o[--wo],_o[wo]=null;for(;i===fs;)fs=Tn[--Sn],Tn[Sn]=null,Vr=Tn[--Sn],Tn[Sn]=null,Mr=Tn[--Sn],Tn[Sn]=null}var pn=null,mn=null,tt=!1,zn=null;function Gm(i,o){var l=Pn(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=i,o=i.deletions,o===null?(i.deletions=[l],i.flags|=16):o.push(l)}function Hm(i,o){switch(i.tag){case 5:var l=i.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,pn=i,mn=mi(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,pn=i,mn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=fs!==null?{id:Mr,overflow:Vr}:null,i.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=Pn(18,null,null,0),l.stateNode=o,l.return=i,i.child=l,pn=i,mn=null,!0):!1;default:return!1}}function Jd(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Zd(i){if(tt){var o=mn;if(o){var l=o;if(!Hm(i,o)){if(Jd(i))throw Error(t(418));o=mi(l.nextSibling);var d=pn;o&&Hm(i,o)?Gm(d,l):(i.flags=i.flags&-4097|2,tt=!1,pn=i)}}else{if(Jd(i))throw Error(t(418));i.flags=i.flags&-4097|2,tt=!1,pn=i}}}function qm(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;pn=i}function Au(i){if(i!==pn)return!1;if(!tt)return qm(i),tt=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Gd(i.type,i.memoizedProps)),o&&(o=mn)){if(Jd(i))throw Wm(),Error(t(418));for(;o;)Gm(i,o),o=mi(o.nextSibling)}if(qm(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(o===0){mn=mi(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}i=i.nextSibling}mn=null}}else mn=pn?mi(i.stateNode.nextSibling):null;return!0}function Wm(){for(var i=mn;i;)i=mi(i.nextSibling)}function Eo(){mn=pn=null,tt=!1}function eh(i){zn===null?zn=[i]:zn.push(i)}var ZE=$.ReactCurrentBatchConfig;function $a(i,o,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,i));var m=d,y=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(S){var F=m.refs;S===null?delete F[y]:F[y]=S},o._stringRef=y,o)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function Iu(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Km(i){var o=i._init;return o(i._payload)}function Qm(i){function o(W,z){if(i){var K=W.deletions;K===null?(W.deletions=[z],W.flags|=16):K.push(z)}}function l(W,z){if(!i)return null;for(;z!==null;)o(W,z),z=z.sibling;return null}function d(W,z){for(W=new Map;z!==null;)z.key!==null?W.set(z.key,z):W.set(z.index,z),z=z.sibling;return W}function m(W,z){return W=Ii(W,z),W.index=0,W.sibling=null,W}function y(W,z,K){return W.index=K,i?(K=W.alternate,K!==null?(K=K.index,K<z?(W.flags|=2,z):K):(W.flags|=2,z)):(W.flags|=1048576,z)}function S(W){return i&&W.alternate===null&&(W.flags|=2),W}function F(W,z,K,ce){return z===null||z.tag!==6?(z=Hh(K,W.mode,ce),z.return=W,z):(z=m(z,K),z.return=W,z)}function U(W,z,K,ce){var _e=K.type;return _e===j?le(W,z,K.props.children,ce,K.key):z!==null&&(z.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===se&&Km(_e)===z.type)?(ce=m(z,K.props),ce.ref=$a(W,z,K),ce.return=W,ce):(ce=Yu(K.type,K.key,K.props,null,W.mode,ce),ce.ref=$a(W,z,K),ce.return=W,ce)}function Y(W,z,K,ce){return z===null||z.tag!==4||z.stateNode.containerInfo!==K.containerInfo||z.stateNode.implementation!==K.implementation?(z=qh(K,W.mode,ce),z.return=W,z):(z=m(z,K.children||[]),z.return=W,z)}function le(W,z,K,ce,_e){return z===null||z.tag!==7?(z=Cs(K,W.mode,ce,_e),z.return=W,z):(z=m(z,K),z.return=W,z)}function ue(W,z,K){if(typeof z=="string"&&z!==""||typeof z=="number")return z=Hh(""+z,W.mode,K),z.return=W,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Q:return K=Yu(z.type,z.key,z.props,null,W.mode,K),K.ref=$a(W,null,z),K.return=W,K;case J:return z=qh(z,W.mode,K),z.return=W,z;case se:var ce=z._init;return ue(W,ce(z._payload),K)}if(Tr(z)||te(z))return z=Cs(z,W.mode,K,null),z.return=W,z;Iu(W,z)}return null}function ae(W,z,K,ce){var _e=z!==null?z.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return _e!==null?null:F(W,z,""+K,ce);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Q:return K.key===_e?U(W,z,K,ce):null;case J:return K.key===_e?Y(W,z,K,ce):null;case se:return _e=K._init,ae(W,z,_e(K._payload),ce)}if(Tr(K)||te(K))return _e!==null?null:le(W,z,K,ce,null);Iu(W,K)}return null}function pe(W,z,K,ce,_e){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return W=W.get(K)||null,F(z,W,""+ce,_e);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case Q:return W=W.get(ce.key===null?K:ce.key)||null,U(z,W,ce,_e);case J:return W=W.get(ce.key===null?K:ce.key)||null,Y(z,W,ce,_e);case se:var Ce=ce._init;return pe(W,z,K,Ce(ce._payload),_e)}if(Tr(ce)||te(ce))return W=W.get(K)||null,le(z,W,ce,_e,null);Iu(z,ce)}return null}function ve(W,z,K,ce){for(var _e=null,Ce=null,Te=z,Ie=z=0,Pt=null;Te!==null&&Ie<K.length;Ie++){Te.index>Ie?(Pt=Te,Te=null):Pt=Te.sibling;var Ue=ae(W,Te,K[Ie],ce);if(Ue===null){Te===null&&(Te=Pt);break}i&&Te&&Ue.alternate===null&&o(W,Te),z=y(Ue,z,Ie),Ce===null?_e=Ue:Ce.sibling=Ue,Ce=Ue,Te=Pt}if(Ie===K.length)return l(W,Te),tt&&ps(W,Ie),_e;if(Te===null){for(;Ie<K.length;Ie++)Te=ue(W,K[Ie],ce),Te!==null&&(z=y(Te,z,Ie),Ce===null?_e=Te:Ce.sibling=Te,Ce=Te);return tt&&ps(W,Ie),_e}for(Te=d(W,Te);Ie<K.length;Ie++)Pt=pe(Te,W,Ie,K[Ie],ce),Pt!==null&&(i&&Pt.alternate!==null&&Te.delete(Pt.key===null?Ie:Pt.key),z=y(Pt,z,Ie),Ce===null?_e=Pt:Ce.sibling=Pt,Ce=Pt);return i&&Te.forEach(function(xi){return o(W,xi)}),tt&&ps(W,Ie),_e}function ye(W,z,K,ce){var _e=te(K);if(typeof _e!="function")throw Error(t(150));if(K=_e.call(K),K==null)throw Error(t(151));for(var Ce=_e=null,Te=z,Ie=z=0,Pt=null,Ue=K.next();Te!==null&&!Ue.done;Ie++,Ue=K.next()){Te.index>Ie?(Pt=Te,Te=null):Pt=Te.sibling;var xi=ae(W,Te,Ue.value,ce);if(xi===null){Te===null&&(Te=Pt);break}i&&Te&&xi.alternate===null&&o(W,Te),z=y(xi,z,Ie),Ce===null?_e=xi:Ce.sibling=xi,Ce=xi,Te=Pt}if(Ue.done)return l(W,Te),tt&&ps(W,Ie),_e;if(Te===null){for(;!Ue.done;Ie++,Ue=K.next())Ue=ue(W,Ue.value,ce),Ue!==null&&(z=y(Ue,z,Ie),Ce===null?_e=Ue:Ce.sibling=Ue,Ce=Ue);return tt&&ps(W,Ie),_e}for(Te=d(W,Te);!Ue.done;Ie++,Ue=K.next())Ue=pe(Te,W,Ie,Ue.value,ce),Ue!==null&&(i&&Ue.alternate!==null&&Te.delete(Ue.key===null?Ie:Ue.key),z=y(Ue,z,Ie),Ce===null?_e=Ue:Ce.sibling=Ue,Ce=Ue);return i&&Te.forEach(function(bC){return o(W,bC)}),tt&&ps(W,Ie),_e}function lt(W,z,K,ce){if(typeof K=="object"&&K!==null&&K.type===j&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case Q:e:{for(var _e=K.key,Ce=z;Ce!==null;){if(Ce.key===_e){if(_e=K.type,_e===j){if(Ce.tag===7){l(W,Ce.sibling),z=m(Ce,K.props.children),z.return=W,W=z;break e}}else if(Ce.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===se&&Km(_e)===Ce.type){l(W,Ce.sibling),z=m(Ce,K.props),z.ref=$a(W,Ce,K),z.return=W,W=z;break e}l(W,Ce);break}else o(W,Ce);Ce=Ce.sibling}K.type===j?(z=Cs(K.props.children,W.mode,ce,K.key),z.return=W,W=z):(ce=Yu(K.type,K.key,K.props,null,W.mode,ce),ce.ref=$a(W,z,K),ce.return=W,W=ce)}return S(W);case J:e:{for(Ce=K.key;z!==null;){if(z.key===Ce)if(z.tag===4&&z.stateNode.containerInfo===K.containerInfo&&z.stateNode.implementation===K.implementation){l(W,z.sibling),z=m(z,K.children||[]),z.return=W,W=z;break e}else{l(W,z);break}else o(W,z);z=z.sibling}z=qh(K,W.mode,ce),z.return=W,W=z}return S(W);case se:return Ce=K._init,lt(W,z,Ce(K._payload),ce)}if(Tr(K))return ve(W,z,K,ce);if(te(K))return ye(W,z,K,ce);Iu(W,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,z!==null&&z.tag===6?(l(W,z.sibling),z=m(z,K),z.return=W,W=z):(l(W,z),z=Hh(K,W.mode,ce),z.return=W,W=z),S(W)):l(W,z)}return lt}var Co=Qm(!0),Ym=Qm(!1),xu=gi(null),Pu=null,To=null,th=null;function nh(){th=To=Pu=null}function rh(i){var o=xu.current;Ze(xu),i._currentValue=o}function ih(i,o,l){for(;i!==null;){var d=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),i===l)break;i=i.return}}function So(i,o){Pu=i,th=To=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(rn=!0),i.firstContext=null)}function An(i){var o=i._currentValue;if(th!==i)if(i={context:i,memoizedValue:o,next:null},To===null){if(Pu===null)throw Error(t(308));To=i,Pu.dependencies={lanes:0,firstContext:i}}else To=To.next=i;return o}var ms=null;function sh(i){ms===null?ms=[i]:ms.push(i)}function Xm(i,o,l,d){var m=o.interleaved;return m===null?(l.next=l,sh(o)):(l.next=m.next,m.next=l),o.interleaved=l,Lr(i,d)}function Lr(i,o){i.lanes|=o;var l=i.alternate;for(l!==null&&(l.lanes|=o),l=i,i=i.return;i!==null;)i.childLanes|=o,l=i.alternate,l!==null&&(l.childLanes|=o),l=i,i=i.return;return l.tag===3?l.stateNode:null}var _i=!1;function oh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jm(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Or(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function wi(i,o,l){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(Be&2)!==0){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,Lr(i,l)}return m=d.interleaved,m===null?(o.next=o,sh(d)):(o.next=m.next,m.next=o),d.interleaved=o,Lr(i,l)}function Ru(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var d=o.lanes;d&=i.pendingLanes,l|=d,o.lanes=l,ui(i,l)}}function Zm(i,o){var l=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var S={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?m=y=S:y=y.next=S,l=l.next}while(l!==null);y===null?m=y=o:y=y.next=o}else m=y=o;l={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:d.shared,effects:d.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}function ku(i,o,l,d){var m=i.updateQueue;_i=!1;var y=m.firstBaseUpdate,S=m.lastBaseUpdate,F=m.shared.pending;if(F!==null){m.shared.pending=null;var U=F,Y=U.next;U.next=null,S===null?y=Y:S.next=Y,S=U;var le=i.alternate;le!==null&&(le=le.updateQueue,F=le.lastBaseUpdate,F!==S&&(F===null?le.firstBaseUpdate=Y:F.next=Y,le.lastBaseUpdate=U))}if(y!==null){var ue=m.baseState;S=0,le=Y=U=null,F=y;do{var ae=F.lane,pe=F.eventTime;if((d&ae)===ae){le!==null&&(le=le.next={eventTime:pe,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var ve=i,ye=F;switch(ae=o,pe=l,ye.tag){case 1:if(ve=ye.payload,typeof ve=="function"){ue=ve.call(pe,ue,ae);break e}ue=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=ye.payload,ae=typeof ve=="function"?ve.call(pe,ue,ae):ve,ae==null)break e;ue=oe({},ue,ae);break e;case 2:_i=!0}}F.callback!==null&&F.lane!==0&&(i.flags|=64,ae=m.effects,ae===null?m.effects=[F]:ae.push(F))}else pe={eventTime:pe,lane:ae,tag:F.tag,payload:F.payload,callback:F.callback,next:null},le===null?(Y=le=pe,U=ue):le=le.next=pe,S|=ae;if(F=F.next,F===null){if(F=m.shared.pending,F===null)break;ae=F,F=ae.next,ae.next=null,m.lastBaseUpdate=ae,m.shared.pending=null}}while(!0);if(le===null&&(U=ue),m.baseState=U,m.firstBaseUpdate=Y,m.lastBaseUpdate=le,o=m.shared.interleaved,o!==null){m=o;do S|=m.lane,m=m.next;while(m!==o)}else y===null&&(m.shared.lanes=0);ys|=S,i.lanes=S,i.memoizedState=ue}}function eg(i,o,l){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var d=i[o],m=d.callback;if(m!==null){if(d.callback=null,d=l,typeof m!="function")throw Error(t(191,m));m.call(d)}}}var Ga={},or=gi(Ga),Ha=gi(Ga),qa=gi(Ga);function gs(i){if(i===Ga)throw Error(t(174));return i}function ah(i,o){switch(Ye(qa,o),Ye(Ha,i),Ye(or,Ga),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:yt(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=yt(o,i)}Ze(or),Ye(or,o)}function Ao(){Ze(or),Ze(Ha),Ze(qa)}function tg(i){gs(qa.current);var o=gs(or.current),l=yt(o,i.type);o!==l&&(Ye(Ha,i),Ye(or,l))}function lh(i){Ha.current===i&&(Ze(or),Ze(Ha))}var nt=gi(0);function Nu(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var uh=[];function ch(){for(var i=0;i<uh.length;i++)uh[i]._workInProgressVersionPrimary=null;uh.length=0}var bu=$.ReactCurrentDispatcher,dh=$.ReactCurrentBatchConfig,vs=0,rt=null,wt=null,It=null,Du=!1,Wa=!1,Ka=0,eC=0;function Bt(){throw Error(t(321))}function hh(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!Un(i[l],o[l]))return!1;return!0}function fh(i,o,l,d,m,y){if(vs=y,rt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,bu.current=i===null||i.memoizedState===null?iC:sC,i=l(d,m),Wa){y=0;do{if(Wa=!1,Ka=0,25<=y)throw Error(t(301));y+=1,It=wt=null,o.updateQueue=null,bu.current=oC,i=l(d,m)}while(Wa)}if(bu.current=Lu,o=wt!==null&&wt.next!==null,vs=0,It=wt=rt=null,Du=!1,o)throw Error(t(300));return i}function ph(){var i=Ka!==0;return Ka=0,i}function ar(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?rt.memoizedState=It=i:It=It.next=i,It}function In(){if(wt===null){var i=rt.alternate;i=i!==null?i.memoizedState:null}else i=wt.next;var o=It===null?rt.memoizedState:It.next;if(o!==null)It=o,wt=i;else{if(i===null)throw Error(t(310));wt=i,i={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},It===null?rt.memoizedState=It=i:It=It.next=i}return It}function Qa(i,o){return typeof o=="function"?o(i):o}function mh(i){var o=In(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var d=wt,m=d.baseQueue,y=l.pending;if(y!==null){if(m!==null){var S=m.next;m.next=y.next,y.next=S}d.baseQueue=m=y,l.pending=null}if(m!==null){y=m.next,d=d.baseState;var F=S=null,U=null,Y=y;do{var le=Y.lane;if((vs&le)===le)U!==null&&(U=U.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),d=Y.hasEagerState?Y.eagerState:i(d,Y.action);else{var ue={lane:le,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};U===null?(F=U=ue,S=d):U=U.next=ue,rt.lanes|=le,ys|=le}Y=Y.next}while(Y!==null&&Y!==y);U===null?S=d:U.next=F,Un(d,o.memoizedState)||(rn=!0),o.memoizedState=d,o.baseState=S,o.baseQueue=U,l.lastRenderedState=d}if(i=l.interleaved,i!==null){m=i;do y=m.lane,rt.lanes|=y,ys|=y,m=m.next;while(m!==i)}else m===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function gh(i){var o=In(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var d=l.dispatch,m=l.pending,y=o.memoizedState;if(m!==null){l.pending=null;var S=m=m.next;do y=i(y,S.action),S=S.next;while(S!==m);Un(y,o.memoizedState)||(rn=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),l.lastRenderedState=y}return[y,d]}function ng(){}function rg(i,o){var l=rt,d=In(),m=o(),y=!Un(d.memoizedState,m);if(y&&(d.memoizedState=m,rn=!0),d=d.queue,vh(og.bind(null,l,d,i),[i]),d.getSnapshot!==o||y||It!==null&&It.memoizedState.tag&1){if(l.flags|=2048,Ya(9,sg.bind(null,l,d,m,o),void 0,null),xt===null)throw Error(t(349));(vs&30)!==0||ig(l,o,m)}return m}function ig(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=rt.updateQueue,o===null?(o={lastEffect:null,stores:null},rt.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function sg(i,o,l,d){o.value=l,o.getSnapshot=d,ag(o)&&lg(i)}function og(i,o,l){return l(function(){ag(o)&&lg(i)})}function ag(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!Un(i,l)}catch{return!0}}function lg(i){var o=Lr(i,1);o!==null&&qn(o,i,1,-1)}function ug(i){var o=ar();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:i},o.queue=i,i=i.dispatch=rC.bind(null,rt,i),[o.memoizedState,i]}function Ya(i,o,l,d){return i={tag:i,create:o,destroy:l,deps:d,next:null},o=rt.updateQueue,o===null?(o={lastEffect:null,stores:null},rt.updateQueue=o,o.lastEffect=i.next=i):(l=o.lastEffect,l===null?o.lastEffect=i.next=i:(d=l.next,l.next=i,i.next=d,o.lastEffect=i)),i}function cg(){return In().memoizedState}function Mu(i,o,l,d){var m=ar();rt.flags|=i,m.memoizedState=Ya(1|o,l,void 0,d===void 0?null:d)}function Vu(i,o,l,d){var m=In();d=d===void 0?null:d;var y=void 0;if(wt!==null){var S=wt.memoizedState;if(y=S.destroy,d!==null&&hh(d,S.deps)){m.memoizedState=Ya(o,l,y,d);return}}rt.flags|=i,m.memoizedState=Ya(1|o,l,y,d)}function dg(i,o){return Mu(8390656,8,i,o)}function vh(i,o){return Vu(2048,8,i,o)}function hg(i,o){return Vu(4,2,i,o)}function fg(i,o){return Vu(4,4,i,o)}function pg(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function mg(i,o,l){return l=l!=null?l.concat([i]):null,Vu(4,4,pg.bind(null,o,i),l)}function yh(){}function gg(i,o){var l=In();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&hh(o,d[1])?d[0]:(l.memoizedState=[i,o],i)}function vg(i,o){var l=In();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&hh(o,d[1])?d[0]:(i=i(),l.memoizedState=[i,o],i)}function yg(i,o,l){return(vs&21)===0?(i.baseState&&(i.baseState=!1,rn=!0),i.memoizedState=l):(Un(l,o)||(l=os(),rt.lanes|=l,ys|=l,i.baseState=!0),o)}function tC(i,o){var l=Ve;Ve=l!==0&&4>l?l:4,i(!0);var d=dh.transition;dh.transition={};try{i(!1),o()}finally{Ve=l,dh.transition=d}}function _g(){return In().memoizedState}function nC(i,o,l){var d=Si(i);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},wg(i))Eg(o,l);else if(l=Xm(i,o,l,d),l!==null){var m=Yt();qn(l,i,d,m),Cg(l,o,d)}}function rC(i,o,l){var d=Si(i),m={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(wg(i))Eg(o,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var S=o.lastRenderedState,F=y(S,l);if(m.hasEagerState=!0,m.eagerState=F,Un(F,S)){var U=o.interleaved;U===null?(m.next=m,sh(o)):(m.next=U.next,U.next=m),o.interleaved=m;return}}catch{}finally{}l=Xm(i,o,m,d),l!==null&&(m=Yt(),qn(l,i,d,m),Cg(l,o,d))}}function wg(i){var o=i.alternate;return i===rt||o!==null&&o===rt}function Eg(i,o){Wa=Du=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function Cg(i,o,l){if((l&4194240)!==0){var d=o.lanes;d&=i.pendingLanes,l|=d,o.lanes=l,ui(i,l)}}var Lu={readContext:An,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},iC={readContext:An,useCallback:function(i,o){return ar().memoizedState=[i,o===void 0?null:o],i},useContext:An,useEffect:dg,useImperativeHandle:function(i,o,l){return l=l!=null?l.concat([i]):null,Mu(4194308,4,pg.bind(null,o,i),l)},useLayoutEffect:function(i,o){return Mu(4194308,4,i,o)},useInsertionEffect:function(i,o){return Mu(4,2,i,o)},useMemo:function(i,o){var l=ar();return o=o===void 0?null:o,i=i(),l.memoizedState=[i,o],i},useReducer:function(i,o,l){var d=ar();return o=l!==void 0?l(o):o,d.memoizedState=d.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},d.queue=i,i=i.dispatch=nC.bind(null,rt,i),[d.memoizedState,i]},useRef:function(i){var o=ar();return i={current:i},o.memoizedState=i},useState:ug,useDebugValue:yh,useDeferredValue:function(i){return ar().memoizedState=i},useTransition:function(){var i=ug(!1),o=i[0];return i=tC.bind(null,i[1]),ar().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,l){var d=rt,m=ar();if(tt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),xt===null)throw Error(t(349));(vs&30)!==0||ig(d,o,l)}m.memoizedState=l;var y={value:l,getSnapshot:o};return m.queue=y,dg(og.bind(null,d,y,i),[i]),d.flags|=2048,Ya(9,sg.bind(null,d,y,l,o),void 0,null),l},useId:function(){var i=ar(),o=xt.identifierPrefix;if(tt){var l=Vr,d=Mr;l=(d&~(1<<32-Wt(d)-1)).toString(32)+l,o=":"+o+"R"+l,l=Ka++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=eC++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},sC={readContext:An,useCallback:gg,useContext:An,useEffect:vh,useImperativeHandle:mg,useInsertionEffect:hg,useLayoutEffect:fg,useMemo:vg,useReducer:mh,useRef:cg,useState:function(){return mh(Qa)},useDebugValue:yh,useDeferredValue:function(i){var o=In();return yg(o,wt.memoizedState,i)},useTransition:function(){var i=mh(Qa)[0],o=In().memoizedState;return[i,o]},useMutableSource:ng,useSyncExternalStore:rg,useId:_g,unstable_isNewReconciler:!1},oC={readContext:An,useCallback:gg,useContext:An,useEffect:vh,useImperativeHandle:mg,useInsertionEffect:hg,useLayoutEffect:fg,useMemo:vg,useReducer:gh,useRef:cg,useState:function(){return gh(Qa)},useDebugValue:yh,useDeferredValue:function(i){var o=In();return wt===null?o.memoizedState=i:yg(o,wt.memoizedState,i)},useTransition:function(){var i=gh(Qa)[0],o=In().memoizedState;return[i,o]},useMutableSource:ng,useSyncExternalStore:rg,useId:_g,unstable_isNewReconciler:!1};function $n(i,o){if(i&&i.defaultProps){o=oe({},o),i=i.defaultProps;for(var l in i)o[l]===void 0&&(o[l]=i[l]);return o}return o}function _h(i,o,l,d){o=i.memoizedState,l=l(d,o),l=l==null?o:oe({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Ou={isMounted:function(i){return(i=i._reactInternals)?Mn(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var d=Yt(),m=Si(i),y=Or(d,m);y.payload=o,l!=null&&(y.callback=l),o=wi(i,y,m),o!==null&&(qn(o,i,m,d),Ru(o,i,m))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var d=Yt(),m=Si(i),y=Or(d,m);y.tag=1,y.payload=o,l!=null&&(y.callback=l),o=wi(i,y,m),o!==null&&(qn(o,i,m,d),Ru(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=Yt(),d=Si(i),m=Or(l,d);m.tag=2,o!=null&&(m.callback=o),o=wi(i,m,d),o!==null&&(qn(o,i,d,l),Ru(o,i,d))}};function Tg(i,o,l,d,m,y,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,y,S):o.prototype&&o.prototype.isPureReactComponent?!La(l,d)||!La(m,y):!0}function Sg(i,o,l){var d=!1,m=vi,y=o.contextType;return typeof y=="object"&&y!==null?y=An(y):(m=nn(o)?hs:Ft.current,d=o.contextTypes,y=(d=d!=null)?yo(i,m):vi),o=new o(l,y),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Ou,i.stateNode=o,o._reactInternals=i,d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=y),o}function Ag(i,o,l,d){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,d),o.state!==i&&Ou.enqueueReplaceState(o,o.state,null)}function wh(i,o,l,d){var m=i.stateNode;m.props=l,m.state=i.memoizedState,m.refs={},oh(i);var y=o.contextType;typeof y=="object"&&y!==null?m.context=An(y):(y=nn(o)?hs:Ft.current,m.context=yo(i,y)),m.state=i.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(_h(i,o,y,l),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Ou.enqueueReplaceState(m,m.state,null),ku(i,l,m,d),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function Io(i,o){try{var l="",d=o;do l+=Ne(d),d=d.return;while(d);var m=l}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:o,stack:m,digest:null}}function Eh(i,o,l){return{value:i,source:null,stack:l??null,digest:o??null}}function Ch(i,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var aC=typeof WeakMap=="function"?WeakMap:Map;function Ig(i,o,l){l=Or(-1,l),l.tag=3,l.payload={element:null};var d=o.value;return l.callback=function(){Gu||(Gu=!0,Oh=d),Ch(i,o)},l}function xg(i,o,l){l=Or(-1,l),l.tag=3;var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;l.payload=function(){return d(m)},l.callback=function(){Ch(i,o)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Ch(i,o),typeof d!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})}),l}function Pg(i,o,l){var d=i.pingCache;if(d===null){d=i.pingCache=new aC;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(l)||(m.add(l),i=EC.bind(null,i,o,l),o.then(i,i))}function Rg(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function kg(i,o,l,d,m){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=Or(-1,1),o.tag=2,wi(l,o,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var lC=$.ReactCurrentOwner,rn=!1;function Qt(i,o,l,d){o.child=i===null?Ym(o,null,l,d):Co(o,i.child,l,d)}function Ng(i,o,l,d,m){l=l.render;var y=o.ref;return So(o,m),d=fh(i,o,l,d,y,m),l=ph(),i!==null&&!rn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,jr(i,o,m)):(tt&&l&&Yd(o),o.flags|=1,Qt(i,o,d,m),o.child)}function bg(i,o,l,d,m){if(i===null){var y=l.type;return typeof y=="function"&&!Gh(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=y,Dg(i,o,y,d,m)):(i=Yu(l.type,null,d,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(y=i.child,(i.lanes&m)===0){var S=y.memoizedProps;if(l=l.compare,l=l!==null?l:La,l(S,d)&&i.ref===o.ref)return jr(i,o,m)}return o.flags|=1,i=Ii(y,d),i.ref=o.ref,i.return=o,o.child=i}function Dg(i,o,l,d,m){if(i!==null){var y=i.memoizedProps;if(La(y,d)&&i.ref===o.ref)if(rn=!1,o.pendingProps=d=y,(i.lanes&m)!==0)(i.flags&131072)!==0&&(rn=!0);else return o.lanes=i.lanes,jr(i,o,m)}return Th(i,o,l,d,m)}function Mg(i,o,l){var d=o.pendingProps,m=d.children,y=i!==null?i.memoizedState:null;if(d.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(Po,gn),gn|=l;else{if((l&1073741824)===0)return i=y!==null?y.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Ye(Po,gn),gn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:l,Ye(Po,gn),gn|=d}else y!==null?(d=y.baseLanes|l,o.memoizedState=null):d=l,Ye(Po,gn),gn|=d;return Qt(i,o,m,l),o.child}function Vg(i,o){var l=o.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function Th(i,o,l,d,m){var y=nn(l)?hs:Ft.current;return y=yo(o,y),So(o,m),l=fh(i,o,l,d,y,m),d=ph(),i!==null&&!rn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,jr(i,o,m)):(tt&&d&&Yd(o),o.flags|=1,Qt(i,o,l,m),o.child)}function Lg(i,o,l,d,m){if(nn(l)){var y=!0;Eu(o)}else y=!1;if(So(o,m),o.stateNode===null)Fu(i,o),Sg(o,l,d),wh(o,l,d,m),d=!0;else if(i===null){var S=o.stateNode,F=o.memoizedProps;S.props=F;var U=S.context,Y=l.contextType;typeof Y=="object"&&Y!==null?Y=An(Y):(Y=nn(l)?hs:Ft.current,Y=yo(o,Y));var le=l.getDerivedStateFromProps,ue=typeof le=="function"||typeof S.getSnapshotBeforeUpdate=="function";ue||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(F!==d||U!==Y)&&Ag(o,S,d,Y),_i=!1;var ae=o.memoizedState;S.state=ae,ku(o,d,S,m),U=o.memoizedState,F!==d||ae!==U||tn.current||_i?(typeof le=="function"&&(_h(o,l,le,d),U=o.memoizedState),(F=_i||Tg(o,l,F,d,ae,U,Y))?(ue||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=U),S.props=d,S.state=U,S.context=Y,d=F):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{S=o.stateNode,Jm(i,o),F=o.memoizedProps,Y=o.type===o.elementType?F:$n(o.type,F),S.props=Y,ue=o.pendingProps,ae=S.context,U=l.contextType,typeof U=="object"&&U!==null?U=An(U):(U=nn(l)?hs:Ft.current,U=yo(o,U));var pe=l.getDerivedStateFromProps;(le=typeof pe=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(F!==ue||ae!==U)&&Ag(o,S,d,U),_i=!1,ae=o.memoizedState,S.state=ae,ku(o,d,S,m);var ve=o.memoizedState;F!==ue||ae!==ve||tn.current||_i?(typeof pe=="function"&&(_h(o,l,pe,d),ve=o.memoizedState),(Y=_i||Tg(o,l,Y,d,ae,ve,U)||!1)?(le||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(d,ve,U),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(d,ve,U)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||F===i.memoizedProps&&ae===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||F===i.memoizedProps&&ae===i.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=ve),S.props=d,S.state=ve,S.context=U,d=Y):(typeof S.componentDidUpdate!="function"||F===i.memoizedProps&&ae===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||F===i.memoizedProps&&ae===i.memoizedState||(o.flags|=1024),d=!1)}return Sh(i,o,l,d,y,m)}function Sh(i,o,l,d,m,y){Vg(i,o);var S=(o.flags&128)!==0;if(!d&&!S)return m&&Um(o,l,!1),jr(i,o,y);d=o.stateNode,lC.current=o;var F=S&&typeof l.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,i!==null&&S?(o.child=Co(o,i.child,null,y),o.child=Co(o,null,F,y)):Qt(i,o,F,y),o.memoizedState=d.state,m&&Um(o,l,!0),o.child}function Og(i){var o=i.stateNode;o.pendingContext?Fm(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Fm(i,o.context,!1),ah(i,o.containerInfo)}function jg(i,o,l,d,m){return Eo(),eh(m),o.flags|=256,Qt(i,o,l,d),o.child}var Ah={dehydrated:null,treeContext:null,retryLane:0};function Ih(i){return{baseLanes:i,cachePool:null,transitions:null}}function Fg(i,o,l){var d=o.pendingProps,m=nt.current,y=!1,S=(o.flags&128)!==0,F;if((F=S)||(F=i!==null&&i.memoizedState===null?!1:(m&2)!==0),F?(y=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),Ye(nt,m&1),i===null)return Zd(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(S=d.children,i=d.fallback,y?(d=o.mode,y=o.child,S={mode:"hidden",children:S},(d&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=S):y=Xu(S,d,0,null),i=Cs(i,d,l,null),y.return=o,i.return=o,y.sibling=i,o.child=y,o.child.memoizedState=Ih(l),o.memoizedState=Ah,i):xh(o,S));if(m=i.memoizedState,m!==null&&(F=m.dehydrated,F!==null))return uC(i,o,S,d,F,m,l);if(y){y=d.fallback,S=o.mode,m=i.child,F=m.sibling;var U={mode:"hidden",children:d.children};return(S&1)===0&&o.child!==m?(d=o.child,d.childLanes=0,d.pendingProps=U,o.deletions=null):(d=Ii(m,U),d.subtreeFlags=m.subtreeFlags&14680064),F!==null?y=Ii(F,y):(y=Cs(y,S,l,null),y.flags|=2),y.return=o,d.return=o,d.sibling=y,o.child=d,d=y,y=o.child,S=i.child.memoizedState,S=S===null?Ih(l):{baseLanes:S.baseLanes|l,cachePool:null,transitions:S.transitions},y.memoizedState=S,y.childLanes=i.childLanes&~l,o.memoizedState=Ah,d}return y=i.child,i=y.sibling,d=Ii(y,{mode:"visible",children:d.children}),(o.mode&1)===0&&(d.lanes=l),d.return=o,d.sibling=null,i!==null&&(l=o.deletions,l===null?(o.deletions=[i],o.flags|=16):l.push(i)),o.child=d,o.memoizedState=null,d}function xh(i,o){return o=Xu({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function ju(i,o,l,d){return d!==null&&eh(d),Co(o,i.child,null,l),i=xh(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function uC(i,o,l,d,m,y,S){if(l)return o.flags&256?(o.flags&=-257,d=Eh(Error(t(422))),ju(i,o,S,d)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(y=d.fallback,m=o.mode,d=Xu({mode:"visible",children:d.children},m,0,null),y=Cs(y,m,S,null),y.flags|=2,d.return=o,y.return=o,d.sibling=y,o.child=d,(o.mode&1)!==0&&Co(o,i.child,null,S),o.child.memoizedState=Ih(S),o.memoizedState=Ah,y);if((o.mode&1)===0)return ju(i,o,S,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var F=d.dgst;return d=F,y=Error(t(419)),d=Eh(y,d,void 0),ju(i,o,S,d)}if(F=(S&i.childLanes)!==0,rn||F){if(d=xt,d!==null){switch(S&-S){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|S))!==0?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,Lr(i,m),qn(d,i,m,-1))}return $h(),d=Eh(Error(t(421))),ju(i,o,S,d)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=CC.bind(null,i),m._reactRetry=o,null):(i=y.treeContext,mn=mi(m.nextSibling),pn=o,tt=!0,zn=null,i!==null&&(Tn[Sn++]=Mr,Tn[Sn++]=Vr,Tn[Sn++]=fs,Mr=i.id,Vr=i.overflow,fs=o),o=xh(o,d.children),o.flags|=4096,o)}function Bg(i,o,l){i.lanes|=o;var d=i.alternate;d!==null&&(d.lanes|=o),ih(i.return,o,l)}function Ph(i,o,l,d,m){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:m}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=m)}function Ug(i,o,l){var d=o.pendingProps,m=d.revealOrder,y=d.tail;if(Qt(i,o,d.children,l),d=nt.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Bg(i,l,o);else if(i.tag===19)Bg(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}if(Ye(nt,d),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(l=o.child,m=null;l!==null;)i=l.alternate,i!==null&&Nu(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),Ph(o,!1,m,l,y);break;case"backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&Nu(i)===null){o.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}Ph(o,!0,l,null,y);break;case"together":Ph(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Fu(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function jr(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),ys|=o.lanes,(l&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,l=Ii(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=Ii(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function cC(i,o,l){switch(o.tag){case 3:Og(o),Eo();break;case 5:tg(o);break;case 1:nn(o.type)&&Eu(o);break;case 4:ah(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,m=o.memoizedProps.value;Ye(xu,d._currentValue),d._currentValue=m;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(Ye(nt,nt.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?Fg(i,o,l):(Ye(nt,nt.current&1),i=jr(i,o,l),i!==null?i.sibling:null);Ye(nt,nt.current&1);break;case 19:if(d=(l&o.childLanes)!==0,(i.flags&128)!==0){if(d)return Ug(i,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ye(nt,nt.current),d)break;return null;case 22:case 23:return o.lanes=0,Mg(i,o,l)}return jr(i,o,l)}var zg,Rh,$g,Gg;zg=function(i,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Rh=function(){},$g=function(i,o,l,d){var m=i.memoizedProps;if(m!==d){i=o.stateNode,gs(or.current);var y=null;switch(l){case"input":m=Qi(i,m),d=Qi(i,d),y=[];break;case"select":m=oe({},m,{value:void 0}),d=oe({},d,{value:void 0}),y=[];break;case"textarea":m=da(i,m),d=da(i,d),y=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(i.onclick=yu)}va(l,d);var S;l=null;for(Y in m)if(!d.hasOwnProperty(Y)&&m.hasOwnProperty(Y)&&m[Y]!=null)if(Y==="style"){var F=m[Y];for(S in F)F.hasOwnProperty(S)&&(l||(l={}),l[S]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(s.hasOwnProperty(Y)?y||(y=[]):(y=y||[]).push(Y,null));for(Y in d){var U=d[Y];if(F=m!=null?m[Y]:void 0,d.hasOwnProperty(Y)&&U!==F&&(U!=null||F!=null))if(Y==="style")if(F){for(S in F)!F.hasOwnProperty(S)||U&&U.hasOwnProperty(S)||(l||(l={}),l[S]="");for(S in U)U.hasOwnProperty(S)&&F[S]!==U[S]&&(l||(l={}),l[S]=U[S])}else l||(y||(y=[]),y.push(Y,l)),l=U;else Y==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,F=F?F.__html:void 0,U!=null&&F!==U&&(y=y||[]).push(Y,U)):Y==="children"?typeof U!="string"&&typeof U!="number"||(y=y||[]).push(Y,""+U):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(s.hasOwnProperty(Y)?(U!=null&&Y==="onScroll"&&Je("scroll",i),y||F===U||(y=[])):(y=y||[]).push(Y,U))}l&&(y=y||[]).push("style",l);var Y=y;(o.updateQueue=Y)&&(o.flags|=4)}},Gg=function(i,o,l,d){l!==d&&(o.flags|=4)};function Xa(i,o){if(!tt)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function Ut(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,d=0;if(o)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=d,i.childLanes=l,o}function dC(i,o,l){var d=o.pendingProps;switch(Xd(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(o),null;case 1:return nn(o.type)&&wu(),Ut(o),null;case 3:return d=o.stateNode,Ao(),Ze(tn),Ze(Ft),ch(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(Au(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,zn!==null&&(Bh(zn),zn=null))),Rh(i,o),Ut(o),null;case 5:lh(o);var m=gs(qa.current);if(l=o.type,i!==null&&o.stateNode!=null)$g(i,o,l,d,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(t(166));return Ut(o),null}if(i=gs(or.current),Au(o)){d=o.stateNode,l=o.type;var y=o.memoizedProps;switch(d[sr]=o,d[Ua]=y,i=(o.mode&1)!==0,l){case"dialog":Je("cancel",d),Je("close",d);break;case"iframe":case"object":case"embed":Je("load",d);break;case"video":case"audio":for(m=0;m<ja.length;m++)Je(ja[m],d);break;case"source":Je("error",d);break;case"img":case"image":case"link":Je("error",d),Je("load",d);break;case"details":Je("toggle",d);break;case"input":Fs(d,y),Je("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},Je("invalid",d);break;case"textarea":Us(d,y),Je("invalid",d)}va(l,y),m=null;for(var S in y)if(y.hasOwnProperty(S)){var F=y[S];S==="children"?typeof F=="string"?d.textContent!==F&&(y.suppressHydrationWarning!==!0&&vu(d.textContent,F,i),m=["children",F]):typeof F=="number"&&d.textContent!==""+F&&(y.suppressHydrationWarning!==!0&&vu(d.textContent,F,i),m=["children",""+F]):s.hasOwnProperty(S)&&F!=null&&S==="onScroll"&&Je("scroll",d)}switch(l){case"input":Cr(d),$l(d,y,!0);break;case"textarea":Cr(d),ha(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=yu)}d=m,o.updateQueue=d,d!==null&&(o.flags|=4)}else{S=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=vt(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=S.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof d.is=="string"?i=S.createElement(l,{is:d.is}):(i=S.createElement(l),l==="select"&&(S=i,d.multiple?S.multiple=!0:d.size&&(S.size=d.size))):i=S.createElementNS(i,l),i[sr]=o,i[Ua]=d,zg(i,o,!1,!1),o.stateNode=i;e:{switch(S=ya(l,d),l){case"dialog":Je("cancel",i),Je("close",i),m=d;break;case"iframe":case"object":case"embed":Je("load",i),m=d;break;case"video":case"audio":for(m=0;m<ja.length;m++)Je(ja[m],i);m=d;break;case"source":Je("error",i),m=d;break;case"img":case"image":case"link":Je("error",i),Je("load",i),m=d;break;case"details":Je("toggle",i),m=d;break;case"input":Fs(i,d),m=Qi(i,d),Je("invalid",i);break;case"option":m=d;break;case"select":i._wrapperState={wasMultiple:!!d.multiple},m=oe({},d,{value:void 0}),Je("invalid",i);break;case"textarea":Us(i,d),m=da(i,d),Je("invalid",i);break;default:m=d}va(l,m),F=m;for(y in F)if(F.hasOwnProperty(y)){var U=F[y];y==="style"?ma(i,U):y==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,U!=null&&fa(i,U)):y==="children"?typeof U=="string"?(l!=="textarea"||U!=="")&&ii(i,U):typeof U=="number"&&ii(i,""+U):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(s.hasOwnProperty(y)?U!=null&&y==="onScroll"&&Je("scroll",i):U!=null&&V(i,y,U,S))}switch(l){case"input":Cr(i),$l(i,d,!1);break;case"textarea":Cr(i),ha(i);break;case"option":d.value!=null&&i.setAttribute("value",""+$e(d.value));break;case"select":i.multiple=!!d.multiple,y=d.value,y!=null?Sr(i,!!d.multiple,y,!1):d.defaultValue!=null&&Sr(i,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=yu)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Ut(o),null;case 6:if(i&&o.stateNode!=null)Gg(i,o,i.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(t(166));if(l=gs(qa.current),gs(or.current),Au(o)){if(d=o.stateNode,l=o.memoizedProps,d[sr]=o,(y=d.nodeValue!==l)&&(i=pn,i!==null))switch(i.tag){case 3:vu(d.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&vu(d.nodeValue,l,(i.mode&1)!==0)}y&&(o.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[sr]=o,o.stateNode=d}return Ut(o),null;case 13:if(Ze(nt),d=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(tt&&mn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Wm(),Eo(),o.flags|=98560,y=!1;else if(y=Au(o),d!==null&&d.dehydrated!==null){if(i===null){if(!y)throw Error(t(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[sr]=o}else Eo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ut(o),y=!1}else zn!==null&&(Bh(zn),zn=null),y=!0;if(!y)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(d=d!==null,d!==(i!==null&&i.memoizedState!==null)&&d&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(nt.current&1)!==0?Et===0&&(Et=3):$h())),o.updateQueue!==null&&(o.flags|=4),Ut(o),null);case 4:return Ao(),Rh(i,o),i===null&&Fa(o.stateNode.containerInfo),Ut(o),null;case 10:return rh(o.type._context),Ut(o),null;case 17:return nn(o.type)&&wu(),Ut(o),null;case 19:if(Ze(nt),y=o.memoizedState,y===null)return Ut(o),null;if(d=(o.flags&128)!==0,S=y.rendering,S===null)if(d)Xa(y,!1);else{if(Et!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(S=Nu(i),S!==null){for(o.flags|=128,Xa(y,!1),d=S.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=l,l=o.child;l!==null;)y=l,i=d,y.flags&=14680066,S=y.alternate,S===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=S.childLanes,y.lanes=S.lanes,y.child=S.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=S.memoizedProps,y.memoizedState=S.memoizedState,y.updateQueue=S.updateQueue,y.type=S.type,i=S.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return Ye(nt,nt.current&1|2),o.child}i=i.sibling}y.tail!==null&&Qe()>Ro&&(o.flags|=128,d=!0,Xa(y,!1),o.lanes=4194304)}else{if(!d)if(i=Nu(S),i!==null){if(o.flags|=128,d=!0,l=i.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),Xa(y,!0),y.tail===null&&y.tailMode==="hidden"&&!S.alternate&&!tt)return Ut(o),null}else 2*Qe()-y.renderingStartTime>Ro&&l!==1073741824&&(o.flags|=128,d=!0,Xa(y,!1),o.lanes=4194304);y.isBackwards?(S.sibling=o.child,o.child=S):(l=y.last,l!==null?l.sibling=S:o.child=S,y.last=S)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=Qe(),o.sibling=null,l=nt.current,Ye(nt,d?l&1|2:l&1),o):(Ut(o),null);case 22:case 23:return zh(),d=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==d&&(o.flags|=8192),d&&(o.mode&1)!==0?(gn&1073741824)!==0&&(Ut(o),o.subtreeFlags&6&&(o.flags|=8192)):Ut(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function hC(i,o){switch(Xd(o),o.tag){case 1:return nn(o.type)&&wu(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Ao(),Ze(tn),Ze(Ft),ch(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return lh(o),null;case 13:if(Ze(nt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Eo()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Ze(nt),null;case 4:return Ao(),null;case 10:return rh(o.type._context),null;case 22:case 23:return zh(),null;case 24:return null;default:return null}}var Bu=!1,zt=!1,fC=typeof WeakSet=="function"?WeakSet:Set,ge=null;function xo(i,o){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){ot(i,o,d)}else l.current=null}function kh(i,o,l){try{l()}catch(d){ot(i,o,d)}}var Hg=!1;function pC(i,o){if(zd=hi,i=Tm(),Md(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var m=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var S=0,F=-1,U=-1,Y=0,le=0,ue=i,ae=null;t:for(;;){for(var pe;ue!==l||m!==0&&ue.nodeType!==3||(F=S+m),ue!==y||d!==0&&ue.nodeType!==3||(U=S+d),ue.nodeType===3&&(S+=ue.nodeValue.length),(pe=ue.firstChild)!==null;)ae=ue,ue=pe;for(;;){if(ue===i)break t;if(ae===l&&++Y===m&&(F=S),ae===y&&++le===d&&(U=S),(pe=ue.nextSibling)!==null)break;ue=ae,ae=ue.parentNode}ue=pe}l=F===-1||U===-1?null:{start:F,end:U}}else l=null}l=l||{start:0,end:0}}else l=null;for($d={focusedElem:i,selectionRange:l},hi=!1,ge=o;ge!==null;)if(o=ge,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,ge=i;else for(;ge!==null;){o=ge;try{var ve=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var ye=ve.memoizedProps,lt=ve.memoizedState,W=o.stateNode,z=W.getSnapshotBeforeUpdate(o.elementType===o.type?ye:$n(o.type,ye),lt);W.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var K=o.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ce){ot(o,o.return,ce)}if(i=o.sibling,i!==null){i.return=o.return,ge=i;break}ge=o.return}return ve=Hg,Hg=!1,ve}function Ja(i,o,l){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&i)===i){var y=m.destroy;m.destroy=void 0,y!==void 0&&kh(o,l,y)}m=m.next}while(m!==d)}}function Uu(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&i)===i){var d=l.create;l.destroy=d()}l=l.next}while(l!==o)}}function Nh(i){var o=i.ref;if(o!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof o=="function"?o(i):o.current=i}}function qg(i){var o=i.alternate;o!==null&&(i.alternate=null,qg(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[sr],delete o[Ua],delete o[Wd],delete o[YE],delete o[XE])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Wg(i){return i.tag===5||i.tag===3||i.tag===4}function Kg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Wg(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function bh(i,o,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=yu));else if(d!==4&&(i=i.child,i!==null))for(bh(i,o,l),i=i.sibling;i!==null;)bh(i,o,l),i=i.sibling}function Dh(i,o,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(d!==4&&(i=i.child,i!==null))for(Dh(i,o,l),i=i.sibling;i!==null;)Dh(i,o,l),i=i.sibling}var Mt=null,Gn=!1;function Ei(i,o,l){for(l=l.child;l!==null;)Qg(i,o,l),l=l.sibling}function Qg(i,o,l){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(is,l)}catch{}switch(l.tag){case 5:zt||xo(l,o);case 6:var d=Mt,m=Gn;Mt=null,Ei(i,o,l),Mt=d,Gn=m,Mt!==null&&(Gn?(i=Mt,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Mt.removeChild(l.stateNode));break;case 18:Mt!==null&&(Gn?(i=Mt,l=l.stateNode,i.nodeType===8?qd(i.parentNode,l):i.nodeType===1&&qd(i,l),Fn(i)):qd(Mt,l.stateNode));break;case 4:d=Mt,m=Gn,Mt=l.stateNode.containerInfo,Gn=!0,Ei(i,o,l),Mt=d,Gn=m;break;case 0:case 11:case 14:case 15:if(!zt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var y=m,S=y.destroy;y=y.tag,S!==void 0&&((y&2)!==0||(y&4)!==0)&&kh(l,o,S),m=m.next}while(m!==d)}Ei(i,o,l);break;case 1:if(!zt&&(xo(l,o),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(F){ot(l,o,F)}Ei(i,o,l);break;case 21:Ei(i,o,l);break;case 22:l.mode&1?(zt=(d=zt)||l.memoizedState!==null,Ei(i,o,l),zt=d):Ei(i,o,l);break;default:Ei(i,o,l)}}function Yg(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new fC),o.forEach(function(d){var m=TC.bind(null,i,d);l.has(d)||(l.add(d),d.then(m,m))})}}function Hn(i,o){var l=o.deletions;if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];try{var y=i,S=o,F=S;e:for(;F!==null;){switch(F.tag){case 5:Mt=F.stateNode,Gn=!1;break e;case 3:Mt=F.stateNode.containerInfo,Gn=!0;break e;case 4:Mt=F.stateNode.containerInfo,Gn=!0;break e}F=F.return}if(Mt===null)throw Error(t(160));Qg(y,S,m),Mt=null,Gn=!1;var U=m.alternate;U!==null&&(U.return=null),m.return=null}catch(Y){ot(m,o,Y)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Xg(o,i),o=o.sibling}function Xg(i,o){var l=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Hn(o,i),lr(i),d&4){try{Ja(3,i,i.return),Uu(3,i)}catch(ye){ot(i,i.return,ye)}try{Ja(5,i,i.return)}catch(ye){ot(i,i.return,ye)}}break;case 1:Hn(o,i),lr(i),d&512&&l!==null&&xo(l,l.return);break;case 5:if(Hn(o,i),lr(i),d&512&&l!==null&&xo(l,l.return),i.flags&32){var m=i.stateNode;try{ii(m,"")}catch(ye){ot(i,i.return,ye)}}if(d&4&&(m=i.stateNode,m!=null)){var y=i.memoizedProps,S=l!==null?l.memoizedProps:y,F=i.type,U=i.updateQueue;if(i.updateQueue=null,U!==null)try{F==="input"&&y.type==="radio"&&y.name!=null&&ua(m,y),ya(F,S);var Y=ya(F,y);for(S=0;S<U.length;S+=2){var le=U[S],ue=U[S+1];le==="style"?ma(m,ue):le==="dangerouslySetInnerHTML"?fa(m,ue):le==="children"?ii(m,ue):V(m,le,ue,Y)}switch(F){case"input":ca(m,y);break;case"textarea":zs(m,y);break;case"select":var ae=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var pe=y.value;pe!=null?Sr(m,!!y.multiple,pe,!1):ae!==!!y.multiple&&(y.defaultValue!=null?Sr(m,!!y.multiple,y.defaultValue,!0):Sr(m,!!y.multiple,y.multiple?[]:"",!1))}m[Ua]=y}catch(ye){ot(i,i.return,ye)}}break;case 6:if(Hn(o,i),lr(i),d&4){if(i.stateNode===null)throw Error(t(162));m=i.stateNode,y=i.memoizedProps;try{m.nodeValue=y}catch(ye){ot(i,i.return,ye)}}break;case 3:if(Hn(o,i),lr(i),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Fn(o.containerInfo)}catch(ye){ot(i,i.return,ye)}break;case 4:Hn(o,i),lr(i);break;case 13:Hn(o,i),lr(i),m=i.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(Lh=Qe())),d&4&&Yg(i);break;case 22:if(le=l!==null&&l.memoizedState!==null,i.mode&1?(zt=(Y=zt)||le,Hn(o,i),zt=Y):Hn(o,i),lr(i),d&8192){if(Y=i.memoizedState!==null,(i.stateNode.isHidden=Y)&&!le&&(i.mode&1)!==0)for(ge=i,le=i.child;le!==null;){for(ue=ge=le;ge!==null;){switch(ae=ge,pe=ae.child,ae.tag){case 0:case 11:case 14:case 15:Ja(4,ae,ae.return);break;case 1:xo(ae,ae.return);var ve=ae.stateNode;if(typeof ve.componentWillUnmount=="function"){d=ae,l=ae.return;try{o=d,ve.props=o.memoizedProps,ve.state=o.memoizedState,ve.componentWillUnmount()}catch(ye){ot(d,l,ye)}}break;case 5:xo(ae,ae.return);break;case 22:if(ae.memoizedState!==null){ev(ue);continue}}pe!==null?(pe.return=ae,ge=pe):ev(ue)}le=le.sibling}e:for(le=null,ue=i;;){if(ue.tag===5){if(le===null){le=ue;try{m=ue.stateNode,Y?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(F=ue.stateNode,U=ue.memoizedProps.style,S=U!=null&&U.hasOwnProperty("display")?U.display:null,F.style.display=pa("display",S))}catch(ye){ot(i,i.return,ye)}}}else if(ue.tag===6){if(le===null)try{ue.stateNode.nodeValue=Y?"":ue.memoizedProps}catch(ye){ot(i,i.return,ye)}}else if((ue.tag!==22&&ue.tag!==23||ue.memoizedState===null||ue===i)&&ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===i)break e;for(;ue.sibling===null;){if(ue.return===null||ue.return===i)break e;le===ue&&(le=null),ue=ue.return}le===ue&&(le=null),ue.sibling.return=ue.return,ue=ue.sibling}}break;case 19:Hn(o,i),lr(i),d&4&&Yg(i);break;case 21:break;default:Hn(o,i),lr(i)}}function lr(i){var o=i.flags;if(o&2){try{e:{for(var l=i.return;l!==null;){if(Wg(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(ii(m,""),d.flags&=-33);var y=Kg(i);Dh(i,y,m);break;case 3:case 4:var S=d.stateNode.containerInfo,F=Kg(i);bh(i,F,S);break;default:throw Error(t(161))}}catch(U){ot(i,i.return,U)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function mC(i,o,l){ge=i,Jg(i)}function Jg(i,o,l){for(var d=(i.mode&1)!==0;ge!==null;){var m=ge,y=m.child;if(m.tag===22&&d){var S=m.memoizedState!==null||Bu;if(!S){var F=m.alternate,U=F!==null&&F.memoizedState!==null||zt;F=Bu;var Y=zt;if(Bu=S,(zt=U)&&!Y)for(ge=m;ge!==null;)S=ge,U=S.child,S.tag===22&&S.memoizedState!==null?tv(m):U!==null?(U.return=S,ge=U):tv(m);for(;y!==null;)ge=y,Jg(y),y=y.sibling;ge=m,Bu=F,zt=Y}Zg(i)}else(m.subtreeFlags&8772)!==0&&y!==null?(y.return=m,ge=y):Zg(i)}}function Zg(i){for(;ge!==null;){var o=ge;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:zt||Uu(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!zt)if(l===null)d.componentDidMount();else{var m=o.elementType===o.type?l.memoizedProps:$n(o.type,l.memoizedProps);d.componentDidUpdate(m,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&eg(o,y,d);break;case 3:var S=o.updateQueue;if(S!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}eg(o,S,l)}break;case 5:var F=o.stateNode;if(l===null&&o.flags&4){l=F;var U=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":U.autoFocus&&l.focus();break;case"img":U.src&&(l.src=U.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Y=o.alternate;if(Y!==null){var le=Y.memoizedState;if(le!==null){var ue=le.dehydrated;ue!==null&&Fn(ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}zt||o.flags&512&&Nh(o)}catch(ae){ot(o,o.return,ae)}}if(o===i){ge=null;break}if(l=o.sibling,l!==null){l.return=o.return,ge=l;break}ge=o.return}}function ev(i){for(;ge!==null;){var o=ge;if(o===i){ge=null;break}var l=o.sibling;if(l!==null){l.return=o.return,ge=l;break}ge=o.return}}function tv(i){for(;ge!==null;){var o=ge;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{Uu(4,o)}catch(U){ot(o,l,U)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var m=o.return;try{d.componentDidMount()}catch(U){ot(o,m,U)}}var y=o.return;try{Nh(o)}catch(U){ot(o,y,U)}break;case 5:var S=o.return;try{Nh(o)}catch(U){ot(o,S,U)}}}catch(U){ot(o,o.return,U)}if(o===i){ge=null;break}var F=o.sibling;if(F!==null){F.return=o.return,ge=F;break}ge=o.return}}var gC=Math.ceil,zu=$.ReactCurrentDispatcher,Mh=$.ReactCurrentOwner,xn=$.ReactCurrentBatchConfig,Be=0,xt=null,ht=null,Vt=0,gn=0,Po=gi(0),Et=0,Za=null,ys=0,$u=0,Vh=0,el=null,sn=null,Lh=0,Ro=1/0,Fr=null,Gu=!1,Oh=null,Ci=null,Hu=!1,Ti=null,qu=0,tl=0,jh=null,Wu=-1,Ku=0;function Yt(){return(Be&6)!==0?Qe():Wu!==-1?Wu:Wu=Qe()}function Si(i){return(i.mode&1)===0?1:(Be&2)!==0&&Vt!==0?Vt&-Vt:ZE.transition!==null?(Ku===0&&(Ku=os()),Ku):(i=Ve,i!==0||(i=window.event,i=i===void 0?16:Ra(i.type)),i)}function qn(i,o,l,d){if(50<tl)throw tl=0,jh=null,Error(t(185));li(i,l,d),((Be&2)===0||i!==xt)&&(i===xt&&((Be&2)===0&&($u|=l),Et===4&&Ai(i,Vt)),on(i,d),l===1&&Be===0&&(o.mode&1)===0&&(Ro=Qe()+500,Cu&&yi()))}function on(i,o){var l=i.callbackNode;xr(i,o);var d=ss(i,i===xt?Vt:0);if(d===0)l!==null&&Sa(l),i.callbackNode=null,i.callbackPriority=0;else if(o=d&-d,i.callbackPriority!==o){if(l!=null&&Sa(l),o===1)i.tag===0?JE(rv.bind(null,i)):zm(rv.bind(null,i)),KE(function(){(Be&6)===0&&yi()}),l=null;else{switch(ci(d)){case 1:l=rs;break;case 4:l=si;break;case 16:l=wn;break;case 536870912:l=Kl;break;default:l=wn}l=dv(l,nv.bind(null,i))}i.callbackPriority=o,i.callbackNode=l}}function nv(i,o){if(Wu=-1,Ku=0,(Be&6)!==0)throw Error(t(327));var l=i.callbackNode;if(ko()&&i.callbackNode!==l)return null;var d=ss(i,i===xt?Vt:0);if(d===0)return null;if((d&30)!==0||(d&i.expiredLanes)!==0||o)o=Qu(i,d);else{o=d;var m=Be;Be|=2;var y=sv();(xt!==i||Vt!==o)&&(Fr=null,Ro=Qe()+500,ws(i,o));do try{_C();break}catch(F){iv(i,F)}while(!0);nh(),zu.current=y,Be=m,ht!==null?o=0:(xt=null,Vt=0,o=Et)}if(o!==0){if(o===2&&(m=dn(i),m!==0&&(d=m,o=Fh(i,m))),o===1)throw l=Za,ws(i,0),Ai(i,d),on(i,Qe()),l;if(o===6)Ai(i,d);else{if(m=i.current.alternate,(d&30)===0&&!vC(m)&&(o=Qu(i,d),o===2&&(y=dn(i),y!==0&&(d=y,o=Fh(i,y))),o===1))throw l=Za,ws(i,0),Ai(i,d),on(i,Qe()),l;switch(i.finishedWork=m,i.finishedLanes=d,o){case 0:case 1:throw Error(t(345));case 2:Es(i,sn,Fr);break;case 3:if(Ai(i,d),(d&130023424)===d&&(o=Lh+500-Qe(),10<o)){if(ss(i,0)!==0)break;if(m=i.suspendedLanes,(m&d)!==d){Yt(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=Hd(Es.bind(null,i,sn,Fr),o);break}Es(i,sn,Fr);break;case 4:if(Ai(i,d),(d&4194240)===d)break;for(o=i.eventTimes,m=-1;0<d;){var S=31-Wt(d);y=1<<S,S=o[S],S>m&&(m=S),d&=~y}if(d=m,d=Qe()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*gC(d/1960))-d,10<d){i.timeoutHandle=Hd(Es.bind(null,i,sn,Fr),d);break}Es(i,sn,Fr);break;case 5:Es(i,sn,Fr);break;default:throw Error(t(329))}}}return on(i,Qe()),i.callbackNode===l?nv.bind(null,i):null}function Fh(i,o){var l=el;return i.current.memoizedState.isDehydrated&&(ws(i,o).flags|=256),i=Qu(i,o),i!==2&&(o=sn,sn=l,o!==null&&Bh(o)),i}function Bh(i){sn===null?sn=i:sn.push.apply(sn,i)}function vC(i){for(var o=i;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var m=l[d],y=m.getSnapshot;m=m.value;try{if(!Un(y(),m))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ai(i,o){for(o&=~Vh,o&=~$u,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var l=31-Wt(o),d=1<<l;i[l]=-1,o&=~d}}function rv(i){if((Be&6)!==0)throw Error(t(327));ko();var o=ss(i,0);if((o&1)===0)return on(i,Qe()),null;var l=Qu(i,o);if(i.tag!==0&&l===2){var d=dn(i);d!==0&&(o=d,l=Fh(i,d))}if(l===1)throw l=Za,ws(i,0),Ai(i,o),on(i,Qe()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Es(i,sn,Fr),on(i,Qe()),null}function Uh(i,o){var l=Be;Be|=1;try{return i(o)}finally{Be=l,Be===0&&(Ro=Qe()+500,Cu&&yi())}}function _s(i){Ti!==null&&Ti.tag===0&&(Be&6)===0&&ko();var o=Be;Be|=1;var l=xn.transition,d=Ve;try{if(xn.transition=null,Ve=1,i)return i()}finally{Ve=d,xn.transition=l,Be=o,(Be&6)===0&&yi()}}function zh(){gn=Po.current,Ze(Po)}function ws(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,WE(l)),ht!==null)for(l=ht.return;l!==null;){var d=l;switch(Xd(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&wu();break;case 3:Ao(),Ze(tn),Ze(Ft),ch();break;case 5:lh(d);break;case 4:Ao();break;case 13:Ze(nt);break;case 19:Ze(nt);break;case 10:rh(d.type._context);break;case 22:case 23:zh()}l=l.return}if(xt=i,ht=i=Ii(i.current,null),Vt=gn=o,Et=0,Za=null,Vh=$u=ys=0,sn=el=null,ms!==null){for(o=0;o<ms.length;o++)if(l=ms[o],d=l.interleaved,d!==null){l.interleaved=null;var m=d.next,y=l.pending;if(y!==null){var S=y.next;y.next=m,d.next=S}l.pending=d}ms=null}return i}function iv(i,o){do{var l=ht;try{if(nh(),bu.current=Lu,Du){for(var d=rt.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}Du=!1}if(vs=0,It=wt=rt=null,Wa=!1,Ka=0,Mh.current=null,l===null||l.return===null){Et=1,Za=o,ht=null;break}e:{var y=i,S=l.return,F=l,U=o;if(o=Vt,F.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){var Y=U,le=F,ue=le.tag;if((le.mode&1)===0&&(ue===0||ue===11||ue===15)){var ae=le.alternate;ae?(le.updateQueue=ae.updateQueue,le.memoizedState=ae.memoizedState,le.lanes=ae.lanes):(le.updateQueue=null,le.memoizedState=null)}var pe=Rg(S);if(pe!==null){pe.flags&=-257,kg(pe,S,F,y,o),pe.mode&1&&Pg(y,Y,o),o=pe,U=Y;var ve=o.updateQueue;if(ve===null){var ye=new Set;ye.add(U),o.updateQueue=ye}else ve.add(U);break e}else{if((o&1)===0){Pg(y,Y,o),$h();break e}U=Error(t(426))}}else if(tt&&F.mode&1){var lt=Rg(S);if(lt!==null){(lt.flags&65536)===0&&(lt.flags|=256),kg(lt,S,F,y,o),eh(Io(U,F));break e}}y=U=Io(U,F),Et!==4&&(Et=2),el===null?el=[y]:el.push(y),y=S;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var W=Ig(y,U,o);Zm(y,W);break e;case 1:F=U;var z=y.type,K=y.stateNode;if((y.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(Ci===null||!Ci.has(K)))){y.flags|=65536,o&=-o,y.lanes|=o;var ce=xg(y,F,o);Zm(y,ce);break e}}y=y.return}while(y!==null)}av(l)}catch(_e){o=_e,ht===l&&l!==null&&(ht=l=l.return);continue}break}while(!0)}function sv(){var i=zu.current;return zu.current=Lu,i===null?Lu:i}function $h(){(Et===0||Et===3||Et===2)&&(Et=4),xt===null||(ys&268435455)===0&&($u&268435455)===0||Ai(xt,Vt)}function Qu(i,o){var l=Be;Be|=2;var d=sv();(xt!==i||Vt!==o)&&(Fr=null,ws(i,o));do try{yC();break}catch(m){iv(i,m)}while(!0);if(nh(),Be=l,zu.current=d,ht!==null)throw Error(t(261));return xt=null,Vt=0,Et}function yC(){for(;ht!==null;)ov(ht)}function _C(){for(;ht!==null&&!ql();)ov(ht)}function ov(i){var o=cv(i.alternate,i,gn);i.memoizedProps=i.pendingProps,o===null?av(i):ht=o,Mh.current=null}function av(i){var o=i;do{var l=o.alternate;if(i=o.return,(o.flags&32768)===0){if(l=dC(l,o,gn),l!==null){ht=l;return}}else{if(l=hC(l,o),l!==null){l.flags&=32767,ht=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Et=6,ht=null;return}}if(o=o.sibling,o!==null){ht=o;return}ht=o=i}while(o!==null);Et===0&&(Et=5)}function Es(i,o,l){var d=Ve,m=xn.transition;try{xn.transition=null,Ve=1,wC(i,o,l,d)}finally{xn.transition=m,Ve=d}return null}function wC(i,o,l,d){do ko();while(Ti!==null);if((Be&6)!==0)throw Error(t(327));l=i.finishedWork;var m=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var y=l.lanes|l.childLanes;if(We(i,y),i===xt&&(ht=xt=null,Vt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Hu||(Hu=!0,dv(wn,function(){return ko(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=xn.transition,xn.transition=null;var S=Ve;Ve=1;var F=Be;Be|=4,Mh.current=null,pC(i,l),Xg(l,i),BE($d),hi=!!zd,$d=zd=null,i.current=l,mC(l),Id(),Be=F,Ve=S,xn.transition=y}else i.current=l;if(Hu&&(Hu=!1,Ti=i,qu=m),y=i.pendingLanes,y===0&&(Ci=null),Ql(l.stateNode),on(i,Qe()),o!==null)for(d=i.onRecoverableError,l=0;l<o.length;l++)m=o[l],d(m.value,{componentStack:m.stack,digest:m.digest});if(Gu)throw Gu=!1,i=Oh,Oh=null,i;return(qu&1)!==0&&i.tag!==0&&ko(),y=i.pendingLanes,(y&1)!==0?i===jh?tl++:(tl=0,jh=i):tl=0,yi(),null}function ko(){if(Ti!==null){var i=ci(qu),o=xn.transition,l=Ve;try{if(xn.transition=null,Ve=16>i?16:i,Ti===null)var d=!1;else{if(i=Ti,Ti=null,qu=0,(Be&6)!==0)throw Error(t(331));var m=Be;for(Be|=4,ge=i.current;ge!==null;){var y=ge,S=y.child;if((ge.flags&16)!==0){var F=y.deletions;if(F!==null){for(var U=0;U<F.length;U++){var Y=F[U];for(ge=Y;ge!==null;){var le=ge;switch(le.tag){case 0:case 11:case 15:Ja(8,le,y)}var ue=le.child;if(ue!==null)ue.return=le,ge=ue;else for(;ge!==null;){le=ge;var ae=le.sibling,pe=le.return;if(qg(le),le===Y){ge=null;break}if(ae!==null){ae.return=pe,ge=ae;break}ge=pe}}}var ve=y.alternate;if(ve!==null){var ye=ve.child;if(ye!==null){ve.child=null;do{var lt=ye.sibling;ye.sibling=null,ye=lt}while(ye!==null)}}ge=y}}if((y.subtreeFlags&2064)!==0&&S!==null)S.return=y,ge=S;else e:for(;ge!==null;){if(y=ge,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Ja(9,y,y.return)}var W=y.sibling;if(W!==null){W.return=y.return,ge=W;break e}ge=y.return}}var z=i.current;for(ge=z;ge!==null;){S=ge;var K=S.child;if((S.subtreeFlags&2064)!==0&&K!==null)K.return=S,ge=K;else e:for(S=z;ge!==null;){if(F=ge,(F.flags&2048)!==0)try{switch(F.tag){case 0:case 11:case 15:Uu(9,F)}}catch(_e){ot(F,F.return,_e)}if(F===S){ge=null;break e}var ce=F.sibling;if(ce!==null){ce.return=F.return,ge=ce;break e}ge=F.return}}if(Be=m,yi(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(is,i)}catch{}d=!0}return d}finally{Ve=l,xn.transition=o}}return!1}function lv(i,o,l){o=Io(l,o),o=Ig(i,o,1),i=wi(i,o,1),o=Yt(),i!==null&&(li(i,1,o),on(i,o))}function ot(i,o,l){if(i.tag===3)lv(i,i,l);else for(;o!==null;){if(o.tag===3){lv(o,i,l);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ci===null||!Ci.has(d))){i=Io(l,i),i=xg(o,i,1),o=wi(o,i,1),i=Yt(),o!==null&&(li(o,1,i),on(o,i));break}}o=o.return}}function EC(i,o,l){var d=i.pingCache;d!==null&&d.delete(o),o=Yt(),i.pingedLanes|=i.suspendedLanes&l,xt===i&&(Vt&l)===l&&(Et===4||Et===3&&(Vt&130023424)===Vt&&500>Qe()-Lh?ws(i,0):Vh|=l),on(i,o)}function uv(i,o){o===0&&((i.mode&1)===0?o=1:(o=Js,Js<<=1,(Js&130023424)===0&&(Js=4194304)));var l=Yt();i=Lr(i,o),i!==null&&(li(i,o,l),on(i,l))}function CC(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),uv(i,l)}function TC(i,o){var l=0;switch(i.tag){case 13:var d=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:d=i.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(o),uv(i,l)}var cv;cv=function(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps||tn.current)rn=!0;else{if((i.lanes&l)===0&&(o.flags&128)===0)return rn=!1,cC(i,o,l);rn=(i.flags&131072)!==0}else rn=!1,tt&&(o.flags&1048576)!==0&&$m(o,Su,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;Fu(i,o),i=o.pendingProps;var m=yo(o,Ft.current);So(o,l),m=fh(null,o,d,i,m,l);var y=ph();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,nn(d)?(y=!0,Eu(o)):y=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,oh(o),m.updater=Ou,o.stateNode=m,m._reactInternals=o,wh(o,d,i,l),o=Sh(null,o,d,!0,y,l)):(o.tag=0,tt&&y&&Yd(o),Qt(null,o,m,l),o=o.child),o;case 16:d=o.elementType;e:{switch(Fu(i,o),i=o.pendingProps,m=d._init,d=m(d._payload),o.type=d,m=o.tag=AC(d),i=$n(d,i),m){case 0:o=Th(null,o,d,i,l);break e;case 1:o=Lg(null,o,d,i,l);break e;case 11:o=Ng(null,o,d,i,l);break e;case 14:o=bg(null,o,d,$n(d.type,i),l);break e}throw Error(t(306,d,""))}return o;case 0:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:$n(d,m),Th(i,o,d,m,l);case 1:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:$n(d,m),Lg(i,o,d,m,l);case 3:e:{if(Og(o),i===null)throw Error(t(387));d=o.pendingProps,y=o.memoizedState,m=y.element,Jm(i,o),ku(o,d,null,l);var S=o.memoizedState;if(d=S.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){m=Io(Error(t(423)),o),o=jg(i,o,d,l,m);break e}else if(d!==m){m=Io(Error(t(424)),o),o=jg(i,o,d,l,m);break e}else for(mn=mi(o.stateNode.containerInfo.firstChild),pn=o,tt=!0,zn=null,l=Ym(o,null,d,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Eo(),d===m){o=jr(i,o,l);break e}Qt(i,o,d,l)}o=o.child}return o;case 5:return tg(o),i===null&&Zd(o),d=o.type,m=o.pendingProps,y=i!==null?i.memoizedProps:null,S=m.children,Gd(d,m)?S=null:y!==null&&Gd(d,y)&&(o.flags|=32),Vg(i,o),Qt(i,o,S,l),o.child;case 6:return i===null&&Zd(o),null;case 13:return Fg(i,o,l);case 4:return ah(o,o.stateNode.containerInfo),d=o.pendingProps,i===null?o.child=Co(o,null,d,l):Qt(i,o,d,l),o.child;case 11:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:$n(d,m),Ng(i,o,d,m,l);case 7:return Qt(i,o,o.pendingProps,l),o.child;case 8:return Qt(i,o,o.pendingProps.children,l),o.child;case 12:return Qt(i,o,o.pendingProps.children,l),o.child;case 10:e:{if(d=o.type._context,m=o.pendingProps,y=o.memoizedProps,S=m.value,Ye(xu,d._currentValue),d._currentValue=S,y!==null)if(Un(y.value,S)){if(y.children===m.children&&!tn.current){o=jr(i,o,l);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var F=y.dependencies;if(F!==null){S=y.child;for(var U=F.firstContext;U!==null;){if(U.context===d){if(y.tag===1){U=Or(-1,l&-l),U.tag=2;var Y=y.updateQueue;if(Y!==null){Y=Y.shared;var le=Y.pending;le===null?U.next=U:(U.next=le.next,le.next=U),Y.pending=U}}y.lanes|=l,U=y.alternate,U!==null&&(U.lanes|=l),ih(y.return,l,o),F.lanes|=l;break}U=U.next}}else if(y.tag===10)S=y.type===o.type?null:y.child;else if(y.tag===18){if(S=y.return,S===null)throw Error(t(341));S.lanes|=l,F=S.alternate,F!==null&&(F.lanes|=l),ih(S,l,o),S=y.sibling}else S=y.child;if(S!==null)S.return=y;else for(S=y;S!==null;){if(S===o){S=null;break}if(y=S.sibling,y!==null){y.return=S.return,S=y;break}S=S.return}y=S}Qt(i,o,m.children,l),o=o.child}return o;case 9:return m=o.type,d=o.pendingProps.children,So(o,l),m=An(m),d=d(m),o.flags|=1,Qt(i,o,d,l),o.child;case 14:return d=o.type,m=$n(d,o.pendingProps),m=$n(d.type,m),bg(i,o,d,m,l);case 15:return Dg(i,o,o.type,o.pendingProps,l);case 17:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:$n(d,m),Fu(i,o),o.tag=1,nn(d)?(i=!0,Eu(o)):i=!1,So(o,l),Sg(o,d,m),wh(o,d,m,l),Sh(null,o,d,!0,i,l);case 19:return Ug(i,o,l);case 22:return Mg(i,o,l)}throw Error(t(156,o.tag))};function dv(i,o){return Ys(i,o)}function SC(i,o,l,d){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(i,o,l,d){return new SC(i,o,l,d)}function Gh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function AC(i){if(typeof i=="function")return Gh(i)?1:0;if(i!=null){if(i=i.$$typeof,i===P)return 11;if(i===ie)return 14}return 2}function Ii(i,o){var l=i.alternate;return l===null?(l=Pn(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function Yu(i,o,l,d,m,y){var S=2;if(d=i,typeof i=="function")Gh(i)&&(S=1);else if(typeof i=="string")S=5;else e:switch(i){case j:return Cs(l.children,m,y,o);case b:S=8,m|=8;break;case T:return i=Pn(12,l,o,m|2),i.elementType=T,i.lanes=y,i;case R:return i=Pn(13,l,o,m),i.elementType=R,i.lanes=y,i;case ne:return i=Pn(19,l,o,m),i.elementType=ne,i.lanes=y,i;case fe:return Xu(l,m,y,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case x:S=10;break e;case I:S=9;break e;case P:S=11;break e;case ie:S=14;break e;case se:S=16,d=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=Pn(S,l,o,m),o.elementType=i,o.type=d,o.lanes=y,o}function Cs(i,o,l,d){return i=Pn(7,i,d,o),i.lanes=l,i}function Xu(i,o,l,d){return i=Pn(22,i,d,o),i.elementType=fe,i.lanes=l,i.stateNode={isHidden:!1},i}function Hh(i,o,l){return i=Pn(6,i,null,o),i.lanes=l,i}function qh(i,o,l){return o=Pn(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function IC(i,o,l,d,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ai(0),this.expirationTimes=ai(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Wh(i,o,l,d,m,y,S,F,U){return i=new IC(i,o,l,F,U),o===1?(o=1,y===!0&&(o|=8)):o=0,y=Pn(3,null,null,o),i.current=y,y.stateNode=i,y.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},oh(y),i}function xC(i,o,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:d==null?null:""+d,children:i,containerInfo:o,implementation:l}}function hv(i){if(!i)return vi;i=i._reactInternals;e:{if(Mn(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(nn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(nn(l))return Bm(i,l,o)}return o}function fv(i,o,l,d,m,y,S,F,U){return i=Wh(l,d,!0,i,m,y,S,F,U),i.context=hv(null),l=i.current,d=Yt(),m=Si(l),y=Or(d,m),y.callback=o??null,wi(l,y,m),i.current.lanes=m,li(i,m,d),on(i,d),i}function Ju(i,o,l,d){var m=o.current,y=Yt(),S=Si(m);return l=hv(l),o.context===null?o.context=l:o.pendingContext=l,o=Or(y,S),o.payload={element:i},d=d===void 0?null:d,d!==null&&(o.callback=d),i=wi(m,o,S),i!==null&&(qn(i,m,S,y),Ru(i,m,S)),S}function Zu(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function pv(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function Kh(i,o){pv(i,o),(i=i.alternate)&&pv(i,o)}function PC(){return null}var mv=typeof reportError=="function"?reportError:function(i){console.error(i)};function Qh(i){this._internalRoot=i}ec.prototype.render=Qh.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));Ju(i,o,null,null)},ec.prototype.unmount=Qh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;_s(function(){Ju(null,i,null,null)}),o[br]=null}};function ec(i){this._internalRoot=i}ec.prototype.unstable_scheduleHydration=function(i){if(i){var o=eu();i={blockedOn:null,target:i,priority:o};for(var l=0;l<tr.length&&o!==0&&o<tr[l].priority;l++);tr.splice(l,0,i),l===0&&ru(i)}};function Yh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function tc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function gv(){}function RC(i,o,l,d,m){if(m){if(typeof d=="function"){var y=d;d=function(){var Y=Zu(S);y.call(Y)}}var S=fv(o,d,i,0,null,!1,!1,"",gv);return i._reactRootContainer=S,i[br]=S.current,Fa(i.nodeType===8?i.parentNode:i),_s(),S}for(;m=i.lastChild;)i.removeChild(m);if(typeof d=="function"){var F=d;d=function(){var Y=Zu(U);F.call(Y)}}var U=Wh(i,0,!1,null,null,!1,!1,"",gv);return i._reactRootContainer=U,i[br]=U.current,Fa(i.nodeType===8?i.parentNode:i),_s(function(){Ju(o,U,l,d)}),U}function nc(i,o,l,d,m){var y=l._reactRootContainer;if(y){var S=y;if(typeof m=="function"){var F=m;m=function(){var U=Zu(S);F.call(U)}}Ju(o,S,i,m)}else S=RC(l,o,i,m,d);return Zu(S)}Jl=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var l=oi(o.pendingLanes);l!==0&&(ui(o,l|1),on(o,Qe()),(Be&6)===0&&(Ro=Qe()+500,yi()))}break;case 13:_s(function(){var d=Lr(i,1);if(d!==null){var m=Yt();qn(d,i,1,m)}}),Kh(i,1)}},Zs=function(i){if(i.tag===13){var o=Lr(i,134217728);if(o!==null){var l=Yt();qn(o,i,134217728,l)}Kh(i,134217728)}},Zl=function(i){if(i.tag===13){var o=Si(i),l=Lr(i,o);if(l!==null){var d=Yt();qn(l,i,o,d)}Kh(i,o)}},eu=function(){return Ve},tu=function(i,o){var l=Ve;try{return Ve=i,o()}finally{Ve=l}},Gs=function(i,o,l){switch(o){case"input":if(ca(i,l),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var d=l[o];if(d!==i&&d.form===i.form){var m=_u(d);if(!m)throw Error(t(90));js(d),ca(d,m)}}}break;case"textarea":zs(i,l);break;case"select":o=l.value,o!=null&&Sr(i,!!l.multiple,o,!1)}},Zi=Uh,wa=_s;var kC={usingClientEntryPoint:!1,Events:[za,go,_u,Zn,_a,Uh]},nl={findFiberByHostInstance:ds,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NC={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Ta(i),i===null?null:i.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||PC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{is=rc.inject(NC),cn=rc}catch{}}return an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kC,an.createPortal=function(i,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yh(o))throw Error(t(200));return xC(i,o,null,l)},an.createRoot=function(i,o){if(!Yh(i))throw Error(t(299));var l=!1,d="",m=mv;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Wh(i,1,!1,null,null,l,!1,d,m),i[br]=o.current,Fa(i.nodeType===8?i.parentNode:i),new Qh(o)},an.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Ta(o),i=i===null?null:i.stateNode,i},an.flushSync=function(i){return _s(i)},an.hydrate=function(i,o,l){if(!tc(o))throw Error(t(200));return nc(null,i,o,!0,l)},an.hydrateRoot=function(i,o,l){if(!Yh(i))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,m=!1,y="",S=mv;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(S=l.onRecoverableError)),o=fv(o,null,i,1,l??null,m,!1,y,S),i[br]=o.current,Fa(i),d)for(i=0;i<d.length;i++)l=d[i],m=l._getVersion,m=m(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,m]:o.mutableSourceEagerHydrationData.push(l,m);return new ec(o)},an.render=function(i,o,l){if(!tc(o))throw Error(t(200));return nc(null,i,o,!1,l)},an.unmountComponentAtNode=function(i){if(!tc(i))throw Error(t(40));return i._reactRootContainer?(_s(function(){nc(null,null,i,!1,function(){i._reactRootContainer=null,i[br]=null})}),!0):!1},an.unstable_batchedUpdates=Uh,an.unstable_renderSubtreeIntoContainer=function(i,o,l,d){if(!tc(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return nc(i,o,l,!1,d)},an.version="18.3.1-next-f1338f8080-20240426",an}var Sv;function FC(){if(Sv)return Zh.exports;Sv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Zh.exports=jC(),Zh.exports}var Av;function BC(){if(Av)return ic;Av=1;var n=FC();return ic.createRoot=n.createRoot,ic.hydrateRoot=n.hydrateRoot,ic}var UC=BC();const zC=m_(UC);var il={},Iv;function $C(){if(Iv)return il;Iv=1,Object.defineProperty(il,"__esModule",{value:!0}),il.parse=u,il.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const C=function(){};return C.prototype=Object.create(null),C})();function u(C,N){const A=new a,L=C.length;if(L<2)return A;const O=(N==null?void 0:N.decode)||v;let M=0;do{const k=C.indexOf("=",M);if(k===-1)break;const V=C.indexOf(";",M),$=V===-1?L:V;if(k>$){M=C.lastIndexOf(";",k-1)+1;continue}const Q=h(C,M,k),J=f(C,k,Q),j=C.slice(Q,J);if(A[j]===void 0){let b=h(C,k+1,$),T=f(C,$,b);const x=O(C.slice(b,T));A[j]=x}M=$+1}while(M<L);return A}function h(C,N,A){do{const L=C.charCodeAt(N);if(L!==32&&L!==9)return N}while(++N<A);return A}function f(C,N,A){for(;N>A;){const L=C.charCodeAt(--N);if(L!==32&&L!==9)return N+1}return A}function p(C,N,A){const L=(A==null?void 0:A.encode)||encodeURIComponent;if(!n.test(C))throw new TypeError(`argument name is invalid: ${C}`);const O=L(N);if(!e.test(O))throw new TypeError(`argument val is invalid: ${N}`);let M=C+"="+O;if(!A)return M;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);M+="; Max-Age="+A.maxAge}if(A.domain){if(!t.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);M+="; Domain="+A.domain}if(A.path){if(!r.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);M+="; Path="+A.path}if(A.expires){if(!w(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);M+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(M+="; HttpOnly"),A.secure&&(M+="; Secure"),A.partitioned&&(M+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return M}function v(C){if(C.indexOf("%")===-1)return C;try{return decodeURIComponent(C)}catch{return C}}function w(C){return s.call(C)==="[object Date]"}return il}$C();var xv="popstate";function GC(n={}){function e(r,s){let{pathname:a,search:u,hash:h}=r.location;return Tf("",{pathname:a,search:u,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:yl(s)}return qC(e,t,null,n)}function it(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function yr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HC(){return Math.random().toString(36).substring(2,10)}function Pv(n,e){return{usr:n.state,key:n.key,idx:e}}function Tf(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ea(e):e,state:t,key:e&&e.key||r||HC()}}function yl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ea(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function qC(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,u=s.history,h="POP",f=null,p=v();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function v(){return(u.state||{idx:null}).idx}function w(){h="POP";let O=v(),M=O==null?null:O-p;p=O,f&&f({action:h,location:L.location,delta:M})}function C(O,M){h="PUSH";let k=Tf(L.location,O,M);p=v()+1;let V=Pv(k,p),$=L.createHref(k);try{u.pushState(V,"",$)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;s.location.assign($)}a&&f&&f({action:h,location:L.location,delta:1})}function N(O,M){h="REPLACE";let k=Tf(L.location,O,M);p=v();let V=Pv(k,p),$=L.createHref(k);u.replaceState(V,"",$),a&&f&&f({action:h,location:L.location,delta:0})}function A(O){return WC(O)}let L={get action(){return h},get location(){return n(s,u)},listen(O){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(xv,w),f=O,()=>{s.removeEventListener(xv,w),f=null}},createHref(O){return e(s,O)},createURL:A,encodeLocation(O){let M=A(O);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:C,replace:N,go(O){return u.go(O)}};return L}function WC(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),it(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:yl(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function g_(n,e,t="/"){return KC(n,e,t,!1)}function KC(n,e,t,r){let s=typeof e=="string"?ea(e):e,a=Wr(s.pathname||"/",t);if(a==null)return null;let u=v_(n);QC(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let p=oT(a);h=iT(u[f],p,r)}return h}function v_(n,e=[],t=[],r=""){let s=(a,u,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(it(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let p=$r([r,f.relativePath]),v=t.concat(f);a.children&&a.children.length>0&&(it(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),v_(a.children,e,v,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:nT(p,a.index),routesMeta:v})};return n.forEach((a,u)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))s(a,u);else for(let f of y_(a.path))s(a,u,f)}),e}function y_(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let u=y_(r.join("/")),h=[];return h.push(...u.map(f=>f===""?a:[a,f].join("/"))),s&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function QC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:rT(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var YC=/^:[\w-]+$/,XC=3,JC=2,ZC=1,eT=10,tT=-2,Rv=n=>n==="*";function nT(n,e){let t=n.split("/"),r=t.length;return t.some(Rv)&&(r+=tT),e&&(r+=JC),t.filter(s=>!Rv(s)).reduce((s,a)=>s+(YC.test(a)?XC:a===""?ZC:eT),r)}function rT(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function iT(n,e,t=!1){let{routesMeta:r}=n,s={},a="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],p=h===r.length-1,v=a==="/"?e:e.slice(a.length)||"/",w=xc({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},v),C=f.route;if(!w&&p&&t&&!r[r.length-1].route.index&&(w=xc({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!w)return null;Object.assign(s,w.params),u.push({params:s,pathname:$r([a,w.pathname]),pathnameBase:cT($r([a,w.pathnameBase])),route:C}),w.pathnameBase!=="/"&&(a=$r([a,w.pathnameBase]))}return u}function xc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=sT(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:r.reduce((p,{paramName:v,isOptional:w},C)=>{if(v==="*"){let A=h[C]||"";u=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const N=h[C];return w&&!N?p[v]=void 0:p[v]=(N||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:n}}function sT(n,e=!1,t=!0){yr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function oT(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Wr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function aT(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?ea(n):n;return{pathname:t?t.startsWith("/")?t:lT(t,e):e,search:dT(r),hash:hT(s)}}function lT(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function nf(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uT(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function __(n){let e=uT(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function w_(n,e,t,r=!1){let s;typeof n=="string"?s=ea(n):(s={...n},it(!s.pathname||!s.pathname.includes("?"),nf("?","pathname","search",s)),it(!s.pathname||!s.pathname.includes("#"),nf("#","pathname","hash",s)),it(!s.search||!s.search.includes("#"),nf("#","search","hash",s)));let a=n===""||s.pathname==="",u=a?"/":s.pathname,h;if(u==null)h=t;else{let w=e.length-1;if(!r&&u.startsWith("..")){let C=u.split("/");for(;C[0]==="..";)C.shift(),w-=1;s.pathname=C.join("/")}h=w>=0?e[w]:"/"}let f=aT(s,h),p=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||v)&&(f.pathname+="/"),f}var $r=n=>n.join("/").replace(/\/\/+/g,"/"),cT=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),dT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,hT=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function fT(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var E_=["POST","PUT","PATCH","DELETE"];new Set(E_);var pT=["GET",...E_];new Set(pT);var ta=B.createContext(null);ta.displayName="DataRouter";var Jc=B.createContext(null);Jc.displayName="DataRouterState";var C_=B.createContext({isTransitioning:!1});C_.displayName="ViewTransition";var mT=B.createContext(new Map);mT.displayName="Fetchers";var gT=B.createContext(null);gT.displayName="Await";var wr=B.createContext(null);wr.displayName="Navigation";var Rl=B.createContext(null);Rl.displayName="Location";var Er=B.createContext({outlet:null,matches:[],isDataRoute:!1});Er.displayName="Route";var rp=B.createContext(null);rp.displayName="RouteError";function vT(n,{relative:e}={}){it(kl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=B.useContext(wr),{hash:s,pathname:a,search:u}=Nl(n,{relative:e}),h=a;return t!=="/"&&(h=a==="/"?t:$r([t,a])),r.createHref({pathname:h,search:u,hash:s})}function kl(){return B.useContext(Rl)!=null}function qi(){return it(kl(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(Rl).location}var T_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function S_(n){B.useContext(wr).static||B.useLayoutEffect(n)}function Xn(){let{isDataRoute:n}=B.useContext(Er);return n?kT():yT()}function yT(){it(kl(),"useNavigate() may be used only in the context of a <Router> component.");let n=B.useContext(ta),{basename:e,navigator:t}=B.useContext(wr),{matches:r}=B.useContext(Er),{pathname:s}=qi(),a=JSON.stringify(__(r)),u=B.useRef(!1);return S_(()=>{u.current=!0}),B.useCallback((f,p={})=>{if(yr(u.current,T_),!u.current)return;if(typeof f=="number"){t.go(f);return}let v=w_(f,JSON.parse(a),s,p.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:$r([e,v.pathname])),(p.replace?t.replace:t.push)(v,p.state,p)},[e,t,a,s,n])}B.createContext(null);function ip(){let{matches:n}=B.useContext(Er),e=n[n.length-1];return e?e.params:{}}function Nl(n,{relative:e}={}){let{matches:t}=B.useContext(Er),{pathname:r}=qi(),s=JSON.stringify(__(t));return B.useMemo(()=>w_(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function _T(n,e){return A_(n,e)}function A_(n,e,t,r){var k;it(kl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:a}=B.useContext(wr),{matches:u}=B.useContext(Er),h=u[u.length-1],f=h?h.params:{},p=h?h.pathname:"/",v=h?h.pathnameBase:"/",w=h&&h.route;{let V=w&&w.path||"";I_(p,!w||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let C=qi(),N;if(e){let V=typeof e=="string"?ea(e):e;it(v==="/"||((k=V.pathname)==null?void 0:k.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${V.pathname}" was given in the \`location\` prop.`),N=V}else N=C;let A=N.pathname||"/",L=A;if(v!=="/"){let V=v.replace(/^\//,"").split("/");L="/"+A.replace(/^\//,"").split("/").slice(V.length).join("/")}let O=!a&&t&&t.matches&&t.matches.length>0?t.matches:g_(n,{pathname:L});yr(w||O!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),yr(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=ST(O&&O.map(V=>Object.assign({},V,{params:Object.assign({},f,V.params),pathname:$r([v,s.encodeLocation?s.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?v:$r([v,s.encodeLocation?s.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),u,t,r);return e&&M?B.createElement(Rl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},M):M}function wT(){let n=RT(),e=fT(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=B.createElement(B.Fragment,null,B.createElement("p",null,"💿 Hey developer 👋"),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:a},"ErrorBoundary")," or"," ",B.createElement("code",{style:a},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:s},t):null,u)}var ET=B.createElement(wT,null),CT=class extends B.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?B.createElement(Er.Provider,{value:this.props.routeContext},B.createElement(rp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function TT({routeContext:n,match:e,children:t}){let r=B.useContext(ta);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Er.Provider,{value:n},t)}function ST(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t==null?void 0:t.errors;if(a!=null){let f=s.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);it(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,h=-1;if(t)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=f),p.route.id){let{loaderData:v,errors:w}=t,C=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!w||w[p.route.id]===void 0);if(p.route.lazy||C){u=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((f,p,v)=>{let w,C=!1,N=null,A=null;t&&(w=a&&p.route.id?a[p.route.id]:void 0,N=p.route.errorElement||ET,u&&(h<0&&v===0?(I_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,A=null):h===v&&(C=!0,A=p.route.hydrateFallbackElement||null)));let L=e.concat(s.slice(0,v+1)),O=()=>{let M;return w?M=N:C?M=A:p.route.Component?M=B.createElement(p.route.Component,null):p.route.element?M=p.route.element:M=f,B.createElement(TT,{match:p,routeContext:{outlet:f,matches:L,isDataRoute:t!=null},children:M})};return t&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?B.createElement(CT,{location:t.location,revalidation:t.revalidation,component:N,error:w,children:O(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):O()},null)}function sp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AT(n){let e=B.useContext(ta);return it(e,sp(n)),e}function IT(n){let e=B.useContext(Jc);return it(e,sp(n)),e}function xT(n){let e=B.useContext(Er);return it(e,sp(n)),e}function op(n){let e=xT(n),t=e.matches[e.matches.length-1];return it(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function PT(){return op("useRouteId")}function RT(){var r;let n=B.useContext(rp),e=IT("useRouteError"),t=op("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function kT(){let{router:n}=AT("useNavigate"),e=op("useNavigate"),t=B.useRef(!1);return S_(()=>{t.current=!0}),B.useCallback(async(s,a={})=>{yr(t.current,T_),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...a}))},[n,e])}var kv={};function I_(n,e,t){!e&&!kv[n]&&(kv[n]=!0,yr(!1,t))}B.memo(NT);function NT({routes:n,future:e,state:t}){return A_(n,void 0,t,e)}function ur(n){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bT({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:a=!1}){it(!kl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=B.useMemo(()=>({basename:u,navigator:s,static:a,future:{}}),[u,s,a]);typeof t=="string"&&(t=ea(t));let{pathname:f="/",search:p="",hash:v="",state:w=null,key:C="default"}=t,N=B.useMemo(()=>{let A=Wr(f,u);return A==null?null:{location:{pathname:A,search:p,hash:v,state:w,key:C},navigationType:r}},[u,f,p,v,w,C,r]);return yr(N!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:B.createElement(wr.Provider,{value:h},B.createElement(Rl.Provider,{children:e,value:N}))}function DT({children:n,location:e}){return _T(Sf(n),e)}function Sf(n,e=[]){let t=[];return B.Children.forEach(n,(r,s)=>{if(!B.isValidElement(r))return;let a=[...e,s];if(r.type===B.Fragment){t.push.apply(t,Sf(r.props.children,a));return}it(r.type===ur,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Sf(r.props.children,a)),t.push(u)}),t}var pc="get",mc="application/x-www-form-urlencoded";function Zc(n){return n!=null&&typeof n.tagName=="string"}function MT(n){return Zc(n)&&n.tagName.toLowerCase()==="button"}function VT(n){return Zc(n)&&n.tagName.toLowerCase()==="form"}function LT(n){return Zc(n)&&n.tagName.toLowerCase()==="input"}function OT(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function jT(n,e){return n.button===0&&(!e||e==="_self")&&!OT(n)}var sc=null;function FT(){if(sc===null)try{new FormData(document.createElement("form"),0),sc=!1}catch{sc=!0}return sc}var BT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rf(n){return n!=null&&!BT.has(n)?(yr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mc}"`),null):n}function UT(n,e){let t,r,s,a,u;if(VT(n)){let h=n.getAttribute("action");r=h?Wr(h,e):null,t=n.getAttribute("method")||pc,s=rf(n.getAttribute("enctype"))||mc,a=new FormData(n)}else if(MT(n)||LT(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(r=f?Wr(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||pc,s=rf(n.getAttribute("formenctype"))||rf(h.getAttribute("enctype"))||mc,a=new FormData(h,n),!FT()){let{name:p,type:v,value:w}=n;if(v==="image"){let C=p?`${p}.`:"";a.append(`${C}x`,"0"),a.append(`${C}y`,"0")}else p&&a.append(p,w)}}else{if(Zc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=pc,r=null,s=mc,u=n}return a&&s==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:a,body:u}}function ap(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function zT(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $T(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function GT(n,e,t){let r=await Promise.all(n.map(async s=>{let a=e.routes[s.route.id];if(a){let u=await zT(a,t);return u.links?u.links():[]}return[]}));return KT(r.flat(1).filter($T).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Nv(n,e,t,r,s,a){let u=(f,p)=>t[p]?f.route.id!==t[p].route.id:!0,h=(f,p)=>{var v;return t[p].pathname!==f.pathname||((v=t[p].route.path)==null?void 0:v.endsWith("*"))&&t[p].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,p)=>u(f,p)||h(f,p)):a==="data"?e.filter((f,p)=>{var w;let v=r.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(u(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let C=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((w=t[0])==null?void 0:w.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function HT(n,e,{includeHydrateFallback:t}={}){return qT(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function qT(n){return[...new Set(n)]}function WT(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function KT(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let a=JSON.stringify(WT(s));return t.has(a)||(t.add(a),r.push({key:a,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var QT=new Set([100,101,204,205]);function YT(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Wr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function x_(){let n=B.useContext(ta);return ap(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function XT(){let n=B.useContext(Jc);return ap(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var lp=B.createContext(void 0);lp.displayName="FrameworkContext";function P_(){let n=B.useContext(lp);return ap(n,"You must render this element inside a <HydratedRouter> element"),n}function JT(n,e){let t=B.useContext(lp),[r,s]=B.useState(!1),[a,u]=B.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:v,onTouchStart:w}=e,C=B.useRef(null);B.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let L=M=>{M.forEach(k=>{u(k.isIntersecting)})},O=new IntersectionObserver(L,{threshold:.5});return C.current&&O.observe(C.current),()=>{O.disconnect()}}},[n]),B.useEffect(()=>{if(r){let L=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(L)}}},[r]);let N=()=>{s(!0)},A=()=>{s(!1),u(!1)};return t?n!=="intent"?[a,C,{}]:[a,C,{onFocus:sl(h,N),onBlur:sl(f,A),onMouseEnter:sl(p,N),onMouseLeave:sl(v,A),onTouchStart:sl(w,N)}]:[!1,C,{}]}function sl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function ZT({page:n,...e}){let{router:t}=x_(),r=B.useMemo(()=>g_(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?B.createElement(tS,{page:n,matches:r,...e}):null}function eS(n){let{manifest:e,routeModules:t}=P_(),[r,s]=B.useState([]);return B.useEffect(()=>{let a=!1;return GT(n,e,t).then(u=>{a||s(u)}),()=>{a=!0}},[n,e,t]),r}function tS({page:n,matches:e,...t}){let r=qi(),{manifest:s,routeModules:a}=P_(),{basename:u}=x_(),{loaderData:h,matches:f}=XT(),p=B.useMemo(()=>Nv(n,e,f,s,r,"data"),[n,e,f,s,r]),v=B.useMemo(()=>Nv(n,e,f,s,r,"assets"),[n,e,f,s,r]),w=B.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let A=new Set,L=!1;if(e.forEach(M=>{var V;let k=s.routes[M.route.id];!k||!k.hasLoader||(!p.some($=>$.route.id===M.route.id)&&M.route.id in h&&((V=a[M.route.id])!=null&&V.shouldRevalidate)||k.hasClientLoader?L=!0:A.add(M.route.id))}),A.size===0)return[];let O=YT(n,u);return L&&A.size>0&&O.searchParams.set("_routes",e.filter(M=>A.has(M.route.id)).map(M=>M.route.id).join(",")),[O.pathname+O.search]},[u,h,r,s,p,e,n,a]),C=B.useMemo(()=>HT(v,s),[v,s]),N=eS(v);return B.createElement(B.Fragment,null,w.map(A=>B.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...t})),C.map(A=>B.createElement("link",{key:A,rel:"modulepreload",href:A,...t})),N.map(({key:A,link:L})=>B.createElement("link",{key:A,...L})))}function nS(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var R_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{R_&&(window.__reactRouterVersion="7.6.0")}catch{}function rS({basename:n,children:e,window:t}){let r=B.useRef();r.current==null&&(r.current=GC({window:t,v5Compat:!0}));let s=r.current,[a,u]=B.useState({action:s.action,location:s.location}),h=B.useCallback(f=>{B.startTransition(()=>u(f))},[u]);return B.useLayoutEffect(()=>s.listen(h),[s,h]),B.createElement(bT,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:s})}var k_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,N_=B.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:a,replace:u,state:h,target:f,to:p,preventScrollReset:v,viewTransition:w,...C},N){let{basename:A}=B.useContext(wr),L=typeof p=="string"&&k_.test(p),O,M=!1;if(typeof p=="string"&&L&&(O=p,R_))try{let T=new URL(window.location.href),x=p.startsWith("//")?new URL(T.protocol+p):new URL(p),I=Wr(x.pathname,A);x.origin===T.origin&&I!=null?p=I+x.search+x.hash:M=!0}catch{yr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=vT(p,{relative:s}),[V,$,Q]=JT(r,C),J=aS(p,{replace:u,state:h,target:f,preventScrollReset:v,relative:s,viewTransition:w});function j(T){e&&e(T),T.defaultPrevented||J(T)}let b=B.createElement("a",{...C,...Q,href:O||k,onClick:M||a?e:j,ref:nS(N,$),target:f,"data-discover":!L&&t==="render"?"true":void 0});return V&&!L?B.createElement(B.Fragment,null,b,B.createElement(ZT,{page:k})):b});N_.displayName="Link";var iS=B.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:a,to:u,viewTransition:h,children:f,...p},v){let w=Nl(u,{relative:p.relative}),C=qi(),N=B.useContext(Jc),{navigator:A,basename:L}=B.useContext(wr),O=N!=null&&hS(w)&&h===!0,M=A.encodeLocation?A.encodeLocation(w).pathname:w.pathname,k=C.pathname,V=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;t||(k=k.toLowerCase(),V=V?V.toLowerCase():null,M=M.toLowerCase()),V&&L&&(V=Wr(V,L)||V);const $=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let Q=k===M||!s&&k.startsWith(M)&&k.charAt($)==="/",J=V!=null&&(V===M||!s&&V.startsWith(M)&&V.charAt(M.length)==="/"),j={isActive:Q,isPending:J,isTransitioning:O},b=Q?e:void 0,T;typeof r=="function"?T=r(j):T=[r,Q?"active":null,J?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let x=typeof a=="function"?a(j):a;return B.createElement(N_,{...p,"aria-current":b,className:T,ref:v,style:x,to:u,viewTransition:h},typeof f=="function"?f(j):f)});iS.displayName="NavLink";var sS=B.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:a,method:u=pc,action:h,onSubmit:f,relative:p,preventScrollReset:v,viewTransition:w,...C},N)=>{let A=cS(),L=dS(h,{relative:p}),O=u.toLowerCase()==="get"?"get":"post",M=typeof h=="string"&&k_.test(h),k=V=>{if(f&&f(V),V.defaultPrevented)return;V.preventDefault();let $=V.nativeEvent.submitter,Q=($==null?void 0:$.getAttribute("formmethod"))||u;A($||V.currentTarget,{fetcherKey:e,method:Q,navigate:t,replace:s,state:a,relative:p,preventScrollReset:v,viewTransition:w})};return B.createElement("form",{ref:N,method:O,action:L,onSubmit:r?f:k,...C,"data-discover":!M&&n==="render"?"true":void 0})});sS.displayName="Form";function oS(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function b_(n){let e=B.useContext(ta);return it(e,oS(n)),e}function aS(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:a,viewTransition:u}={}){let h=Xn(),f=qi(),p=Nl(n,{relative:a});return B.useCallback(v=>{if(jT(v,e)){v.preventDefault();let w=t!==void 0?t:yl(f)===yl(p);h(n,{replace:w,state:r,preventScrollReset:s,relative:a,viewTransition:u})}},[f,h,p,t,r,e,n,s,a,u])}var lS=0,uS=()=>`__${String(++lS)}__`;function cS(){let{router:n}=b_("useSubmit"),{basename:e}=B.useContext(wr),t=PT();return B.useCallback(async(r,s={})=>{let{action:a,method:u,encType:h,formData:f,body:p}=UT(r,e);if(s.navigate===!1){let v=s.fetcherKey||uS();await n.fetch(v,t,s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||u,formEncType:s.encType||h,flushSync:s.flushSync})}else await n.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||u,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function dS(n,{relative:e}={}){let{basename:t}=B.useContext(wr),r=B.useContext(Er);it(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Nl(n||".",{relative:e})},u=qi();if(n==null){a.search=u.search;let h=new URLSearchParams(a.search),f=h.getAll("index");if(f.some(v=>v==="")){h.delete("index"),f.filter(w=>w).forEach(w=>h.append("index",w));let v=h.toString();a.search=v?`?${v}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:$r([t,a.pathname])),yl(a)}function hS(n,e={}){let t=B.useContext(C_);it(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=b_("useViewTransitionState"),s=Nl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Wr(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Wr(t.nextLocation.pathname,r)||t.nextLocation.pathname;return xc(s.pathname,u)!=null||xc(s.pathname,a)!=null}[...QT];const fS=()=>{};var bv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},pS=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],u=n[t++],h=n[t++],f=((s&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},M_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],u=s+1<n.length,h=u?n[s+1]:0,f=s+2<n.length,p=f?n[s+2]:0,v=a>>2,w=(a&3)<<4|h>>4;let C=(h&15)<<2|p>>6,N=p&63;f||(N=64,u||(C=64)),r.push(t[v],t[w],t[C],t[N])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(D_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):pS(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],h=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const w=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||h==null||p==null||w==null)throw new mS;const C=a<<2|h>>4;if(r.push(C),p!==64){const N=h<<4&240|p>>2;if(r.push(N),w!==64){const A=p<<6&192|w;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class mS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gS=function(n){const e=D_(n);return M_.encodeByteArray(e,!0)},Pc=function(n){return gS(n).replace(/\./g,"")},V_=function(n){try{return M_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS=()=>vS().__FIREBASE_DEFAULTS__,_S=()=>{if(typeof process>"u"||typeof bv>"u")return;const n=bv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},wS=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&V_(n[1]);return e&&JSON.parse(e)},ed=()=>{try{return fS()||yS()||_S()||wS()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},L_=n=>{var e,t;return(t=(e=ed())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},ES=n=>{const e=L_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},O_=()=>{var n;return(n=ed())===null||n===void 0?void 0:n.config},j_=n=>{var e;return(e=ed())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Pc(JSON.stringify(t)),Pc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function AS(){var n;const e=(n=ed())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xS(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function PS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RS(){const n=qt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function kS(){return!AS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NS(){try{return typeof indexedDB=="object"}catch{return!1}}function bS(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="FirebaseError";class Zr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=DS,Object.setPrototypeOf(this,Zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bl.prototype.create)}}class bl{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?MS(a,r):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new Zr(s,h,r)}}function MS(n,e){return n.replace(VS,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const VS=/\{\$([^}]+)}/g;function LS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Kr(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],u=e[s];if(Dv(a)&&Dv(u)){if(!Kr(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function Dv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function al(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function ll(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function OS(n,e){const t=new jS(n,e);return t.subscribe.bind(t)}class jS{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");FS(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=sf),s.error===void 0&&(s.error=sf),s.complete===void 0&&(s.complete=sf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FS(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function sf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(n){return n&&n._delegate?n._delegate:n}class Is{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new CS;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zS(e))try{this.getOrInitializeService({instanceIdentifier:Ts})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Ts){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ts){return this.instances.has(e)}getOptions(e=Ts){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&u.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:US(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ts){return this.component?this.component.multipleInstances?e:Ts:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function US(n){return n===Ts?void 0:n}function zS(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new BS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(De||(De={}));const GS={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},HS=De.INFO,qS={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},WS=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=qS[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class up{constructor(e){this.name=e,this._logLevel=HS,this._logHandler=WS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const KS=(n,e)=>e.some(t=>n instanceof t);let Mv,Vv;function QS(){return Mv||(Mv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YS(){return Vv||(Vv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const F_=new WeakMap,Af=new WeakMap,B_=new WeakMap,of=new WeakMap,cp=new WeakMap;function XS(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Vi(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&F_.set(t,n)}).catch(()=>{}),cp.set(e,n),e}function JS(n){if(Af.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Af.set(n,e)}let If={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Af.get(n);if(e==="objectStoreNames")return n.objectStoreNames||B_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Vi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function ZS(n){If=n(If)}function eA(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(af(this),e,...t);return B_.set(r,e.sort?e.sort():[e]),Vi(r)}:YS().includes(n)?function(...e){return n.apply(af(this),e),Vi(F_.get(this))}:function(...e){return Vi(n.apply(af(this),e))}}function tA(n){return typeof n=="function"?eA(n):(n instanceof IDBTransaction&&JS(n),KS(n,QS())?new Proxy(n,If):n)}function Vi(n){if(n instanceof IDBRequest)return XS(n);if(of.has(n))return of.get(n);const e=tA(n);return e!==n&&(of.set(n,e),cp.set(e,n)),e}const af=n=>cp.get(n);function nA(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(n,e),h=Vi(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Vi(u.result),f.oldVersion,f.newVersion,Vi(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const rA=["get","getKey","getAll","getAllKeys","count"],iA=["put","add","delete","clear"],lf=new Map;function Lv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(lf.get(e))return lf.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=iA.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||rA.includes(t)))return;const a=async function(u,...h){const f=this.transaction(u,s?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[t](...h),s&&f.done]))[0]};return lf.set(e,a),a}ZS(n=>({...n,get:(e,t,r)=>Lv(e,t)||n.get(e,t,r),has:(e,t)=>!!Lv(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(oA(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function oA(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xf="@firebase/app",Ov="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr=new up("@firebase/app"),aA="@firebase/app-compat",lA="@firebase/analytics-compat",uA="@firebase/analytics",cA="@firebase/app-check-compat",dA="@firebase/app-check",hA="@firebase/auth",fA="@firebase/auth-compat",pA="@firebase/database",mA="@firebase/data-connect",gA="@firebase/database-compat",vA="@firebase/functions",yA="@firebase/functions-compat",_A="@firebase/installations",wA="@firebase/installations-compat",EA="@firebase/messaging",CA="@firebase/messaging-compat",TA="@firebase/performance",SA="@firebase/performance-compat",AA="@firebase/remote-config",IA="@firebase/remote-config-compat",xA="@firebase/storage",PA="@firebase/storage-compat",RA="@firebase/firestore",kA="@firebase/vertexai",NA="@firebase/firestore-compat",bA="firebase",DA="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf="[DEFAULT]",MA={[xf]:"fire-core",[aA]:"fire-core-compat",[uA]:"fire-analytics",[lA]:"fire-analytics-compat",[dA]:"fire-app-check",[cA]:"fire-app-check-compat",[hA]:"fire-auth",[fA]:"fire-auth-compat",[pA]:"fire-rtdb",[mA]:"fire-data-connect",[gA]:"fire-rtdb-compat",[vA]:"fire-fn",[yA]:"fire-fn-compat",[_A]:"fire-iid",[wA]:"fire-iid-compat",[EA]:"fire-fcm",[CA]:"fire-fcm-compat",[TA]:"fire-perf",[SA]:"fire-perf-compat",[AA]:"fire-rc",[IA]:"fire-rc-compat",[xA]:"fire-gcs",[PA]:"fire-gcs-compat",[RA]:"fire-fst",[NA]:"fire-fst-compat",[kA]:"fire-vertex","fire-js":"fire-js",[bA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc=new Map,VA=new Map,Rf=new Map;function jv(n,e){try{n.container.addComponent(e)}catch(t){Qr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function $o(n){const e=n.name;if(Rf.has(e))return Qr.debug(`There were multiple attempts to register component ${e}.`),!1;Rf.set(e,n);for(const t of Rc.values())jv(t,n);for(const t of VA.values())jv(t,n);return!0}function dp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Rn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Li=new bl("app","Firebase",LA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Li.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=DA;function U_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Pf,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Li.create("bad-app-name",{appName:String(s)});if(t||(t=O_()),!t)throw Li.create("no-options");const a=Rc.get(s);if(a){if(Kr(t,a.options)&&Kr(r,a.config))return a;throw Li.create("duplicate-app",{appName:s})}const u=new $S(s);for(const f of Rf.values())u.addComponent(f);const h=new OA(t,r,u);return Rc.set(s,h),h}function z_(n=Pf){const e=Rc.get(n);if(!e&&n===Pf&&O_())return U_();if(!e)throw Li.create("no-app",{appName:n});return e}function Oi(n,e,t){var r;let s=(r=MA[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const h=[`Unable to register library "${s}" with version "${e}":`];a&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qr.warn(h.join(" "));return}$o(new Is(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA="firebase-heartbeat-database",FA=1,_l="firebase-heartbeat-store";let uf=null;function $_(){return uf||(uf=nA(jA,FA,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(_l)}catch(t){console.warn(t)}}}}).catch(n=>{throw Li.create("idb-open",{originalErrorMessage:n.message})})),uf}async function BA(n){try{const t=(await $_()).transaction(_l),r=await t.objectStore(_l).get(G_(n));return await t.done,r}catch(e){if(e instanceof Zr)Qr.warn(e.message);else{const t=Li.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qr.warn(t.message)}}}async function Fv(n,e){try{const r=(await $_()).transaction(_l,"readwrite");await r.objectStore(_l).put(e,G_(n)),await r.done}catch(t){if(t instanceof Zr)Qr.warn(t.message);else{const r=Li.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Qr.warn(r.message)}}}function G_(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA=1024,zA=30;class $A{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new HA(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Bv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>zA){const u=qA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Qr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Bv(),{heartbeatsToSend:r,unsentEntries:s}=GA(this._heartbeatsCache.heartbeats),a=Pc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Qr.warn(t),""}}}function Bv(){return new Date().toISOString().substring(0,10)}function GA(n,e=UA){const t=[];let r=n.slice();for(const s of n){const a=t.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),Uv(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Uv(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class HA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NS()?bS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await BA(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Fv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Fv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Uv(n){return Pc(JSON.stringify({version:2,heartbeats:n})).length}function qA(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(n){$o(new Is("platform-logger",e=>new sA(e),"PRIVATE")),$o(new Is("heartbeat",e=>new $A(e),"PRIVATE")),Oi(xf,Ov,n),Oi(xf,Ov,"esm2017"),Oi("fire-js","")}WA("");var KA="firebase",QA="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oi(KA,QA,"app");function hp(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function H_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YA=H_,q_=new bl("auth","Firebase",H_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc=new up("@firebase/auth");function XA(n,...e){kc.logLevel<=De.WARN&&kc.warn(`Auth (${na}): ${n}`,...e)}function gc(n,...e){kc.logLevel<=De.ERROR&&kc.error(`Auth (${na}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(n,...e){throw fp(n,...e)}function hr(n,...e){return fp(n,...e)}function W_(n,e,t){const r=Object.assign(Object.assign({},YA()),{[e]:t});return new bl("auth","Firebase",r).create(e,{appName:n.name})}function Gr(n){return W_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fp(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return q_.create(n,...e)}function Se(n,e,...t){if(!n)throw fp(e,...t)}function Ur(n){const e="INTERNAL ASSERTION FAILED: "+n;throw gc(e),new Error(e)}function Yr(n,e){n||Ur(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function JA(){return zv()==="http:"||zv()==="https:"}function zv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JA()||xS()||"connection"in navigator)?navigator.onLine:!0}function eI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,t){this.shortDelay=e,this.longDelay=t,Yr(t>e,"Short delay should be less than long delay!"),this.isMobile=SS()||PS()}get(){return ZA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(n,e){Yr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rI=new Ml(3e4,6e4);function ei(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ti(n,e,t,r,s={}){return Q_(n,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const h=Dl(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:f},a);return IS()||(p.referrerPolicy="no-referrer"),K_.fetch()(await Y_(n,n.config.apiHost,t,h),p)})}async function Q_(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},tI),e);try{const s=new sI(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw oc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw oc(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw oc(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw oc(n,"user-disabled",u);const v=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw W_(n,v,p);Kn(n,v)}}catch(s){if(s instanceof Zr)throw s;Kn(n,"network-request-failed",{message:String(s)})}}async function Vl(n,e,t,r,s={}){const a=await ti(n,e,t,r,s);return"mfaPendingCredential"in a&&Kn(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function Y_(n,e,t,r){const s=`${e}${t}?${r}`,a=n,u=a.config.emulator?pp(n.config,s):`${n.config.apiScheme}://${s}`;return nI.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function iI(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(hr(this.auth,"network-request-failed")),rI.get())})}}function oc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=hr(n,e,r);return s.customData._tokenResponse=t,s}function $v(n){return n!==void 0&&n.enterprise!==void 0}class oI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return iI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function aI(n,e){return ti(n,"GET","/v2/recaptchaConfig",ei(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lI(n,e){return ti(n,"POST","/v1/accounts:delete",e)}async function Nc(n,e){return ti(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uI(n,e=!1){const t=gt(n),r=await t.getIdToken(e),s=mp(r);Se(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:fl(cf(s.auth_time)),issuedAtTime:fl(cf(s.iat)),expirationTime:fl(cf(s.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function cf(n){return Number(n)*1e3}function mp(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return gc("JWT malformed, contained fewer than 3 sections"),null;try{const s=V_(t);return s?JSON.parse(s):(gc("Failed to decode base64 JWT payload"),null)}catch(s){return gc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Gv(n){const e=mp(n);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Zr&&cI(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function cI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=fl(this.lastLoginAt),this.creationTime=fl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bc(n){var e;const t=n.auth,r=await n.getIdToken(),s=await wl(n,Nc(t,{idToken:r}));Se(s==null?void 0:s.users.length,t,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?X_(a.providerUserInfo):[],h=fI(n.providerData,u),f=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!(h!=null&&h.length),v=f?p:!1,w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new Nf(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(n,w)}async function hI(n){const e=gt(n);await bc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fI(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function X_(n){return n.map(e=>{var{providerId:t}=e,r=hp(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pI(n,e){const t=await Q_(n,{},async()=>{const r=Dl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,u=await Y_(n,s,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",K_.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function mI(n,e){return ti(n,"POST","/v2/accounts:revokeToken",ei(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Gv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=Gv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await pI(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,u=new Oo;return r&&(Se(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Se(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(Se(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Oo,this.toJSON())}_performRefresh(){return Ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(n,e){Se(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Wn{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,a=hp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Nf(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await wl(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return uI(this,e)}reload(){return hI(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Wn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await bc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rn(this.auth.app))return Promise.reject(Gr(this.auth));const e=await this.getIdToken();return await wl(this,lI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,a,u,h,f,p,v;const w=(r=t.displayName)!==null&&r!==void 0?r:void 0,C=(s=t.email)!==null&&s!==void 0?s:void 0,N=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,A=(u=t.photoURL)!==null&&u!==void 0?u:void 0,L=(h=t.tenantId)!==null&&h!==void 0?h:void 0,O=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,M=(p=t.createdAt)!==null&&p!==void 0?p:void 0,k=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:V,emailVerified:$,isAnonymous:Q,providerData:J,stsTokenManager:j}=t;Se(V&&j,e,"internal-error");const b=Oo.fromJSON(this.name,j);Se(typeof V=="string",e,"internal-error"),Pi(w,e.name),Pi(C,e.name),Se(typeof $=="boolean",e,"internal-error"),Se(typeof Q=="boolean",e,"internal-error"),Pi(N,e.name),Pi(A,e.name),Pi(L,e.name),Pi(O,e.name),Pi(M,e.name),Pi(k,e.name);const T=new Wn({uid:V,auth:e,email:C,emailVerified:$,displayName:w,isAnonymous:Q,photoURL:A,phoneNumber:N,tenantId:L,stsTokenManager:b,createdAt:M,lastLoginAt:k});return J&&Array.isArray(J)&&(T.providerData=J.map(x=>Object.assign({},x))),O&&(T._redirectEventId=O),T}static async _fromIdTokenResponse(e,t,r=!1){const s=new Oo;s.updateFromServerResponse(t);const a=new Wn({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await bc(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Se(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?X_(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),h=new Oo;h.updateFromIdToken(r);const f=new Wn({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Nf(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv=new Map;function zr(n){Yr(n instanceof Function,"Expected a class definition");let e=Hv.get(n);return e?(Yr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Hv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}J_.type="NONE";const qv=J_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(n,e,t){return`firebase:${n}:${e}:${t}`}class jo{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=vc(this.userKey,s.apiKey,a),this.fullPersistenceKey=vc("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Nc(this.auth,{idToken:e}).catch(()=>{});return t?Wn._fromGetAccountInfoResponse(this.auth,t,e):null}return Wn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new jo(zr(qv),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||zr(qv);const u=vc(r,e.config.apiKey,e.name);let h=null;for(const p of t)try{const v=await p._get(u);if(v){let w;if(typeof v=="string"){const C=await Nc(e,{idToken:v}).catch(()=>{});if(!C)break;w=await Wn._fromGetAccountInfoResponse(e,C,v)}else w=Wn._fromJSON(e,v);p!==a&&(h=w),a=p;break}}catch{}const f=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new jo(a,e,r):(a=f[0],h&&await a._set(u,h.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(u)}catch{}})),new jo(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Z_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iw(e))return"Blackberry";if(sw(e))return"Webos";if(ew(e))return"Safari";if((e.includes("chrome/")||tw(e))&&!e.includes("edge/"))return"Chrome";if(rw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Z_(n=qt()){return/firefox\//i.test(n)}function ew(n=qt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tw(n=qt()){return/crios\//i.test(n)}function nw(n=qt()){return/iemobile/i.test(n)}function rw(n=qt()){return/android/i.test(n)}function iw(n=qt()){return/blackberry/i.test(n)}function sw(n=qt()){return/webos/i.test(n)}function gp(n=qt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function gI(n=qt()){var e;return gp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function vI(){return RS()&&document.documentMode===10}function ow(n=qt()){return gp(n)||rw(n)||sw(n)||iw(n)||/windows phone/i.test(n)||nw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(n,e=[]){let t;switch(n){case"Browser":t=Wv(qt());break;case"Worker":t=`${Wv(qt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${na}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,h)=>{try{const f=e(a);u(f)}catch(f){h(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _I(n,e={}){return ti(n,"GET","/v2/passwordPolicy",ei(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=6;class EI{constructor(e){var t,r,s,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:wI,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,a,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kv(this),this.idTokenSubscription=new Kv(this),this.beforeStateQueue=new yI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=q_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=zr(t)),this._initializationPromise=this.queue(async()=>{var r,s,a;if(!this._deleted&&(this.persistenceManager=await jo.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Nc(this,{idToken:e}),r=await Wn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Rn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await bc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=eI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rn(this.app))return Promise.reject(Gr(this));const t=e?gt(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rn(this.app)?Promise.reject(Gr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rn(this.app)?Promise.reject(Gr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _I(this),t=new EI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bl("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await mI(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&zr(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await jo.create(this,[zr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(Rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&XA(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function bs(n){return gt(n)}class Kv{constructor(e){this.auth=e,this.observer=null,this.addObserver=OS(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let td={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TI(n){td=n}function lw(n){return td.loadJS(n)}function SI(){return td.recaptchaEnterpriseScript}function AI(){return td.gapiScript}function II(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class xI{constructor(){this.enterprise=new PI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class PI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const RI="recaptcha-enterprise",uw="NO_RECAPTCHA";class kI{constructor(e){this.type=RI,this.auth=bs(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,h)=>{aI(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new oI(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,u(p.siteKey)}}).catch(f=>{h(f)})})}function s(a,u,h){const f=window.grecaptcha;$v(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(p=>{u(p)}).catch(()=>{u(uw)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new xI().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(h=>{if(!t&&$v(window.grecaptcha))s(h,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=SI();f.length!==0&&(f+=h),lw(f).then(()=>{s(h,a,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function Qv(n,e,t,r=!1,s=!1){const a=new kI(n);let u;if(s)u=uw;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function bf(n,e,t,r,s){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Qv(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await Qv(n,e,t,t==="getOobCode");return r(n,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(n,e){const t=dp(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(Kr(a,e??{}))return s;Kn(s,"already-initialized")}return t.initialize({options:e})}function bI(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(zr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function DI(n,e,t){const r=bs(n);Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=cw(e),{host:u,port:h}=MI(e),f=h===null?"":`:${h}`,p={url:`${a}//${u}${f}/`},v=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Se(Kr(p,r.config.emulator)&&Kr(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,VI()}function cw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function MI(n){const e=cw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:Yv(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:Yv(u)}}}function Yv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function VI(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ur("not implemented")}_getIdTokenResponse(e){return Ur("not implemented")}_linkToIdToken(e,t){return Ur("not implemented")}_getReauthenticationResolver(e){return Ur("not implemented")}}async function LI(n,e){return ti(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OI(n,e){return Vl(n,"POST","/v1/accounts:signInWithPassword",ei(n,e))}async function jI(n,e){return ti(n,"POST","/v1/accounts:sendOobCode",ei(n,e))}async function FI(n,e){return jI(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BI(n,e){return Vl(n,"POST","/v1/accounts:signInWithEmailLink",ei(n,e))}async function UI(n,e){return Vl(n,"POST","/v1/accounts:signInWithEmailLink",ei(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El extends vp{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new El(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new El(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bf(e,t,"signInWithPassword",OI);case"emailLink":return BI(e,{email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bf(e,r,"signUpPassword",LI);case"emailLink":return UI(e,{idToken:t,email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fo(n,e){return Vl(n,"POST","/v1/accounts:signInWithIdp",ei(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="http://localhost";class xs extends vp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new xs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Kn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,a=hp(t,["providerId","signInMethod"]);if(!r||!s)return null;const u=new xs(r,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Fo(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Fo(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Fo(e,t)}buildRequest(){const e={requestUri:zI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Dl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function GI(n){const e=al(ll(n)).link,t=e?al(ll(e)).deep_link_id:null,r=al(ll(n)).deep_link_id;return(r?al(ll(r)).link:null)||r||t||e||n}class yp{constructor(e){var t,r,s,a,u,h;const f=al(ll(e)),p=(t=f.apiKey)!==null&&t!==void 0?t:null,v=(r=f.oobCode)!==null&&r!==void 0?r:null,w=$I((s=f.mode)!==null&&s!==void 0?s:null);Se(p&&v&&w,"argument-error"),this.apiKey=p,this.operation=w,this.code=v,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=GI(e);try{return new yp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(){this.providerId=ra.PROVIDER_ID}static credential(e,t){return El._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=yp.parseLink(t);return Se(r,"argument-error"),El._fromEmailAndCode(e,r.code,r.tenantId)}}ra.PROVIDER_ID="password";ra.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ra.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends dw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends Ll{constructor(){super("facebook.com")}static credential(e){return xs._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ri.credential(e.oauthAccessToken)}catch{return null}}}Ri.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ri.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends Ll{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return xs._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ki.credential(t,r)}catch{return null}}}ki.GOOGLE_SIGN_IN_METHOD="google.com";ki.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends Ll{constructor(){super("github.com")}static credential(e){return xs._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ni.credential(e.oauthAccessToken)}catch{return null}}}Ni.GITHUB_SIGN_IN_METHOD="github.com";Ni.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends Ll{constructor(){super("twitter.com")}static credential(e,t){return xs._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return bi.credential(t,r)}catch{return null}}}bi.TWITTER_SIGN_IN_METHOD="twitter.com";bi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HI(n,e){return Vl(n,"POST","/v1/accounts:signUp",ei(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await Wn._fromIdTokenResponse(e,r,s),u=Xv(r);return new Ps({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=Xv(r);return new Ps({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function Xv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc extends Zr{constructor(e,t,r,s){var a;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Dc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Dc(e,t,r,s)}}function hw(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Dc._fromErrorAndOperation(n,a,e,r):a})}async function qI(n,e,t=!1){const r=await wl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ps._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WI(n,e,t=!1){const{auth:r}=n;if(Rn(r.app))return Promise.reject(Gr(r));const s="reauthenticate";try{const a=await wl(n,hw(r,s,e,n),t);Se(a.idToken,r,"internal-error");const u=mp(a.idToken);Se(u,r,"internal-error");const{sub:h}=u;return Se(n.uid===h,r,"user-mismatch"),Ps._forOperation(n,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Kn(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fw(n,e,t=!1){if(Rn(n.app))return Promise.reject(Gr(n));const r="signIn",s=await hw(n,r,e),a=await Ps._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}async function KI(n,e){return fw(bs(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pw(n){const e=bs(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function QI(n,e,t){if(Rn(n.app))return Promise.reject(Gr(n));const r=bs(n),u=await bf(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",HI).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&pw(n),f}),h=await Ps._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function YI(n,e,t){return Rn(n.app)?Promise.reject(Gr(n)):KI(gt(n),ra.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&pw(n),r})}async function XI(n,e){const t=gt(n),s={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:a}=await FI(t.auth,s);a!==n.email&&await n.reload()}function JI(n,e,t,r){return gt(n).onIdTokenChanged(e,t,r)}function ZI(n,e,t){return gt(n).beforeAuthStateChanged(e,t)}function ex(n,e,t,r){return gt(n).onAuthStateChanged(e,t,r)}function tx(n){return gt(n).signOut()}const Mc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Mc,"1"),this.storage.removeItem(Mc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=1e3,rx=10;class gw extends mw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ow(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);vI()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,rx):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},nx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}gw.type="LOCAL";const ix=gw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw extends mw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}vw.type="SESSION";const yw=vw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new nd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const h=Array.from(u).map(async p=>p(t.origin,a)),f=await sx(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((h,f)=>{const p=_p("",20);s.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(w){const C=w;if(C.data.eventId===p)switch(C.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(C.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(){return window}function ax(n){fr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(){return typeof fr().WorkerGlobalScope<"u"&&typeof fr().importScripts=="function"}async function lx(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ux(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function cx(){return _w()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="firebaseLocalStorageDb",dx=1,Vc="firebaseLocalStorage",Ew="fbase_key";class Ol{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function rd(n,e){return n.transaction([Vc],e?"readwrite":"readonly").objectStore(Vc)}function hx(){const n=indexedDB.deleteDatabase(ww);return new Ol(n).toPromise()}function Df(){const n=indexedDB.open(ww,dx);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Vc,{keyPath:Ew})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Vc)?e(r):(r.close(),await hx(),e(await Df()))})})}async function Jv(n,e,t){const r=rd(n,!0).put({[Ew]:e,value:t});return new Ol(r).toPromise()}async function fx(n,e){const t=rd(n,!1).get(e),r=await new Ol(t).toPromise();return r===void 0?null:r.value}function Zv(n,e){const t=rd(n,!0).delete(e);return new Ol(t).toPromise()}const px=800,mx=3;class Cw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Df(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>mx)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _w()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nd._getInstance(cx()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await lx(),!this.activeServiceWorker)return;this.sender=new ox(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ux()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Df();return await Jv(e,Mc,"1"),await Zv(e,Mc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Jv(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>fx(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Zv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=rd(s,!1).getAll();return new Ol(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),px)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Cw.type="LOCAL";const gx=Cw;new Ml(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(n,e){return e?zr(e):(Se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp extends vp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Fo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Fo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function yx(n){return fw(n.auth,new wp(n),n.bypassAuthState)}function _x(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),WI(t,new wp(n),n.bypassAuthState)}async function wx(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),qI(t,new wp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yx;case"linkViaPopup":case"linkViaRedirect":return wx;case"reauthViaPopup":case"reauthViaRedirect":return _x;default:Kn(this.auth,"internal-error")}}resolve(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=new Ml(2e3,1e4);class Vo extends Tw{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,Vo.currentPopupAction&&Vo.currentPopupAction.cancel(),Vo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Yr(this.filter.length===1,"Popup operations only handle one event");const e=_p();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Ex.get())};e()}}Vo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx="pendingRedirect",yc=new Map;class Tx extends Tw{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=yc.get(this.auth._key());if(!e){try{const r=await Sx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}yc.set(this.auth._key(),e)}return this.bypassAuthState||yc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Sx(n,e){const t=xx(e),r=Ix(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function Ax(n,e){yc.set(n._key(),e)}function Ix(n){return zr(n._redirectPersistence)}function xx(n){return vc(Cx,n.config.apiKey,n.name)}async function Px(n,e,t=!1){if(Rn(n.app))return Promise.reject(Gr(n));const r=bs(n),s=vx(r,e),u=await new Tx(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=10*60*1e3;class kx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Nx(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Sw(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(hr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Rx&&this.cachedEventUids.clear(),this.cachedEventUids.has(ey(e))}saveEventToCache(e){this.cachedEventUids.add(ey(e)),this.lastProcessedEventTime=Date.now()}}function ey(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Sw({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Nx(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Sw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bx(n,e={}){return ti(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mx=/^https?/;async function Vx(n){if(n.config.emulator)return;const{authorizedDomains:e}=await bx(n);for(const t of e)try{if(Lx(t))return}catch{}Kn(n,"unauthorized-domain")}function Lx(n){const e=kf(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!Mx.test(t))return!1;if(Dx.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox=new Ml(3e4,6e4);function ty(){const n=fr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function jx(n){return new Promise((e,t)=>{var r,s,a;function u(){ty(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ty(),t(hr(n,"network-request-failed"))},timeout:Ox.get()})}if(!((s=(r=fr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=fr().gapi)===null||a===void 0)&&a.load)u();else{const h=II("iframefcb");return fr()[h]=()=>{gapi.load?u():t(hr(n,"network-request-failed"))},lw(`${AI()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw _c=null,e})}let _c=null;function Fx(n){return _c=_c||jx(n),_c}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=new Ml(5e3,15e3),Ux="__/auth/iframe",zx="emulator/auth/iframe",$x={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Hx(n){const e=n.config;Se(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?pp(e,zx):`https://${n.config.authDomain}/${Ux}`,r={apiKey:e.apiKey,appName:n.name,v:na},s=Gx.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Dl(r).slice(1)}`}async function qx(n){const e=await Fx(n),t=fr().gapi;return Se(t,n,"internal-error"),e.open({where:document.body,url:Hx(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$x,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const u=hr(n,"network-request-failed"),h=fr().setTimeout(()=>{a(u)},Bx.get());function f(){fr().clearTimeout(h),s(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Kx=500,Qx=600,Yx="_blank",Xx="http://localhost";class ny{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Jx(n,e,t,r=Kx,s=Qx){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f=Object.assign(Object.assign({},Wx),{width:r.toString(),height:s.toString(),top:a,left:u}),p=qt().toLowerCase();t&&(h=tw(p)?Yx:t),Z_(p)&&(e=e||Xx,f.scrollbars="yes");const v=Object.entries(f).reduce((C,[N,A])=>`${C}${N}=${A},`,"");if(gI(p)&&h!=="_self")return Zx(e||"",h),new ny(null);const w=window.open(e||"",h,v);Se(w,n,"popup-blocked");try{w.focus()}catch{}return new ny(w)}function Zx(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="__/auth/handler",t1="emulator/auth/handler",n1=encodeURIComponent("fac");async function ry(n,e,t,r,s,a){Se(n.config.authDomain,n,"auth-domain-config-required"),Se(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:na,eventId:s};if(e instanceof dw){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",LS(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,w]of Object.entries({}))u[v]=w}if(e instanceof Ll){const v=e.getScopes().filter(w=>w!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const f=await n._getAppCheckToken(),p=f?`#${n1}=${encodeURIComponent(f)}`:"";return`${r1(n)}?${Dl(h).slice(1)}${p}`}function r1({config:n}){return n.emulator?pp(n,t1):`https://${n.authDomain}/${e1}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df="webStorageSupport";class i1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yw,this._completeRedirectFn=Px,this._overrideRedirectResult=Ax}async _openPopup(e,t,r,s){var a;Yr((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await ry(e,t,r,kf(),s);return Jx(e,u,_p())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await ry(e,t,r,kf(),s);return ax(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(Yr(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await qx(e),r=new kx(e);return t.register("authEvent",s=>(Se(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(df,{type:df},s=>{var a;const u=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[df];u!==void 0&&t(!!u),Kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Vx(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ow()||ew()||gp()}}const s1=i1;var iy="@firebase/auth",sy="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function l1(n){$o(new Is("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Se(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aw(n)},p=new CI(r,s,a,f);return bI(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),$o(new Is("auth-internal",e=>{const t=bs(e.getProvider("auth").getImmediate());return(r=>new o1(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oi(iy,sy,a1(n)),Oi(iy,sy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=5*60,c1=j_("authIdTokenMaxAge")||u1;let oy=null;const d1=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>c1)return;const s=t==null?void 0:t.token;oy!==s&&(oy=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function h1(n=z_()){const e=dp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=NI(n,{popupRedirectResolver:s1,persistence:[gx,ix,yw]}),r=j_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=d1(a.toString());ZI(t,u,()=>u(t.currentUser)),JI(t,h=>u(h))}}const s=L_("auth");return s&&DI(t,`http://${s}`),t}function f1(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}TI({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=hr("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",f1().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});l1("Browser");var ay=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ji,Aw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,b){function T(){}T.prototype=b.prototype,j.D=b.prototype,j.prototype=new T,j.prototype.constructor=j,j.C=function(x,I,P){for(var R=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)R[ne-2]=arguments[ne];return b.prototype[I].apply(x,R)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(j,b,T){T||(T=0);var x=Array(16);if(typeof b=="string")for(var I=0;16>I;++I)x[I]=b.charCodeAt(T++)|b.charCodeAt(T++)<<8|b.charCodeAt(T++)<<16|b.charCodeAt(T++)<<24;else for(I=0;16>I;++I)x[I]=b[T++]|b[T++]<<8|b[T++]<<16|b[T++]<<24;b=j.g[0],T=j.g[1],I=j.g[2];var P=j.g[3],R=b+(P^T&(I^P))+x[0]+3614090360&4294967295;b=T+(R<<7&4294967295|R>>>25),R=P+(I^b&(T^I))+x[1]+3905402710&4294967295,P=b+(R<<12&4294967295|R>>>20),R=I+(T^P&(b^T))+x[2]+606105819&4294967295,I=P+(R<<17&4294967295|R>>>15),R=T+(b^I&(P^b))+x[3]+3250441966&4294967295,T=I+(R<<22&4294967295|R>>>10),R=b+(P^T&(I^P))+x[4]+4118548399&4294967295,b=T+(R<<7&4294967295|R>>>25),R=P+(I^b&(T^I))+x[5]+1200080426&4294967295,P=b+(R<<12&4294967295|R>>>20),R=I+(T^P&(b^T))+x[6]+2821735955&4294967295,I=P+(R<<17&4294967295|R>>>15),R=T+(b^I&(P^b))+x[7]+4249261313&4294967295,T=I+(R<<22&4294967295|R>>>10),R=b+(P^T&(I^P))+x[8]+1770035416&4294967295,b=T+(R<<7&4294967295|R>>>25),R=P+(I^b&(T^I))+x[9]+2336552879&4294967295,P=b+(R<<12&4294967295|R>>>20),R=I+(T^P&(b^T))+x[10]+4294925233&4294967295,I=P+(R<<17&4294967295|R>>>15),R=T+(b^I&(P^b))+x[11]+2304563134&4294967295,T=I+(R<<22&4294967295|R>>>10),R=b+(P^T&(I^P))+x[12]+1804603682&4294967295,b=T+(R<<7&4294967295|R>>>25),R=P+(I^b&(T^I))+x[13]+4254626195&4294967295,P=b+(R<<12&4294967295|R>>>20),R=I+(T^P&(b^T))+x[14]+2792965006&4294967295,I=P+(R<<17&4294967295|R>>>15),R=T+(b^I&(P^b))+x[15]+1236535329&4294967295,T=I+(R<<22&4294967295|R>>>10),R=b+(I^P&(T^I))+x[1]+4129170786&4294967295,b=T+(R<<5&4294967295|R>>>27),R=P+(T^I&(b^T))+x[6]+3225465664&4294967295,P=b+(R<<9&4294967295|R>>>23),R=I+(b^T&(P^b))+x[11]+643717713&4294967295,I=P+(R<<14&4294967295|R>>>18),R=T+(P^b&(I^P))+x[0]+3921069994&4294967295,T=I+(R<<20&4294967295|R>>>12),R=b+(I^P&(T^I))+x[5]+3593408605&4294967295,b=T+(R<<5&4294967295|R>>>27),R=P+(T^I&(b^T))+x[10]+38016083&4294967295,P=b+(R<<9&4294967295|R>>>23),R=I+(b^T&(P^b))+x[15]+3634488961&4294967295,I=P+(R<<14&4294967295|R>>>18),R=T+(P^b&(I^P))+x[4]+3889429448&4294967295,T=I+(R<<20&4294967295|R>>>12),R=b+(I^P&(T^I))+x[9]+568446438&4294967295,b=T+(R<<5&4294967295|R>>>27),R=P+(T^I&(b^T))+x[14]+3275163606&4294967295,P=b+(R<<9&4294967295|R>>>23),R=I+(b^T&(P^b))+x[3]+4107603335&4294967295,I=P+(R<<14&4294967295|R>>>18),R=T+(P^b&(I^P))+x[8]+1163531501&4294967295,T=I+(R<<20&4294967295|R>>>12),R=b+(I^P&(T^I))+x[13]+2850285829&4294967295,b=T+(R<<5&4294967295|R>>>27),R=P+(T^I&(b^T))+x[2]+4243563512&4294967295,P=b+(R<<9&4294967295|R>>>23),R=I+(b^T&(P^b))+x[7]+1735328473&4294967295,I=P+(R<<14&4294967295|R>>>18),R=T+(P^b&(I^P))+x[12]+2368359562&4294967295,T=I+(R<<20&4294967295|R>>>12),R=b+(T^I^P)+x[5]+4294588738&4294967295,b=T+(R<<4&4294967295|R>>>28),R=P+(b^T^I)+x[8]+2272392833&4294967295,P=b+(R<<11&4294967295|R>>>21),R=I+(P^b^T)+x[11]+1839030562&4294967295,I=P+(R<<16&4294967295|R>>>16),R=T+(I^P^b)+x[14]+4259657740&4294967295,T=I+(R<<23&4294967295|R>>>9),R=b+(T^I^P)+x[1]+2763975236&4294967295,b=T+(R<<4&4294967295|R>>>28),R=P+(b^T^I)+x[4]+1272893353&4294967295,P=b+(R<<11&4294967295|R>>>21),R=I+(P^b^T)+x[7]+4139469664&4294967295,I=P+(R<<16&4294967295|R>>>16),R=T+(I^P^b)+x[10]+3200236656&4294967295,T=I+(R<<23&4294967295|R>>>9),R=b+(T^I^P)+x[13]+681279174&4294967295,b=T+(R<<4&4294967295|R>>>28),R=P+(b^T^I)+x[0]+3936430074&4294967295,P=b+(R<<11&4294967295|R>>>21),R=I+(P^b^T)+x[3]+3572445317&4294967295,I=P+(R<<16&4294967295|R>>>16),R=T+(I^P^b)+x[6]+76029189&4294967295,T=I+(R<<23&4294967295|R>>>9),R=b+(T^I^P)+x[9]+3654602809&4294967295,b=T+(R<<4&4294967295|R>>>28),R=P+(b^T^I)+x[12]+3873151461&4294967295,P=b+(R<<11&4294967295|R>>>21),R=I+(P^b^T)+x[15]+530742520&4294967295,I=P+(R<<16&4294967295|R>>>16),R=T+(I^P^b)+x[2]+3299628645&4294967295,T=I+(R<<23&4294967295|R>>>9),R=b+(I^(T|~P))+x[0]+4096336452&4294967295,b=T+(R<<6&4294967295|R>>>26),R=P+(T^(b|~I))+x[7]+1126891415&4294967295,P=b+(R<<10&4294967295|R>>>22),R=I+(b^(P|~T))+x[14]+2878612391&4294967295,I=P+(R<<15&4294967295|R>>>17),R=T+(P^(I|~b))+x[5]+4237533241&4294967295,T=I+(R<<21&4294967295|R>>>11),R=b+(I^(T|~P))+x[12]+1700485571&4294967295,b=T+(R<<6&4294967295|R>>>26),R=P+(T^(b|~I))+x[3]+2399980690&4294967295,P=b+(R<<10&4294967295|R>>>22),R=I+(b^(P|~T))+x[10]+4293915773&4294967295,I=P+(R<<15&4294967295|R>>>17),R=T+(P^(I|~b))+x[1]+2240044497&4294967295,T=I+(R<<21&4294967295|R>>>11),R=b+(I^(T|~P))+x[8]+1873313359&4294967295,b=T+(R<<6&4294967295|R>>>26),R=P+(T^(b|~I))+x[15]+4264355552&4294967295,P=b+(R<<10&4294967295|R>>>22),R=I+(b^(P|~T))+x[6]+2734768916&4294967295,I=P+(R<<15&4294967295|R>>>17),R=T+(P^(I|~b))+x[13]+1309151649&4294967295,T=I+(R<<21&4294967295|R>>>11),R=b+(I^(T|~P))+x[4]+4149444226&4294967295,b=T+(R<<6&4294967295|R>>>26),R=P+(T^(b|~I))+x[11]+3174756917&4294967295,P=b+(R<<10&4294967295|R>>>22),R=I+(b^(P|~T))+x[2]+718787259&4294967295,I=P+(R<<15&4294967295|R>>>17),R=T+(P^(I|~b))+x[9]+3951481745&4294967295,j.g[0]=j.g[0]+b&4294967295,j.g[1]=j.g[1]+(I+(R<<21&4294967295|R>>>11))&4294967295,j.g[2]=j.g[2]+I&4294967295,j.g[3]=j.g[3]+P&4294967295}r.prototype.u=function(j,b){b===void 0&&(b=j.length);for(var T=b-this.blockSize,x=this.B,I=this.h,P=0;P<b;){if(I==0)for(;P<=T;)s(this,j,P),P+=this.blockSize;if(typeof j=="string"){for(;P<b;)if(x[I++]=j.charCodeAt(P++),I==this.blockSize){s(this,x),I=0;break}}else for(;P<b;)if(x[I++]=j[P++],I==this.blockSize){s(this,x),I=0;break}}this.h=I,this.o+=b},r.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var b=1;b<j.length-8;++b)j[b]=0;var T=8*this.o;for(b=j.length-8;b<j.length;++b)j[b]=T&255,T/=256;for(this.u(j),j=Array(16),b=T=0;4>b;++b)for(var x=0;32>x;x+=8)j[T++]=this.g[b]>>>x&255;return j};function a(j,b){var T=h;return Object.prototype.hasOwnProperty.call(T,j)?T[j]:T[j]=b(j)}function u(j,b){this.h=b;for(var T=[],x=!0,I=j.length-1;0<=I;I--){var P=j[I]|0;x&&P==b||(T[I]=P,x=!1)}this.g=T}var h={};function f(j){return-128<=j&&128>j?a(j,function(b){return new u([b|0],0>b?-1:0)}):new u([j|0],0>j?-1:0)}function p(j){if(isNaN(j)||!isFinite(j))return w;if(0>j)return O(p(-j));for(var b=[],T=1,x=0;j>=T;x++)b[x]=j/T|0,T*=4294967296;return new u(b,0)}function v(j,b){if(j.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(j.charAt(0)=="-")return O(v(j.substring(1),b));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=p(Math.pow(b,8)),x=w,I=0;I<j.length;I+=8){var P=Math.min(8,j.length-I),R=parseInt(j.substring(I,I+P),b);8>P?(P=p(Math.pow(b,P)),x=x.j(P).add(p(R))):(x=x.j(T),x=x.add(p(R)))}return x}var w=f(0),C=f(1),N=f(16777216);n=u.prototype,n.m=function(){if(L(this))return-O(this).m();for(var j=0,b=1,T=0;T<this.g.length;T++){var x=this.i(T);j+=(0<=x?x:4294967296+x)*b,b*=4294967296}return j},n.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(A(this))return"0";if(L(this))return"-"+O(this).toString(j);for(var b=p(Math.pow(j,6)),T=this,x="";;){var I=$(T,b).g;T=M(T,I.j(b));var P=((0<T.g.length?T.g[0]:T.h)>>>0).toString(j);if(T=I,A(T))return P+x;for(;6>P.length;)P="0"+P;x=P+x}},n.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function A(j){if(j.h!=0)return!1;for(var b=0;b<j.g.length;b++)if(j.g[b]!=0)return!1;return!0}function L(j){return j.h==-1}n.l=function(j){return j=M(this,j),L(j)?-1:A(j)?0:1};function O(j){for(var b=j.g.length,T=[],x=0;x<b;x++)T[x]=~j.g[x];return new u(T,~j.h).add(C)}n.abs=function(){return L(this)?O(this):this},n.add=function(j){for(var b=Math.max(this.g.length,j.g.length),T=[],x=0,I=0;I<=b;I++){var P=x+(this.i(I)&65535)+(j.i(I)&65535),R=(P>>>16)+(this.i(I)>>>16)+(j.i(I)>>>16);x=R>>>16,P&=65535,R&=65535,T[I]=R<<16|P}return new u(T,T[T.length-1]&-2147483648?-1:0)};function M(j,b){return j.add(O(b))}n.j=function(j){if(A(this)||A(j))return w;if(L(this))return L(j)?O(this).j(O(j)):O(O(this).j(j));if(L(j))return O(this.j(O(j)));if(0>this.l(N)&&0>j.l(N))return p(this.m()*j.m());for(var b=this.g.length+j.g.length,T=[],x=0;x<2*b;x++)T[x]=0;for(x=0;x<this.g.length;x++)for(var I=0;I<j.g.length;I++){var P=this.i(x)>>>16,R=this.i(x)&65535,ne=j.i(I)>>>16,ie=j.i(I)&65535;T[2*x+2*I]+=R*ie,k(T,2*x+2*I),T[2*x+2*I+1]+=P*ie,k(T,2*x+2*I+1),T[2*x+2*I+1]+=R*ne,k(T,2*x+2*I+1),T[2*x+2*I+2]+=P*ne,k(T,2*x+2*I+2)}for(x=0;x<b;x++)T[x]=T[2*x+1]<<16|T[2*x];for(x=b;x<2*b;x++)T[x]=0;return new u(T,0)};function k(j,b){for(;(j[b]&65535)!=j[b];)j[b+1]+=j[b]>>>16,j[b]&=65535,b++}function V(j,b){this.g=j,this.h=b}function $(j,b){if(A(b))throw Error("division by zero");if(A(j))return new V(w,w);if(L(j))return b=$(O(j),b),new V(O(b.g),O(b.h));if(L(b))return b=$(j,O(b)),new V(O(b.g),b.h);if(30<j.g.length){if(L(j)||L(b))throw Error("slowDivide_ only works with positive integers.");for(var T=C,x=b;0>=x.l(j);)T=Q(T),x=Q(x);var I=J(T,1),P=J(x,1);for(x=J(x,2),T=J(T,2);!A(x);){var R=P.add(x);0>=R.l(j)&&(I=I.add(T),P=R),x=J(x,1),T=J(T,1)}return b=M(j,I.j(b)),new V(I,b)}for(I=w;0<=j.l(b);){for(T=Math.max(1,Math.floor(j.m()/b.m())),x=Math.ceil(Math.log(T)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),P=p(T),R=P.j(b);L(R)||0<R.l(j);)T-=x,P=p(T),R=P.j(b);A(P)&&(P=C),I=I.add(P),j=M(j,R)}return new V(I,j)}n.A=function(j){return $(this,j).h},n.and=function(j){for(var b=Math.max(this.g.length,j.g.length),T=[],x=0;x<b;x++)T[x]=this.i(x)&j.i(x);return new u(T,this.h&j.h)},n.or=function(j){for(var b=Math.max(this.g.length,j.g.length),T=[],x=0;x<b;x++)T[x]=this.i(x)|j.i(x);return new u(T,this.h|j.h)},n.xor=function(j){for(var b=Math.max(this.g.length,j.g.length),T=[],x=0;x<b;x++)T[x]=this.i(x)^j.i(x);return new u(T,this.h^j.h)};function Q(j){for(var b=j.g.length+1,T=[],x=0;x<b;x++)T[x]=j.i(x)<<1|j.i(x-1)>>>31;return new u(T,j.h)}function J(j,b){var T=b>>5;b%=32;for(var x=j.g.length-T,I=[],P=0;P<x;P++)I[P]=0<b?j.i(P+T)>>>b|j.i(P+T+1)<<32-b:j.i(P+T);return new u(I,j.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Aw=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=v,ji=u}).apply(typeof ay<"u"?ay:typeof self<"u"?self:typeof window<"u"?window:{});var ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Iw,ul,xw,wc,Mf,Pw,Rw,kw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,E){return c==Array.prototype||c==Object.prototype||(c[g]=E.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ac=="object"&&ac];for(var g=0;g<c.length;++g){var E=c[g];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function s(c,g){if(g)e:{var E=r;c=c.split(".");for(var D=0;D<c.length-1;D++){var q=c[D];if(!(q in E))break e;E=E[q]}c=c[c.length-1],D=E[c],g=g(D),g!=D&&g!=null&&e(E,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var E=0,D=!1,q={next:function(){if(!D&&E<c.length){var X=E++;return{value:g(X,c[X]),done:!1}}return D=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}s("Array.prototype.values",function(c){return c||function(){return a(this,function(g,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function p(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,E){return c.call.apply(c.bind,arguments)}function w(c,g,E){if(!c)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,D),c.apply(g,q)}}return function(){return c.apply(g,arguments)}}function C(c,g,E){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,C.apply(null,arguments)}function N(c,g){var E=Array.prototype.slice.call(arguments,1);return function(){var D=E.slice();return D.push.apply(D,arguments),c.apply(this,D)}}function A(c,g){function E(){}E.prototype=g.prototype,c.aa=g.prototype,c.prototype=new E,c.prototype.constructor=c,c.Qb=function(D,q,X){for(var de=Array(arguments.length-2),He=2;He<arguments.length;He++)de[He-2]=arguments[He];return g.prototype[q].apply(D,de)}}function L(c){const g=c.length;if(0<g){const E=Array(g);for(let D=0;D<g;D++)E[D]=c[D];return E}return[]}function O(c,g){for(let E=1;E<arguments.length;E++){const D=arguments[E];if(f(D)){const q=c.length||0,X=D.length||0;c.length=q+X;for(let de=0;de<X;de++)c[q+de]=D[de]}else c.push(D)}}class M{constructor(g,E){this.i=g,this.j=E,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function k(c){return/^[\s\xa0]*$/.test(c)}function V(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function $(c){return $[" "](c),c}$[" "]=function(){};var Q=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function J(c,g,E){for(const D in c)g.call(E,c[D],D,c)}function j(c,g){for(const E in c)g.call(void 0,c[E],E,c)}function b(c){const g={};for(const E in c)g[E]=c[E];return g}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,g){let E,D;for(let q=1;q<arguments.length;q++){D=arguments[q];for(E in D)c[E]=D[E];for(let X=0;X<T.length;X++)E=T[X],Object.prototype.hasOwnProperty.call(D,E)&&(c[E]=D[E])}}function I(c){var g=1;c=c.split(":");const E=[];for(;0<g&&c.length;)E.push(c.shift()),g--;return c.length&&E.push(c.join(":")),E}function P(c){h.setTimeout(()=>{throw c},0)}function R(){var c=te;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class ne{constructor(){this.h=this.g=null}add(g,E){const D=ie.get();D.set(g,E),this.h?this.h.next=D:this.g=D,this.h=D}}var ie=new M(()=>new se,c=>c.reset());class se{constructor(){this.next=this.g=this.h=null}set(g,E){this.h=g,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,H=!1,te=new ne,oe=()=>{const c=h.Promise.resolve(void 0);fe=()=>{c.then(G)}};var G=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(E){P(E)}var g=ie;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}H=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function we(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}we.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};h.addEventListener("test",E,g),h.removeEventListener("test",E,g)}catch{}return c}();function Ne(c,g){if(we.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var E=this.type=c.type,D=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(Q){e:{try{$(g.nodeName);var q=!0;break e}catch{}q=!1}q||(g=null)}}else E=="mouseover"?g=c.fromElement:E=="mouseout"&&(g=c.toElement);this.relatedTarget=g,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Oe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ne.aa.h.call(this)}}A(Ne,we);var Oe={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ze="closure_listenable_"+(1e6*Math.random()|0),$e=0;function Ke(c,g,E,D,q){this.listener=c,this.proxy=null,this.src=g,this.type=E,this.capture=!!D,this.ha=q,this.key=++$e,this.da=this.fa=!1}function St(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Cr(c){this.src=c,this.g={},this.h=0}Cr.prototype.add=function(c,g,E,D,q){var X=c.toString();c=this.g[X],c||(c=this.g[X]=[],this.h++);var de=ri(c,g,D,q);return-1<de?(g=c[de],E||(g.fa=!1)):(g=new Ke(g,this.src,X,!!D,q),g.fa=E,c.push(g)),g};function js(c,g){var E=g.type;if(E in c.g){var D=c.g[E],q=Array.prototype.indexOf.call(D,g,void 0),X;(X=0<=q)&&Array.prototype.splice.call(D,q,1),X&&(St(g),c.g[E].length==0&&(delete c.g[E],c.h--))}}function ri(c,g,E,D){for(var q=0;q<c.length;++q){var X=c[q];if(!X.da&&X.listener==g&&X.capture==!!E&&X.ha==D)return q}return-1}var Qi="closure_lm_"+(1e6*Math.random()|0),Fs={};function ua(c,g,E,D,q){if(Array.isArray(g)){for(var X=0;X<g.length;X++)ua(c,g[X],E,D,q);return null}return E=ha(E),c&&c[ze]?c.K(g,E,p(D)?!!D.capture:!1,q):ca(c,g,E,!1,D,q)}function ca(c,g,E,D,q,X){if(!g)throw Error("Invalid event type");var de=p(q)?!!q.capture:!!q,He=Us(c);if(He||(c[Qi]=He=new Cr(c)),E=He.add(g,E,D,de,X),E.proxy)return E;if(D=$l(),E.proxy=D,D.src=c,D.listener=E,c.addEventListener)Re||(q=de),q===void 0&&(q=!1),c.addEventListener(g.toString(),D,q);else if(c.attachEvent)c.attachEvent(Sr(g.toString()),D);else if(c.addListener&&c.removeListener)c.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return E}function $l(){function c(E){return g.call(c.src,c.listener,E)}const g=da;return c}function Bs(c,g,E,D,q){if(Array.isArray(g))for(var X=0;X<g.length;X++)Bs(c,g[X],E,D,q);else D=p(D)?!!D.capture:!!D,E=ha(E),c&&c[ze]?(c=c.i,g=String(g).toString(),g in c.g&&(X=c.g[g],E=ri(X,E,D,q),-1<E&&(St(X[E]),Array.prototype.splice.call(X,E,1),X.length==0&&(delete c.g[g],c.h--)))):c&&(c=Us(c))&&(g=c.g[g.toString()],c=-1,g&&(c=ri(g,E,D,q)),(E=-1<c?g[c]:null)&&Tr(E))}function Tr(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[ze])js(g.i,c);else{var E=c.type,D=c.proxy;g.removeEventListener?g.removeEventListener(E,D,c.capture):g.detachEvent?g.detachEvent(Sr(E),D):g.addListener&&g.removeListener&&g.removeListener(D),(E=Us(g))?(js(E,c),E.h==0&&(E.src=null,g[Qi]=null)):St(c)}}}function Sr(c){return c in Fs?Fs[c]:Fs[c]="on"+c}function da(c,g){if(c.da)c=!0;else{g=new Ne(g,this);var E=c.listener,D=c.ha||c.src;c.fa&&Tr(c),c=E.call(D,g)}return c}function Us(c){return c=c[Qi],c instanceof Cr?c:null}var zs="__closure_events_fn_"+(1e9*Math.random()>>>0);function ha(c){return typeof c=="function"?c:(c[zs]||(c[zs]=function(g){return c.handleEvent(g)}),c[zs])}function vt(){Z.call(this),this.i=new Cr(this),this.M=this,this.F=null}A(vt,Z),vt.prototype[ze]=!0,vt.prototype.removeEventListener=function(c,g,E,D){Bs(this,c,g,E,D)};function yt(c,g){var E,D=c.F;if(D)for(E=[];D;D=D.F)E.push(D);if(c=c.M,D=g.type||g,typeof g=="string")g=new we(g,c);else if(g instanceof we)g.target=g.target||c;else{var q=g;g=new we(D,c),x(g,q)}if(q=!0,E)for(var X=E.length-1;0<=X;X--){var de=g.g=E[X];q=Ar(de,D,!0,g)&&q}if(de=g.g=c,q=Ar(de,D,!0,g)&&q,q=Ar(de,D,!1,g)&&q,E)for(X=0;X<E.length;X++)de=g.g=E[X],q=Ar(de,D,!1,g)&&q}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var E=c.g[g],D=0;D<E.length;D++)St(E[D]);delete c.g[g],c.h--}}this.F=null},vt.prototype.K=function(c,g,E,D){return this.i.add(String(c),g,!1,E,D)},vt.prototype.L=function(c,g,E,D){return this.i.add(String(c),g,!0,E,D)};function Ar(c,g,E,D){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var q=!0,X=0;X<g.length;++X){var de=g[X];if(de&&!de.da&&de.capture==E){var He=de.listener,_t=de.ha||de.src;de.fa&&js(c.i,de),q=He.call(_t,D)!==!1&&q}}return q&&!D.defaultPrevented}function fa(c,g,E){if(typeof c=="function")E&&(c=C(c,E));else if(c&&typeof c.handleEvent=="function")c=C(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:h.setTimeout(c,g||0)}function ii(c){c.g=fa(()=>{c.g=null,c.i&&(c.i=!1,ii(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Yi extends Z{constructor(g,E){super(),this.m=g,this.l=E,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ii(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xi(c){Z.call(this),this.h=c,this.g={}}A(Xi,Z);var pa=[];function ma(c){J(c.g,function(g,E){this.g.hasOwnProperty(E)&&Tr(g)},c),c.g={}}Xi.prototype.N=function(){Xi.aa.N.call(this),ma(this)},Xi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ga=h.JSON.stringify,va=h.JSON.parse,ya=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Ji(){}Ji.prototype.h=null;function $s(c){return c.h||(c.h=c.i())}function Gs(){}var _n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Jn(){we.call(this,"d")}A(Jn,we);function Hs(){we.call(this,"c")}A(Hs,we);var Zn={},_a=null;function Zi(){return _a=_a||new vt}Zn.La="serverreachability";function wa(c){we.call(this,Zn.La,c)}A(wa,we);function Ir(c){const g=Zi();yt(g,new wa(g))}Zn.STAT_EVENT="statevent";function Ea(c,g){we.call(this,Zn.STAT_EVENT,c),this.stat=g}A(Ea,we);function at(c){const g=Zi();yt(g,new Ea(g,c))}Zn.Ma="timingevent";function qs(c,g){we.call(this,Zn.Ma,c),this.size=g}A(qs,we);function bn(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},g)}function es(){this.g=!0}es.prototype.xa=function(){this.g=!1};function ts(c,g,E,D,q,X){c.info(function(){if(c.g)if(X)for(var de="",He=X.split("&"),_t=0;_t<He.length;_t++){var je=He[_t].split("=");if(1<je.length){var At=je[0];je=je[1];var dt=At.split("_");de=2<=dt.length&&dt[1]=="type"?de+(At+"="+je+"&"):de+(At+"=redacted&")}}else de=null;else de=X;return"XMLHTTP REQ ("+D+") [attempt "+q+"]: "+g+`
`+E+`
`+de})}function Ws(c,g,E,D,q,X,de){c.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+q+"]: "+g+`
`+E+`
`+X+" "+de})}function Dn(c,g,E,D){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Ad(c,E)+(D?" "+D:"")})}function Ca(c,g){c.info(function(){return"TIMEOUT: "+g})}es.prototype.info=function(){};function Ad(c,g){if(!c.g)return g;if(!g)return null;try{var E=JSON.parse(g);if(E){for(c=0;c<E.length;c++)if(Array.isArray(E[c])){var D=E[c];if(!(2>D.length)){var q=D[1];if(Array.isArray(q)&&!(1>q.length)){var X=q[0];if(X!="noop"&&X!="stop"&&X!="close")for(var de=1;de<q.length;de++)q[de]=""}}}}return ga(E)}catch{return g}}var Ks={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Gl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mn;function ns(){}A(ns,Ji),ns.prototype.g=function(){return new XMLHttpRequest},ns.prototype.i=function(){return{}},Mn=new ns;function Vn(c,g,E,D){this.j=c,this.i=g,this.l=E,this.R=D||1,this.U=new Xi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Hl}function Hl(){this.i=null,this.g="",this.h=!1}var Ta={},Qs={};function Ys(c,g,E){c.L=1,c.v=ui(dn(g)),c.m=E,c.P=!0,Sa(c,null)}function Sa(c,g){c.F=Date.now(),Qe(c),c.A=dn(c.v);var E=c.A,D=c.R;Array.isArray(D)||(D=[String(D)]),di(E.i,"t",D),c.C=0,E=c.j.J,c.h=new Hl,c.g=uu(c.j,E?g:null,!c.m),0<c.O&&(c.M=new Yi(C(c.Y,c,c.g),c.O)),g=c.U,E=c.g,D=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(pa[0]=q.toString()),q=pa);for(var X=0;X<q.length;X++){var de=ua(E,q[X],D||g.handleEvent,!1,g.h||g);if(!de)break;g.g[de.key]=de}g=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Ir(),ts(c.i,c.u,c.A,c.l,c.R,c.m)}Vn.prototype.ca=function(c){c=c.target;const g=this.M;g&&en(c)==3?g.j():this.Y(c)},Vn.prototype.Y=function(c){try{if(c==this.g)e:{const dt=en(this.g);var g=this.g.Ba();const Cn=this.g.Z();if(!(3>dt)&&(dt!=3||this.g&&(this.h.h||this.g.oa()||ka(this.g)))){this.J||dt!=4||g==7||(g==8||0>=Cn?Ir(3):Ir(2)),rs(this);var E=this.g.Z();this.X=E;t:if(ql(this)){var D=ka(this.g);c="";var q=D.length,X=en(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wn(this),si(this);var de="";break t}this.h.i=new h.TextDecoder}for(g=0;g<q;g++)this.h.h=!0,c+=this.h.i.decode(D[g],{stream:!(X&&g==q-1)});D.length=0,this.h.g+=c,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=E==200,Ws(this.i,this.u,this.A,this.l,this.R,dt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var He,_t=this.g;if((He=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(He)){var je=He;break t}}je=null}if(E=je)Dn(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Aa(this,E);else{this.o=!1,this.s=3,at(12),wn(this),si(this);break e}}if(this.P){E=!0;let fn;for(;!this.J&&this.C<de.length;)if(fn=Id(this,de),fn==Qs){dt==4&&(this.s=4,at(14),E=!1),Dn(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==Ta){this.s=4,at(15),Dn(this.i,this.l,de,"[Invalid Chunk]"),E=!1;break}else Dn(this.i,this.l,fn,null),Aa(this,fn);if(ql(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dt!=4||de.length!=0||this.h.h||(this.s=1,at(16),E=!1),this.o=this.o&&E,!E)Dn(this.i,this.l,de,"[Invalid Chunked Response]"),wn(this),si(this);else if(0<de.length&&!this.W){this.W=!0;var At=this.j;At.g==this&&At.ba&&!At.M&&(At.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),ba(At),At.M=!0,at(11))}}else Dn(this.i,this.l,de,null),Aa(this,de);dt==4&&wn(this),this.o&&!this.J&&(dt==4?ao(this.j,this):(this.o=!1,Qe(this)))}else no(this.g),E==400&&0<de.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),wn(this),si(this)}}}catch{}finally{}};function ql(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Id(c,g){var E=c.C,D=g.indexOf(`
`,E);return D==-1?Qs:(E=Number(g.substring(E,D)),isNaN(E)?Ta:(D+=1,D+E>g.length?Qs:(g=g.slice(D,D+E),c.C=D+E,g)))}Vn.prototype.cancel=function(){this.J=!0,wn(this)};function Qe(c){c.S=Date.now()+c.I,Wl(c,c.I)}function Wl(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=bn(C(c.ba,c),g)}function rs(c){c.B&&(h.clearTimeout(c.B),c.B=null)}Vn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ca(this.i,this.A),this.L!=2&&(Ir(),at(17)),wn(this),this.s=2,si(this)):Wl(this,this.S-c)};function si(c){c.j.G==0||c.J||ao(c.j,c)}function wn(c){rs(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,ma(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Aa(c,g){try{var E=c.j;if(E.G!=0&&(E.g==c||Wt(E.h,c))){if(!c.K&&Wt(E.h,c)&&E.G==3){try{var D=E.Da.g.parse(g)}catch{D=null}if(Array.isArray(D)&&D.length==3){var q=D;if(q[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<c.F)oo(E),Bn(E);else break e;so(E),at(18)}}else E.za=q[1],0<E.za-E.T&&37500>q[2]&&E.F&&E.v==0&&!E.C&&(E.C=bn(C(E.Za,E),6e3));if(1>=Ql(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Nr(E,11)}else if((c.K||E.g==c)&&oo(E),!k(g))for(q=E.Da.g.parse(g),g=0;g<q.length;g++){let je=q[g];if(E.T=je[0],je=je[1],E.G==2)if(je[0]=="c"){E.K=je[1],E.ia=je[2];const At=je[3];At!=null&&(E.la=At,E.j.info("VER="+E.la));const dt=je[4];dt!=null&&(E.Aa=dt,E.j.info("SVER="+E.Aa));const Cn=je[5];Cn!=null&&typeof Cn=="number"&&0<Cn&&(D=1.5*Cn,E.L=D,E.j.info("backChannelRequestTimeoutMs_="+D)),D=E;const fn=c.g;if(fn){const cs=fn.g?fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cs){var X=D.h;X.g||cs.indexOf("spdy")==-1&&cs.indexOf("quic")==-1&&cs.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Ia(X,X.h),X.h=null))}if(D.D){const uo=fn.g?fn.g.getResponseHeader("X-HTTP-Session-Id"):null;uo&&(D.ya=uo,We(D.I,D.D,uo))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-c.F,E.j.info("Handshake RTT: "+E.R+"ms")),D=E;var de=c;if(D.qa=lu(D,D.J?D.ia:null,D.W),de.K){Yl(D.h,de);var He=de,_t=D.L;_t&&(He.I=_t),He.B&&(rs(He),Qe(He)),D.g=de}else us(D);0<E.i.length&&rr(E)}else je[0]!="stop"&&je[0]!="close"||Nr(E,7);else E.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?Nr(E,7):Dt(E):je[0]!="noop"&&E.l&&E.l.ta(je),E.v=0)}}Ir(4)}catch{}}var Kl=class{constructor(c,g){this.g=c,this.map=g}};function is(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ql(c){return c.h?1:c.g?c.g.size:0}function Wt(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Ia(c,g){c.g?c.g.add(g):c.h=g}function Yl(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}is.prototype.cancel=function(){if(this.i=Xl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Xl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const E of c.g.values())g=g.concat(E.D);return g}return L(c.i)}function Xs(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],E=c.length,D=0;D<E;D++)g.push(c[D]);return g}g=[],E=0;for(D in c)g[E++]=c[D];return g}function Js(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var E=0;E<c;E++)g.push(E);return g}g=[],E=0;for(const D in c)g[E++]=D;return g}}}function oi(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var E=Js(c),D=Xs(c),q=D.length,X=0;X<q;X++)g.call(void 0,D[X],E&&E[X],c)}var ss=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xd(c,g){if(c){c=c.split("&");for(var E=0;E<c.length;E++){var D=c[E].indexOf("="),q=null;if(0<=D){var X=c[E].substring(0,D);q=c[E].substring(D+1)}else X=c[E];g(X,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function xr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof xr){this.h=c.h,os(this,c.j),this.o=c.o,this.g=c.g,ai(this,c.s),this.l=c.l;var g=c.i,E=new er;E.i=g.i,g.g&&(E.g=new Map(g.g),E.h=g.h),li(this,E),this.m=c.m}else c&&(g=String(c).match(ss))?(this.h=!1,os(this,g[1]||"",!0),this.o=Ve(g[2]||""),this.g=Ve(g[3]||"",!0),ai(this,g[4]),this.l=Ve(g[5]||"",!0),li(this,g[6]||"",!0),this.m=Ve(g[7]||"")):(this.h=!1,this.i=new er(null,this.h))}xr.prototype.toString=function(){var c=[],g=this.j;g&&c.push(ci(g,Zs,!0),":");var E=this.g;return(E||g=="file")&&(c.push("//"),(g=this.o)&&c.push(ci(g,Zs,!0),"@"),c.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&c.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(ci(E,E.charAt(0)=="/"?eu:Zl,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",ci(E,xa)),c.join("")};function dn(c){return new xr(c)}function os(c,g,E){c.j=E?Ve(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function ai(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function li(c,g,E){g instanceof er?(c.i=g,tr(c.i,c.h)):(E||(g=ci(g,tu)),c.i=new er(g,c.h))}function We(c,g,E){c.i.set(g,E)}function ui(c){return We(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ve(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ci(c,g,E){return typeof c=="string"?(c=encodeURI(c).replace(g,Jl),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Jl(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Zs=/[#\/\?@]/g,Zl=/[#\?:]/g,eu=/[#\?]/g,tu=/[#\?@]/g,xa=/#/g;function er(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function bt(c){c.g||(c.g=new Map,c.h=0,c.i&&xd(c.i,function(g,E){c.add(decodeURIComponent(g.replace(/\+/g," ")),E)}))}n=er.prototype,n.add=function(c,g){bt(this),this.i=null,c=En(this,c);var E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(g),this.h+=1,this};function Ln(c,g){bt(c),g=En(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function On(c,g){return bt(c),g=En(c,g),c.g.has(g)}n.forEach=function(c,g){bt(this),this.g.forEach(function(E,D){E.forEach(function(q){c.call(g,q,D,this)},this)},this)},n.na=function(){bt(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),E=[];for(let D=0;D<g.length;D++){const q=c[D];for(let X=0;X<q.length;X++)E.push(g[D])}return E},n.V=function(c){bt(this);let g=[];if(typeof c=="string")On(this,c)&&(g=g.concat(this.g.get(En(this,c))));else{c=Array.from(this.g.values());for(let E=0;E<c.length;E++)g=g.concat(c[E])}return g},n.set=function(c,g){return bt(this),this.i=null,c=En(this,c),On(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function di(c,g,E){Ln(c,g),0<E.length&&(c.i=null,c.g.set(En(c,g),L(E)),c.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var E=0;E<g.length;E++){var D=g[E];const X=encodeURIComponent(String(D)),de=this.V(D);for(D=0;D<de.length;D++){var q=X;de[D]!==""&&(q+="="+encodeURIComponent(String(de[D]))),c.push(q)}}return this.i=c.join("&")};function En(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function tr(c,g){g&&!c.j&&(bt(c),c.i=null,c.g.forEach(function(E,D){var q=D.toLowerCase();D!=q&&(Ln(this,D),di(this,q,E))},c)),c.j=g}function Pd(c,g){const E=new es;if(h.Image){const D=new Image;D.onload=N(Zt,E,"TestLoadImage: loaded",!0,g,D),D.onerror=N(Zt,E,"TestLoadImage: error",!1,g,D),D.onabort=N(Zt,E,"TestLoadImage: abort",!1,g,D),D.ontimeout=N(Zt,E,"TestLoadImage: timeout",!1,g,D),h.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=c}else g(!1)}function nu(c,g){const E=new es,D=new AbortController,q=setTimeout(()=>{D.abort(),Zt(E,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:D.signal}).then(X=>{clearTimeout(q),X.ok?Zt(E,"TestPingServer: ok",!0,g):Zt(E,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(q),Zt(E,"TestPingServer: error",!1,g)})}function Zt(c,g,E,D,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),D(E)}catch{}}function Rd(){this.g=new ya}function ru(c,g,E){const D=E||"";try{oi(c,function(q,X){let de=q;p(q)&&(de=ga(q)),g.push(D+X+"="+encodeURIComponent(de))})}catch(q){throw g.push(D+"type="+encodeURIComponent("_badmap")),q}}function Pr(c){this.l=c.Ub||null,this.j=c.eb||!1}A(Pr,Ji),Pr.prototype.g=function(){return new as(this.l,this.j)},Pr.prototype.i=function(c){return function(){return c}}({});function as(c,g){vt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(as,vt),n=as.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Fn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||h).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;iu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function iu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?jn(this):Fn(this),this.readyState==3&&iu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,jn(this))},n.Qa=function(c){this.g&&(this.response=c,jn(this))},n.ga=function(){this.g&&jn(this)};function jn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Fn(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var E=g.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=g.next();return c.join(`\r
`)};function Fn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(as.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Rr(c){let g="";return J(c,function(E,D){g+=D,g+=":",g+=E,g+=`\r
`}),g}function hi(c,g,E){e:{for(D in E){var D=!1;break e}D=!0}D||(E=Rr(E),typeof c=="string"?E!=null&&encodeURIComponent(String(E)):We(c,g,E))}function et(c){vt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(et,vt);var kd=/^https?$/i,Pa=["POST","PUT"];n=et.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,E,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mn.g(),this.v=this.o?$s(this.o):$s(Mn),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(X){ls(this,X);return}if(c=E||"",E=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var q in D)E.set(q,D[q]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const X of D.keys())E.set(X,D.get(X));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(E.keys()).find(X=>X.toLowerCase()=="content-type"),q=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Pa,g,void 0))||D||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,de]of E)this.g.setRequestHeader(X,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{to(this),this.u=!0,this.g.send(c),this.u=!1}catch(X){ls(this,X)}};function ls(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,eo(c),hn(c)}function eo(c){c.A||(c.A=!0,yt(c,"complete"),yt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,yt(this,"complete"),yt(this,"abort"),hn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hn(this,!0)),et.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ra(this):this.bb())},n.bb=function(){Ra(this)};function Ra(c){if(c.h&&typeof u<"u"&&(!c.v[1]||en(c)!=4||c.Z()!=2)){if(c.u&&en(c)==4)fa(c.Ea,0,c);else if(yt(c,"readystatechange"),en(c)==4){c.h=!1;try{const de=c.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var E;if(!(E=g)){var D;if(D=de===0){var q=String(c.D).match(ss)[1]||null;!q&&h.self&&h.self.location&&(q=h.self.location.protocol.slice(0,-1)),D=!kd.test(q?q.toLowerCase():"")}E=D}if(E)yt(c,"complete"),yt(c,"success");else{c.m=6;try{var X=2<en(c)?c.g.statusText:""}catch{X=""}c.l=X+" ["+c.Z()+"]",eo(c)}}finally{hn(c)}}}}function hn(c,g){if(c.g){to(c);const E=c.g,D=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||yt(c,"ready");try{E.onreadystatechange=D}catch{}}}function to(c){c.I&&(h.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function en(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<en(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),va(g)}};function ka(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function no(c){const g={};c=(c.g&&2<=en(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<c.length;D++){if(k(c[D]))continue;var E=I(c[D]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const X=g[q]||[];g[q]=X,X.push(E)}j(g,function(D){return D.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function nr(c,g,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||g}function Na(c){this.Aa=0,this.i=[],this.j=new es,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=nr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=nr("baseRetryDelayMs",5e3,c),this.cb=nr("retryDelaySeedMs",1e4,c),this.Wa=nr("forwardChannelMaxRetries",2,c),this.wa=nr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new is(c&&c.concurrentRequestLimit),this.Da=new Rd,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Na.prototype,n.la=8,n.G=1,n.connect=function(c,g,E,D){at(0),this.W=c,this.H=g||{},E&&D!==void 0&&(this.H.OSID=E,this.H.OAID=D),this.F=this.X,this.I=lu(this,null,this.W),rr(this)};function Dt(c){if(ro(c),c.G==3){var g=c.U++,E=dn(c.I);if(We(E,"SID",c.K),We(E,"RID",g),We(E,"TYPE","terminate"),kr(c,E),g=new Vn(c,c.j,g),g.L=2,g.v=ui(dn(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(g.v.toString(),"")}catch{}!E&&h.Image&&(new Image().src=g.v,E=!0),E||(g.g=uu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Qe(g)}au(c)}function Bn(c){c.g&&(ba(c),c.g.cancel(),c.g=null)}function ro(c){Bn(c),c.u&&(h.clearTimeout(c.u),c.u=null),oo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function rr(c){if(!cn(c.h)&&!c.s){c.s=!0;var g=c.Ga;fe||oe(),H||(fe(),H=!0),te.add(g,c),c.B=0}}function Nd(c,g){return Ql(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=bn(C(c.Ga,c,g),ou(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new Vn(this,this.j,c);let X=this.o;if(this.S&&(X?(X=b(X),x(X,this.S)):X=this.S),this.m!==null||this.O||(q.H=X,X=null),this.P)e:{for(var g=0,E=0;E<this.i.length;E++){t:{var D=this.i[E];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(g+=D,4096<g){g=E;break e}if(g===4096||E===this.i.length-1){g=E+1;break e}}g=1e3}else g=1e3;g=fi(this,q,g),E=dn(this.I),We(E,"RID",c),We(E,"CVER",22),this.D&&We(E,"X-HTTP-Session-Id",this.D),kr(this,E),X&&(this.O?g="headers="+encodeURIComponent(String(Rr(X)))+"&"+g:this.m&&hi(E,this.m,X)),Ia(this.h,q),this.Ua&&We(E,"TYPE","init"),this.P?(We(E,"$req",g),We(E,"SID","null"),q.T=!0,Ys(q,E,null)):Ys(q,E,g),this.G=2}}else this.G==3&&(c?io(this,c):this.i.length==0||cn(this.h)||io(this))};function io(c,g){var E;g?E=g.l:E=c.U++;const D=dn(c.I);We(D,"SID",c.K),We(D,"RID",E),We(D,"AID",c.T),kr(c,D),c.m&&c.o&&hi(D,c.m,c.o),E=new Vn(c,c.j,E,c.B+1),c.m===null&&(E.H=c.o),g&&(c.i=g.D.concat(c.i)),g=fi(c,E,1e3),E.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ia(c.h,E),Ys(E,D,g)}function kr(c,g){c.H&&J(c.H,function(E,D){We(g,D,E)}),c.l&&oi({},function(E,D){We(g,D,E)})}function fi(c,g,E){E=Math.min(c.i.length,E);var D=c.l?C(c.l.Na,c.l,c):null;e:{var q=c.i;let X=-1;for(;;){const de=["count="+E];X==-1?0<E?(X=q[0].g,de.push("ofs="+X)):X=0:de.push("ofs="+X);let He=!0;for(let _t=0;_t<E;_t++){let je=q[_t].g;const At=q[_t].map;if(je-=X,0>je)X=Math.max(0,q[_t].g-100),He=!1;else try{ru(At,de,"req"+je+"_")}catch{D&&D(At)}}if(He){D=de.join("&");break e}}}return c=c.i.splice(0,E),g.D=c,D}function us(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;fe||oe(),H||(fe(),H=!0),te.add(g,c),c.v=0}}function so(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=bn(C(c.Fa,c),ou(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,su(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=bn(C(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),Bn(this),su(this))};function ba(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function su(c){c.g=new Vn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=dn(c.qa);We(g,"RID","rpc"),We(g,"SID",c.K),We(g,"AID",c.T),We(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&We(g,"TO",c.ja),We(g,"TYPE","xmlhttp"),kr(c,g),c.m&&c.o&&hi(g,c.m,c.o),c.L&&(c.g.I=c.L);var E=c.g;c=c.ia,E.L=1,E.v=ui(dn(g)),E.m=null,E.P=!0,Sa(E,c)}n.Za=function(){this.C!=null&&(this.C=null,Bn(this),so(this),at(19))};function oo(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function ao(c,g){var E=null;if(c.g==g){oo(c),ba(c),c.g=null;var D=2}else if(Wt(c.h,g))E=g.D,Yl(c.h,g),D=1;else return;if(c.G!=0){if(g.o)if(D==1){E=g.m?g.m.length:0,g=Date.now()-g.F;var q=c.B;D=Zi(),yt(D,new qs(D,E)),rr(c)}else us(c);else if(q=g.s,q==3||q==0&&0<g.X||!(D==1&&Nd(c,g)||D==2&&so(c)))switch(E&&0<E.length&&(g=c.h,g.i=g.i.concat(E)),q){case 1:Nr(c,5);break;case 4:Nr(c,10);break;case 3:Nr(c,6);break;default:Nr(c,2)}}}function ou(c,g){let E=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(E*=2),E*g}function Nr(c,g){if(c.j.info("Error code "+g),g==2){var E=C(c.fb,c),D=c.Xa;const q=!D;D=new xr(D||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||os(D,"https"),ui(D),q?Pd(D.toString(),E):nu(D.toString(),E)}else at(2);c.G=0,c.l&&c.l.sa(g),au(c),ro(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function au(c){if(c.G=0,c.ka=[],c.l){const g=Xl(c.h);(g.length!=0||c.i.length!=0)&&(O(c.ka,g),O(c.ka,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.ra()}}function lu(c,g,E){var D=E instanceof xr?dn(E):new xr(E);if(D.g!="")g&&(D.g=g+"."+D.g),ai(D,D.s);else{var q=h.location;D=q.protocol,g=g?g+"."+q.hostname:q.hostname,q=+q.port;var X=new xr(null);D&&os(X,D),g&&(X.g=g),q&&ai(X,q),E&&(X.l=E),D=X}return E=c.D,g=c.ya,E&&g&&We(D,E,g),We(D,"VER",c.la),kr(c,D),D}function uu(c,g,E){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new et(new Pr({eb:E})):new et(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Da(){}n=Da.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function lo(){}lo.prototype.g=function(c,g){return new Kt(c,g)};function Kt(c,g){vt.call(this),this.g=new Na(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!k(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!k(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new ir(this)}A(Kt,vt),Kt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Kt.prototype.close=function(){Dt(this.g)},Kt.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.u&&(E={},E.__data__=ga(c),c=E);g.i.push(new Kl(g.Ya++,c)),g.G==3&&rr(g)},Kt.prototype.N=function(){this.g.l=null,delete this.j,Dt(this.g),delete this.g,Kt.aa.N.call(this)};function cu(c){Jn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const E in g){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}A(cu,Jn);function du(){Hs.call(this),this.status=1}A(du,Hs);function ir(c){this.g=c}A(ir,Da),ir.prototype.ua=function(){yt(this.g,"a")},ir.prototype.ta=function(c){yt(this.g,new cu(c))},ir.prototype.sa=function(c){yt(this.g,new du)},ir.prototype.ra=function(){yt(this.g,"b")},lo.prototype.createWebChannel=lo.prototype.g,Kt.prototype.send=Kt.prototype.o,Kt.prototype.open=Kt.prototype.m,Kt.prototype.close=Kt.prototype.close,kw=function(){return new lo},Rw=function(){return Zi()},Pw=Zn,Mf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ks.NO_ERROR=0,Ks.TIMEOUT=8,Ks.HTTP_ERROR=6,wc=Ks,Gl.COMPLETE="complete",xw=Gl,Gs.EventType=_n,_n.OPEN="a",_n.CLOSE="b",_n.ERROR="c",_n.MESSAGE="d",vt.prototype.listen=vt.prototype.K,ul=Gs,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,Iw=et}).apply(typeof ac<"u"?ac:typeof self<"u"?self:typeof window<"u"?window:{});const ly="@firebase/firestore",uy="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ia="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=new up("@firebase/firestore");function No(){return Rs.logLevel}function me(n,...e){if(Rs.logLevel<=De.DEBUG){const t=e.map(Ep);Rs.debug(`Firestore (${ia}): ${n}`,...t)}}function Xr(n,...e){if(Rs.logLevel<=De.ERROR){const t=e.map(Ep);Rs.error(`Firestore (${ia}): ${n}`,...t)}}function Go(n,...e){if(Rs.logLevel<=De.WARN){const t=e.map(Ep);Rs.warn(`Firestore (${ia}): ${n}`,...t)}}function Ep(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Nw(n,r,t)}function Nw(n,e,t){let r=`FIRESTORE (${ia}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Xr(r),new Error(r)}function Ge(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||Nw(e,s,r)}function Pe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Zr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class p1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Gt.UNAUTHENTICATED))}shutdown(){}}class m1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class g1{constructor(e){this.t=e,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ge(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Hr,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},h=f=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Hr)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ge(typeof r.accessToken=="string",31837,{l:r}),new bw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Gt(e)}}class v1{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class y1{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new v1(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _1{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ge(this.o===void 0,3512);const r=a=>{a.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,me("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new cy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ge(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new cy(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=w1(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%62))}return r}}function ke(n,e){return n<e?-1:n>e?1:0}function Vf(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),s=e.codePointAt(t);if(r!==s){if(r<128&&s<128)return ke(r,s);{const a=Dw(),u=E1(a.encode(dy(n,t)),a.encode(dy(e,t)));return u!==0?u:ke(r,s)}}t+=r>65535?2:1}return ke(n.length,e.length)}function dy(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function E1(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ke(n[t],e[t]);return ke(n.length,e.length)}function Ho(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy=-62135596800,fy=1e6;class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*fy);return new Ct(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<hy)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fy}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-hy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new Ct(0,0))}static max(){return new xe(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py="__name__";class cr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ae(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ae(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return cr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof cr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=cr.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return ke(e.length,t.length)}static compareSegments(e,t){const r=cr.isNumericId(e),s=cr.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?cr.extractNumericId(e).compare(cr.extractNumericId(t)):Vf(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ji.fromString(e.substring(4,e.length-2))}}class Xe extends cr{construct(e,t,r){return new Xe(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new he(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Xe(t)}static emptyPath(){return new Xe([])}}const C1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ot extends cr{construct(e,t,r){return new Ot(e,t,r)}static isValidIdentifier(e){return C1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===py}static keyField(){return new Ot([py])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new he(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new he(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(r+=h,s++):(a(),s++)}if(a(),u)throw new he(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ot(t)}static emptyPath(){return new Ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(Xe.fromString(e))}static fromName(e){return new Ee(Xe.fromString(e).popFirst(5))}static empty(){return new Ee(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Xe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new Xe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl=-1;function T1(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=xe.fromTimestamp(r===1e9?new Ct(t+1,0):new Ct(t,r));return new Bi(s,Ee.empty(),e)}function S1(n){return new Bi(n.readTime,n.key,Cl)}class Bi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Bi(xe.min(),Ee.empty(),Cl)}static max(){return new Bi(xe.max(),Ee.empty(),Cl)}}function A1(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(n.documentKey,e.documentKey),t!==0?t:ke(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class x1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sa(n){if(n.code!==ee.FAILED_PRECONDITION||n.message!==I1)throw n;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):re.reject(t)}static resolve(e){return new re((t,r)=>{t(e)})}static reject(e){return new re((t,r)=>{r(e)})}static waitFor(e){return new re((t,r)=>{let s=0,a=0,u=!1;e.forEach(h=>{++s,h.next(()=>{++a,u&&a===s&&t()},f=>r(f))}),u=!0,a===s&&t()})}static or(e){let t=re.resolve(!1);for(const r of e)t=t.next(s=>s?re.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,a)=>{r.push(t.call(this,s,a))}),this.waitFor(r)}static mapArray(e,t){return new re((r,s)=>{const a=e.length,u=new Array(a);let h=0;for(let f=0;f<a;f++){const p=f;t(e[p]).next(v=>{u[p]=v,++h,h===a&&r(u)},v=>s(v))}})}static doWhile(e,t){return new re((r,s)=>{const a=()=>{e()===!0?t().next(()=>{a()},s):r()};a()})}}function P1(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function oa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}id.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp=-1;function sd(n){return n==null}function Lc(n){return n===0&&1/n==-1/0}function R1(n){return typeof n=="number"&&Number.isInteger(n)&&!Lc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="";function k1(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=my(e)),e=N1(n.get(t),e);return my(e)}function N1(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case Vw:t+="";break;default:t+=a}}return t}function my(n){return n+Vw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Wi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Lw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,t){this.comparator=e,this.root=t||Lt.EMPTY}insert(e,t){return new st(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lc(this.root,e,this.comparator,!1)}getReverseIterator(){return new lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lc(this.root,e,this.comparator,!0)}}class lc{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??Lt.RED,this.left=s??Lt.EMPTY,this.right=a??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new Lt(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Lt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,t,r,s,a){return this}insert(e,t,r){return new Lt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new vy(this.data.getIterator())}getIteratorFrom(e){return new vy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Tt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Tt(this.comparator);return t.data=e,t}}class vy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new yn([])}unionWith(e){let t=new Tt(Ot.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new yn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ho(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Ow("Invalid base64 string: "+a):a}}(e);return new jt(t)}static fromUint8Array(e){const t=function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a}(e);return new jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const b1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ui(n){if(Ge(!!n,39018),typeof n=="string"){let e=0;const t=b1.exec(n);if(Ge(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ut(n.seconds),nanos:ut(n.nanos)}}function ut(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function zi(n){return typeof n=="string"?jt.fromBase64String(n):jt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="server_timestamp",Fw="__type__",Bw="__previous_value__",Uw="__local_write_time__";function od(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Fw])===null||t===void 0?void 0:t.stringValue)===jw}function ad(n){const e=n.mapValue.fields[Bw];return od(e)?ad(e):e}function Tl(n){const e=Ui(n.mapValue.fields[Uw].timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,t,r,s,a,u,h,f,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p}}const Oc="(default)";class Sl{constructor(e,t){this.projectId=e,this.database=t||Oc}static empty(){return new Sl("","")}get isDefaultDatabase(){return this.database===Oc}isEqual(e){return e instanceof Sl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="__type__",M1="__max__",uc={mapValue:{}},$w="__vector__",jc="value";function $i(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?od(n)?4:L1(n)?9007199254740991:V1(n)?10:11:Ae(28295,{value:n})}function _r(n,e){if(n===e)return!0;const t=$i(n);if(t!==$i(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Tl(n).isEqual(Tl(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=Ui(s.timestampValue),h=Ui(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,a){return zi(s.bytesValue).isEqual(zi(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return ut(s.geoPointValue.latitude)===ut(a.geoPointValue.latitude)&&ut(s.geoPointValue.longitude)===ut(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return ut(s.integerValue)===ut(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=ut(s.doubleValue),h=ut(a.doubleValue);return u===h?Lc(u)===Lc(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return Ho(n.arrayValue.values||[],e.arrayValue.values||[],_r);case 10:case 11:return function(s,a){const u=s.mapValue.fields||{},h=a.mapValue.fields||{};if(gy(u)!==gy(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!_r(u[f],h[f])))return!1;return!0}(n,e);default:return Ae(52216,{left:n})}}function Al(n,e){return(n.values||[]).find(t=>_r(t,e))!==void 0}function qo(n,e){if(n===e)return 0;const t=$i(n),r=$i(e);if(t!==r)return ke(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(n.booleanValue,e.booleanValue);case 2:return function(a,u){const h=ut(a.integerValue||a.doubleValue),f=ut(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,e);case 3:return yy(n.timestampValue,e.timestampValue);case 4:return yy(Tl(n),Tl(e));case 5:return Vf(n.stringValue,e.stringValue);case 6:return function(a,u){const h=zi(a),f=zi(u);return h.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const h=a.split("/"),f=u.split("/");for(let p=0;p<h.length&&p<f.length;p++){const v=ke(h[p],f[p]);if(v!==0)return v}return ke(h.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const h=ke(ut(a.latitude),ut(u.latitude));return h!==0?h:ke(ut(a.longitude),ut(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return _y(n.arrayValue,e.arrayValue);case 10:return function(a,u){var h,f,p,v;const w=a.fields||{},C=u.fields||{},N=(h=w[jc])===null||h===void 0?void 0:h.arrayValue,A=(f=C[jc])===null||f===void 0?void 0:f.arrayValue,L=ke(((p=N==null?void 0:N.values)===null||p===void 0?void 0:p.length)||0,((v=A==null?void 0:A.values)===null||v===void 0?void 0:v.length)||0);return L!==0?L:_y(N,A)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===uc.mapValue&&u===uc.mapValue)return 0;if(a===uc.mapValue)return 1;if(u===uc.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),p=u.fields||{},v=Object.keys(p);f.sort(),v.sort();for(let w=0;w<f.length&&w<v.length;++w){const C=Vf(f[w],v[w]);if(C!==0)return C;const N=qo(h[f[w]],p[v[w]]);if(N!==0)return N}return ke(f.length,v.length)}(n.mapValue,e.mapValue);default:throw Ae(23264,{Pe:t})}}function yy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ke(n,e);const t=Ui(n),r=Ui(e),s=ke(t.seconds,r.seconds);return s!==0?s:ke(t.nanos,r.nanos)}function _y(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=qo(t[s],r[s]);if(a)return a}return ke(t.length,r.length)}function Wo(n){return Lf(n)}function Lf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ui(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return zi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ee.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=Lf(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${Lf(t.fields[u])}`;return s+"}"}(n.mapValue):Ae(61005,{value:n})}function Ec(n){switch($i(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ad(n);return e?16+Ec(e):16;case 5:return 2*n.stringValue.length;case 6:return zi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+Ec(a),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return Wi(r.fields,(a,u)=>{s+=a.length+Ec(u)}),s}(n.mapValue);default:throw Ae(13486,{value:n})}}function Fc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Of(n){return!!n&&"integerValue"in n}function Tp(n){return!!n&&"arrayValue"in n}function wy(n){return!!n&&"nullValue"in n}function Ey(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Cc(n){return!!n&&"mapValue"in n}function V1(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[zw])===null||t===void 0?void 0:t.stringValue)===$w}function pl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Wi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=pl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=pl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function L1(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===M1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Cc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=pl(t)}setAll(e){let t=Ot.emptyPath(),r={},s=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=h.popLast()}u?r[h.lastSegment()]=pl(u):s.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());Cc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _r(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Cc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Wi(t,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new un(pl(this.value))}}function Gw(n){const e=[];return Wi(n.fields,(t,r)=>{const s=new Ot([t]);if(Cc(r)){const a=Gw(r.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)}),new yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,t,r,s,a,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Ht(e,0,xe.min(),xe.min(),xe.min(),un.empty(),0)}static newFoundDocument(e,t,r,s){return new Ht(e,1,t,xe.min(),r,s,0)}static newNoDocument(e,t){return new Ht(e,2,t,xe.min(),xe.min(),un.empty(),0)}static newUnknownDocument(e,t){return new Ht(e,3,t,xe.min(),xe.min(),un.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,t){this.position=e,this.inclusive=t}}function Cy(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],u=n.position[s];if(a.field.isKeyField()?r=Ee.comparator(Ee.fromName(u.referenceValue),t.key):r=qo(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ty(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!_r(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,t="asc"){this.field=e,this.dir=t}}function O1(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{}class mt extends Hw{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new F1(e,t,r):t==="array-contains"?new z1(e,r):t==="in"?new $1(e,r):t==="not-in"?new G1(e,r):t==="array-contains-any"?new H1(e,r):new mt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new B1(e,r):new U1(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(qo(t,this.value)):t!==null&&$i(this.value)===$i(t)&&this.matchesComparison(qo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qn extends Hw{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Qn(e,t)}matches(e){return qw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function qw(n){return n.op==="and"}function Ww(n){return j1(n)&&qw(n)}function j1(n){for(const e of n.filters)if(e instanceof Qn)return!1;return!0}function jf(n){if(n instanceof mt)return n.field.canonicalString()+n.op.toString()+Wo(n.value);if(Ww(n))return n.filters.map(e=>jf(e)).join(",");{const e=n.filters.map(t=>jf(t)).join(",");return`${n.op}(${e})`}}function Kw(n,e){return n instanceof mt?function(r,s){return s instanceof mt&&r.op===s.op&&r.field.isEqual(s.field)&&_r(r.value,s.value)}(n,e):n instanceof Qn?function(r,s){return s instanceof Qn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,u,h)=>a&&Kw(u,s.filters[h]),!0):!1}(n,e):void Ae(19439)}function Qw(n){return n instanceof mt?function(t){return`${t.field.canonicalString()} ${t.op} ${Wo(t.value)}`}(n):n instanceof Qn?function(t){return t.op.toString()+" {"+t.getFilters().map(Qw).join(" ,")+"}"}(n):"Filter"}class F1 extends mt{constructor(e,t,r){super(e,t,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class B1 extends mt{constructor(e,t){super(e,"in",t),this.keys=Yw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class U1 extends mt{constructor(e,t){super(e,"not-in",t),this.keys=Yw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Yw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ee.fromName(r.referenceValue))}class z1 extends mt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Tp(t)&&Al(t.arrayValue,this.value)}}class $1 extends mt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Al(this.value.arrayValue,t)}}class G1 extends mt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Al(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Al(this.value.arrayValue,t)}}class H1 extends mt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Tp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Al(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,t=null,r=[],s=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=u,this.endAt=h,this.Ie=null}}function Sy(n,e=null,t=[],r=[],s=null,a=null,u=null){return new q1(n,e,t,r,s,a,u)}function Sp(n){const e=Pe(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>jf(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),sd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Wo(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Wo(r)).join(",")),e.Ie=t}return e.Ie}function Ap(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!O1(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Kw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Ty(n.startAt,e.startAt)&&Ty(n.endAt,e.endAt)}function Ff(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,t=null,r=[],s=[],a=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function W1(n,e,t,r,s,a,u,h){return new Ds(n,e,t,r,s,a,u,h)}function Ip(n){return new Ds(n)}function Ay(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function xp(n){return n.collectionGroup!==null}function Bo(n){const e=Pe(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Tt(Ot.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new Il(a,r))}),t.has(Ot.keyField().canonicalString())||e.Ee.push(new Il(Ot.keyField(),r))}return e.Ee}function pr(n){const e=Pe(n);return e.de||(e.de=K1(e,Bo(n))),e.de}function K1(n,e){if(n.limitType==="F")return Sy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new Il(s.field,a)});const t=n.endAt?new Ko(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ko(n.startAt.position,n.startAt.inclusive):null;return Sy(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Bf(n,e){const t=n.filters.concat([e]);return new Ds(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Bc(n,e,t){return new Ds(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ld(n,e){return Ap(pr(n),pr(e))&&n.limitType===e.limitType}function Xw(n){return`${Sp(pr(n))}|lt:${n.limitType}`}function bo(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>Qw(s)).join(", ")}]`),sd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>Wo(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>Wo(s)).join(",")),`Target(${r})`}(pr(n))}; limitType=${n.limitType})`}function ud(n,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ee.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,s){for(const a of Bo(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(u,h,f){const p=Cy(u,h,f);return u.inclusive?p<=0:p<0}(r.startAt,Bo(r),s)||r.endAt&&!function(u,h,f){const p=Cy(u,h,f);return u.inclusive?p>=0:p>0}(r.endAt,Bo(r),s))}(n,e)}function Q1(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Jw(n){return(e,t)=>{let r=!1;for(const s of Bo(n)){const a=Y1(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function Y1(n,e,t){const r=n.field.isKeyField()?Ee.comparator(e.key,t.key):function(a,u,h){const f=u.data.field(a),p=h.data.field(a);return f!==null&&p!==null?qo(f,p):Ae(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ae(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Wi(this.inner,(t,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return Lw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1=new st(Ee.comparator);function Jr(){return X1}const Zw=new st(Ee.comparator);function cl(...n){let e=Zw;for(const t of n)e=e.insert(t.key,t);return e}function e0(n){let e=Zw;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ss(){return ml()}function t0(){return ml()}function ml(){return new Ms(n=>n.toString(),(n,e)=>n.isEqual(e))}const J1=new st(Ee.comparator),Z1=new Tt(Ee.comparator);function Me(...n){let e=Z1;for(const t of n)e=e.add(t);return e}const eP=new Tt(ke);function tP(){return eP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lc(e)?"-0":e}}function n0(n){return{integerValue:""+n}}function nP(n,e){return R1(e)?n0(e):Pp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(){this._=void 0}}function rP(n,e,t){return n instanceof xl?function(s,a){const u={fields:{[Fw]:{stringValue:jw},[Uw]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&od(a)&&(a=ad(a)),a&&(u.fields[Bw]=a),{mapValue:u}}(t,e):n instanceof Qo?i0(n,e):n instanceof Yo?s0(n,e):function(s,a){const u=r0(s,a),h=Iy(u)+Iy(s.Re);return Of(u)&&Of(s.Re)?n0(h):Pp(s.serializer,h)}(n,e)}function iP(n,e,t){return n instanceof Qo?i0(n,e):n instanceof Yo?s0(n,e):t}function r0(n,e){return n instanceof Uc?function(r){return Of(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class xl extends cd{}class Qo extends cd{constructor(e){super(),this.elements=e}}function i0(n,e){const t=o0(e);for(const r of n.elements)t.some(s=>_r(s,r))||t.push(r);return{arrayValue:{values:t}}}class Yo extends cd{constructor(e){super(),this.elements=e}}function s0(n,e){let t=o0(e);for(const r of n.elements)t=t.filter(s=>!_r(s,r));return{arrayValue:{values:t}}}class Uc extends cd{constructor(e,t){super(),this.serializer=e,this.Re=t}}function Iy(n){return ut(n.integerValue||n.doubleValue)}function o0(n){return Tp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,t){this.field=e,this.transform=t}}function sP(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof Qo&&s instanceof Qo||r instanceof Yo&&s instanceof Yo?Ho(r.elements,s.elements,_r):r instanceof Uc&&s instanceof Uc?_r(r.Re,s.Re):r instanceof xl&&s instanceof xl}(n.transform,e.transform)}class oP{constructor(e,t){this.version=e,this.transformResults=t}}class kn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new kn}static exists(e){return new kn(void 0,e)}static updateTime(e){return new kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class dd{}function a0(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new kp(n.key,kn.none()):new jl(n.key,n.data,kn.none());{const t=n.data,r=un.empty();let s=new Tt(Ot.comparator);for(let a of e.fields)if(!s.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),s=s.add(a)}return new Ki(n.key,r,new yn(s.toArray()),kn.none())}}function aP(n,e,t){n instanceof jl?function(s,a,u){const h=s.value.clone(),f=Py(s.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Ki?function(s,a,u){if(!Tc(s.precondition,a))return void a.convertToUnknownDocument(u.version);const h=Py(s.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(l0(s)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function gl(n,e,t,r){return n instanceof jl?function(a,u,h,f){if(!Tc(a.precondition,u))return h;const p=a.value.clone(),v=Ry(a.fieldTransforms,f,u);return p.setAll(v),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ki?function(a,u,h,f){if(!Tc(a.precondition,u))return h;const p=Ry(a.fieldTransforms,f,u),v=u.data;return v.setAll(l0(a)),v.setAll(p),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(n,e,t,r):function(a,u,h){return Tc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function lP(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=r0(r.transform,s||null);a!=null&&(t===null&&(t=un.empty()),t.set(r.field,a))}return t||null}function xy(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ho(r,s,(a,u)=>sP(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class jl extends dd{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ki extends dd{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function l0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Py(n,e,t){const r=new Map;Ge(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let s=0;s<t.length;s++){const a=n[s],u=a.transform,h=e.data.field(a.field);r.set(a.field,iP(u,h,t[s]))}return r}function Ry(n,e,t){const r=new Map;for(const s of n){const a=s.transform,u=t.data.field(s.field);r.set(s.field,rP(a,u,e))}return r}class kp extends dd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uP extends dd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&aP(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=gl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=gl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=t0();return this.mutations.forEach(s=>{const a=e.get(s.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=t.has(s.key)?null:h;const f=a0(u,h);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(xe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Me())}isEqual(e){return this.batchId===e.batchId&&Ho(this.mutations,e.mutations,(t,r)=>xy(t,r))&&Ho(this.baseMutations,e.baseMutations,(t,r)=>xy(t,r))}}class Np{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Ge(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return J1}();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,r[u].version);return new Np(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft,Fe;function fP(n){switch(n){case ee.OK:return Ae(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ae(15467,{code:n})}}function u0(n){if(n===void 0)return Xr("GRPC error has no .code"),ee.UNKNOWN;switch(n){case ft.OK:return ee.OK;case ft.CANCELLED:return ee.CANCELLED;case ft.UNKNOWN:return ee.UNKNOWN;case ft.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case ft.INTERNAL:return ee.INTERNAL;case ft.UNAVAILABLE:return ee.UNAVAILABLE;case ft.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case ft.NOT_FOUND:return ee.NOT_FOUND;case ft.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case ft.ABORTED:return ee.ABORTED;case ft.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case ft.DATA_LOSS:return ee.DATA_LOSS;default:return Ae(39323,{code:n})}}(Fe=ft||(ft={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=new ji([4294967295,4294967295],0);function ky(n){const e=Dw().encode(n),t=new Aw;return t.update(e),new Uint8Array(t.digest())}function Ny(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ji([t,r],0),new ji([s,a],0)]}class bp{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new dl(`Invalid padding: ${t}`);if(r<0)throw new dl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new dl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new dl(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=ji.fromNumber(this.pe)}we(e,t,r){let s=e.add(t.multiply(ji.fromNumber(r)));return s.compare(pP)===1&&(s=new ji([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=ky(e),[r,s]=Ny(t);for(let a=0;a<this.hashCount;a++){const u=this.we(r,s,a);if(!this.be(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new bp(a,s,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.pe===0)return;const t=ky(e),[r,s]=Ny(t);for(let a=0;a<this.hashCount;a++){const u=this.we(r,s,a);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Fl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new hd(xe.min(),s,new st(ke),Jr(),Me())}}class Fl{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Fl(r,t,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,t,r,s){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=s}}class c0{constructor(e,t){this.targetId=e,this.Ce=t}}class d0{constructor(e,t,r=jt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class by{constructor(){this.Fe=0,this.Me=Dy(),this.xe=jt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Me(),t=Me(),r=Me();return this.Me.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Ae(38017,{changeType:a})}}),new Fl(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=Dy()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ge(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class mP{constructor(e){this.ze=e,this.je=new Map,this.He=Jr(),this.Je=cc(),this.Ye=cc(),this.Ze=new st(ke)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Ae(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,s)=>{this.it(s)&&t(s)})}ot(e){const t=e.targetId,r=e.Ce.count,s=this._t(t);if(s){const a=s.target;if(Ff(a))if(r===0){const u=new Ee(a.path);this.tt(t,u,Ht.newNoDocument(u,xe.min()))}else Ge(r===1,20013,{expectedCount:r});else{const u=this.ut(t);if(u!==r){const h=this.ct(e),f=h?this.lt(h,e,u):1;if(f!==0){this.st(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let u,h;try{u=zi(r).toUint8Array()}catch(f){if(f instanceof Ow)return Go("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new bp(u,s,a)}catch(f){return Go(f instanceof dl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.pe===0?null:h}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let s=0;return r.forEach(a=>{const u=this.ze.Pt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.tt(t,a,null),s++)}),s}It(e){const t=new Map;this.je.forEach((a,u)=>{const h=this._t(u);if(h){if(a.current&&Ff(h.target)){const f=new Ee(h.target.path);this.Et(f).has(u)||this.dt(u,f)||this.tt(u,f,Ht.newNoDocument(f,e))}a.Le&&(t.set(u,a.qe()),a.Qe())}});let r=Me();this.Ye.forEach((a,u)=>{let h=!0;u.forEachWhile(f=>{const p=this._t(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(a))}),this.He.forEach((a,u)=>u.setReadTime(e));const s=new hd(e,t,this.Ze,this.He,r);return this.He=Jr(),this.Je=cc(),this.Ye=cc(),this.Ze=new st(ke),s}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,t)?s.$e(t,1):s.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new by,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Tt(ke),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Tt(ke),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||me("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new by),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function cc(){return new st(Ee.comparator)}function Dy(){return new st(Ee.comparator)}const gP={asc:"ASCENDING",desc:"DESCENDING"},vP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yP={and:"AND",or:"OR"};class _P{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Uf(n,e){return n.useProto3Json||sd(e)?e:{value:e}}function zc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function h0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function wP(n,e){return zc(n,e.toTimestamp())}function mr(n){return Ge(!!n,49232),xe.fromTimestamp(function(t){const r=Ui(t);return new Ct(r.seconds,r.nanos)}(n))}function Dp(n,e){return zf(n,e).canonicalString()}function zf(n,e){const t=function(s){return new Xe(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function f0(n){const e=Xe.fromString(n);return Ge(y0(e),10190,{key:e.toString()}),e}function $f(n,e){return Dp(n.databaseId,e.path)}function hf(n,e){const t=f0(e);if(t.get(1)!==n.databaseId.projectId)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ee(m0(t))}function p0(n,e){return Dp(n.databaseId,e)}function EP(n){const e=f0(n);return e.length===4?Xe.emptyPath():m0(e)}function Gf(n){return new Xe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function m0(n){return Ge(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function My(n,e,t){return{name:$f(n,e),fields:t.value.mapValue.fields}}function CP(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ae(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,v){return p.useProto3Json?(Ge(v===void 0||typeof v=="string",58123),jt.fromBase64String(v||"")):(Ge(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),jt.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(p){const v=p.code===void 0?ee.UNKNOWN:u0(p.code);return new he(v,p.message||"")}(u);t=new d0(r,s,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=hf(n,r.document.name),a=mr(r.document.updateTime),u=r.document.createTime?mr(r.document.createTime):xe.min(),h=new un({mapValue:{fields:r.document.fields}}),f=Ht.newFoundDocument(s,a,u,h),p=r.targetIds||[],v=r.removedTargetIds||[];t=new Sc(p,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=hf(n,r.document),a=r.readTime?mr(r.readTime):xe.min(),u=Ht.newNoDocument(s,a),h=r.removedTargetIds||[];t=new Sc([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=hf(n,r.document),a=r.removedTargetIds||[];t=new Sc([],a,s,null)}else{if(!("filter"in e))return Ae(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,u=new hP(s,a),h=r.targetId;t=new c0(h,u)}}return t}function TP(n,e){let t;if(e instanceof jl)t={update:My(n,e.key,e.value)};else if(e instanceof kp)t={delete:$f(n,e.key)};else if(e instanceof Ki)t={update:My(n,e.key,e.data),updateMask:bP(e.fieldMask)};else{if(!(e instanceof uP))return Ae(16599,{ft:e.type});t={verify:$f(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const h=u.transform;if(h instanceof xl)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Qo)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Yo)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Uc)return{fieldPath:u.field.canonicalString(),increment:h.Re};throw Ae(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:wP(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ae(27497)}(n,e.precondition)),t}function SP(n,e){return n&&n.length>0?(Ge(e!==void 0,14353),n.map(t=>function(s,a){let u=s.updateTime?mr(s.updateTime):mr(a);return u.isEqual(xe.min())&&(u=mr(a)),new oP(u,s.transformResults||[])}(t,e))):[]}function AP(n,e){return{documents:[p0(n,e.path)]}}function IP(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=p0(n,s);const a=function(p){if(p.length!==0)return v0(Qn.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(p){if(p.length!==0)return p.map(v=>function(C){return{field:Do(C.field),direction:RP(C.dir)}}(v))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=Uf(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:t,parent:s}}function xP(n){let e=EP(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Ge(r===1,65062);const v=t.from[0];v.allDescendants?s=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=function(w){const C=g0(w);return C instanceof Qn&&Ww(C)?C.getFilters():[C]}(t.where));let u=[];t.orderBy&&(u=function(w){return w.map(C=>function(A){return new Il(Mo(A.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(C))}(t.orderBy));let h=null;t.limit&&(h=function(w){let C;return C=typeof w=="object"?w.value:w,sd(C)?null:C}(t.limit));let f=null;t.startAt&&(f=function(w){const C=!!w.before,N=w.values||[];return new Ko(N,C)}(t.startAt));let p=null;return t.endAt&&(p=function(w){const C=!w.before,N=w.values||[];return new Ko(N,C)}(t.endAt)),W1(e,s,u,a,h,"F",f,p)}function PP(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function g0(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Mo(t.unaryFilter.field);return mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Mo(t.unaryFilter.field);return mt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Mo(t.unaryFilter.field);return mt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Mo(t.unaryFilter.field);return mt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}}(n):n.fieldFilter!==void 0?function(t){return mt.create(Mo(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Qn.create(t.compositeFilter.filters.map(r=>g0(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}}(t.compositeFilter.op))}(n):Ae(30097,{filter:n})}function RP(n){return gP[n]}function kP(n){return vP[n]}function NP(n){return yP[n]}function Do(n){return{fieldPath:n.canonicalString()}}function Mo(n){return Ot.fromServerFormat(n.fieldPath)}function v0(n){return n instanceof mt?function(t){if(t.op==="=="){if(Ey(t.value))return{unaryFilter:{field:Do(t.field),op:"IS_NAN"}};if(wy(t.value))return{unaryFilter:{field:Do(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Ey(t.value))return{unaryFilter:{field:Do(t.field),op:"IS_NOT_NAN"}};if(wy(t.value))return{unaryFilter:{field:Do(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Do(t.field),op:kP(t.op),value:t.value}}}(n):n instanceof Qn?function(t){const r=t.getFilters().map(s=>v0(s));return r.length===1?r[0]:{compositeFilter:{op:NP(t.op),filters:r}}}(n):Ae(54877,{filter:n})}function bP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function y0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,t,r,s,a=xe.min(),u=xe.min(),h=jt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Di(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e){this.wt=e}}function MP(n){const e=xP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Bc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(){this.yn=new LP}addToCollectionParentIndex(e,t){return this.yn.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(Bi.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(Bi.min())}updateCollectionGroup(e,t,r){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class LP{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Tt(Xe.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Tt(Xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_0=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(_0,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Xo(0)}static ir(){return new Xo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly="LruGarbageCollector",OP=1048576;function Oy([n,e],[t,r]){const s=ke(n,t);return s===0?ke(e,r):s}class jP{constructor(e){this.cr=e,this.buffer=new Tt(Oy),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Oy(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class FP{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){me(Ly,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){oa(t)?me(Ly,"Ignoring IndexedDB error during garbage collection: ",t):await sa(t)}await this.Ir(3e5)})}}class BP{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return re.resolve(id.le);const r=new jP(t);return this.Er.forEachTarget(e,s=>r.Pr(s.sequenceNumber)).next(()=>this.Er.Ar(e,s=>r.Pr(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(Vy)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Vy):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,s,a,u,h,f,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),s=this.params.maximumSequenceNumbersToCollect):s=w,u=Date.now(),this.nthSequenceNumber(e,s))).next(w=>(r=w,h=Date.now(),this.removeTargets(e,r,t))).next(w=>(a=w,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(p=Date.now(),No()<=De.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${s} in `+(h-u)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${w} documents in `+(p-f)+`ms
Total Duration: ${p-v}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:w})))}}function UP(n,e){return new BP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(){this.changes=new Ms(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?re.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&gl(r.mutation,s,yn.empty(),Ct.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Me()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Me()){const s=Ss();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(a=>{let u=cl();return a.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Ss();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Me()))}populateOverlays(e,t,r){const s=[];return r.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,s){let a=Jr();const u=ml(),h=function(){return ml()}();return t.forEach((f,p)=>{const v=r.get(p.key);s.has(p.key)&&(v===void 0||v.mutation instanceof Ki)?a=a.insert(p.key,p):v!==void 0?(u.set(p.key,v.mutation.getFieldMask()),gl(v.mutation,p,v.mutation.getFieldMask(),Ct.now())):u.set(p.key,yn.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,v)=>u.set(p,v)),t.forEach((p,v)=>{var w;return h.set(p,new $P(v,(w=u.get(p))!==null&&w!==void 0?w:null))}),h))}recalculateAndSaveOverlays(e,t){const r=ml();let s=new st((u,h)=>u-h),a=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(f=>{const p=t.get(f);if(p===null)return;let v=r.get(f)||yn.empty();v=h.applyToLocalView(p,v),r.set(f,v);const w=(s.get(h.batchId)||Me()).add(f);s=s.insert(h.batchId,w)})}).next(()=>{const u=[],h=s.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,v=f.value,w=t0();v.forEach(C=>{if(!a.has(C)){const N=a0(t.get(C),r.get(C));N!==null&&w.set(C,N),a=a.add(C)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,w))}return re.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(u){return Ee.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):xp(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):re.resolve(Ss());let h=Cl,f=a;return u.next(p=>re.forEach(p,(v,w)=>(h<w.largestBatchId&&(h=w.largestBatchId),a.get(v)?re.resolve():this.remoteDocumentCache.getEntry(e,v).next(C=>{f=f.insert(v,C)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,Me())).next(v=>({batchId:h,changes:e0(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next(r=>{let s=cl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let u=cl();return this.indexManager.getCollectionParents(e,a).next(h=>re.forEach(h,f=>{const p=function(w,C){return new Ds(C,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(v=>{v.forEach((w,C)=>{u=u.insert(w,C)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s))).next(u=>{a.forEach((f,p)=>{const v=p.getKey();u.get(v)===null&&(u=u.insert(v,Ht.newInvalidDocument(v)))});let h=cl();return u.forEach((f,p)=>{const v=a.get(f);v!==void 0&&gl(v.mutation,p,yn.empty(),Ct.now()),ud(t,p)&&(h=h.insert(f,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return re.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:mr(s.createTime)}}(t)),re.resolve()}getNamedQuery(e,t){return re.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(s){return{name:s.name,query:MP(s.bundledQuery),readTime:mr(s.readTime)}}(t)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(){this.overlays=new st(Ee.comparator),this.Or=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ss();return re.forEach(t,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,a)=>{this.St(e,t,a)}),re.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Or.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Or.delete(r)),re.resolve()}getOverlaysForCollection(e,t,r){const s=Ss(),a=t.length+1,u=new Ee(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return re.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new st((p,v)=>p-v);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let v=a.get(p.largestBatchId);v===null&&(v=Ss(),a=a.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const h=Ss(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,v)=>h.set(p,v)),!(h.size()>=s)););return re.resolve(h)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Or.get(s.largestBatchId).delete(r.key);this.Or.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new dP(t,r));let a=this.Or.get(t);a===void 0&&(a=Me(),this.Or.set(t,a)),this.Or.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(){this.Nr=new Tt(Rt.Br),this.Lr=new Tt(Rt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const r=new Rt(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new Rt(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){const t=new Ee(new Xe([])),r=new Rt(t,e),s=new Rt(t,e+1),a=[];return this.Lr.forEachInRange([r,s],u=>{this.Qr(u),a.push(u.key)}),a}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new Ee(new Xe([])),r=new Rt(t,e),s=new Rt(t,e+1);let a=Me();return this.Lr.forEachInRange([r,s],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Rt(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Rt{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Ee.comparator(e.key,t.key)||ke(e.Gr,t.Gr)}static kr(e,t){return ke(e.Gr,t.Gr)||Ee.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new Tt(Rt.Br)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new cP(a,t,r,s);this.mutationQueue.push(u);for(const h of s)this.zr=this.zr.add(new Rt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return re.resolve(u)}lookupMutationBatch(e,t){return re.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Hr(r),a=s<0?0:s;return re.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Cp:this.Jn-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Rt(t,0),s=new Rt(t,Number.POSITIVE_INFINITY),a=[];return this.zr.forEachInRange([r,s],u=>{const h=this.jr(u.Gr);a.push(h)}),re.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Tt(ke);return t.forEach(s=>{const a=new Rt(s,0),u=new Rt(s,Number.POSITIVE_INFINITY);this.zr.forEachInRange([a,u],h=>{r=r.add(h.Gr)})}),re.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;Ee.isDocumentKey(a)||(a=a.child(""));const u=new Rt(new Ee(a),0);let h=new Tt(ke);return this.zr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(h=h.add(f.Gr)),!0)},u),re.resolve(this.Jr(h))}Jr(e){const t=[];return e.forEach(r=>{const s=this.jr(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Ge(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return re.forEach(t.mutations,s=>{const a=new Rt(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){const r=new Rt(t,0),s=this.zr.firstAfterOrEqual(r);return re.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e){this.Zr=e,this.docs=function(){return new st(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,u=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return re.resolve(r?r.document.mutableCopy():Ht.newInvalidDocument(t))}getEntries(e,t){let r=Jr();return t.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Ht.newInvalidDocument(s))}),re.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=Jr();const u=t.path,h=new Ee(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:v}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||A1(S1(v),r)<=0||(s.has(v.key)||ud(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return re.resolve(a)}getAllFromCollectionGroup(e,t,r,s){Ae(9500)}Xr(e,t){return re.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new YP(this)}getSize(e){return re.resolve(this.size)}}class YP extends zP{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.vr.addEntry(e,s)):this.vr.removeEntry(r)}),re.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e){this.persistence=e,this.ei=new Ms(t=>Sp(t),Ap),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.ti=0,this.ni=new Mp,this.targetCount=0,this.ri=Xo.rr()}forEachTarget(e,t){return this.ei.forEach((r,s)=>t(s)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),re.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new Xo(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.ar(t),re.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.ei.forEach((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.ei.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)}),re.waitFor(a).next(()=>s)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const r=this.ei.get(t)||null;return re.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),re.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(u=>{a.push(s.markPotentiallyOrphaned(e,u))}),re.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),re.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ni.Wr(t);return re.resolve(r)}containsKey(e,t){return re.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,t){this.ii={},this.overlays={},this.si=new id(0),this.oi=!1,this.oi=!0,this._i=new WP,this.referenceDelegate=e(this),this.ai=new XP(this),this.indexManager=new VP,this.remoteDocumentCache=function(s){return new QP(s)}(r=>this.referenceDelegate.ui(r)),this.serializer=new DP(t),this.ci=new HP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new qP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new KP(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){me("MemoryPersistence","Starting transaction:",e);const s=new JP(this.si.next());return this.referenceDelegate.li(),r(s).next(a=>this.referenceDelegate.hi(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Pi(e,t){return re.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}}class JP extends x1{constructor(e){super(),this.currentSequenceNumber=e}}class Vp{constructor(e){this.persistence=e,this.Ti=new Mp,this.Ii=null}static Ei(e){return new Vp(e)}get di(){if(this.Ii)return this.Ii;throw Ae(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),re.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),re.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(s=>this.di.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.di.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.di,r=>{const s=Ee.fromPath(r);return this.Ai(e,s).next(a=>{a||t.removeEntry(s,xe.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return re.or([()=>re.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class $c{constructor(e,t){this.persistence=e,this.Ri=new Ms(r=>k1(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=UP(this,t)}static Ei(e,t){return new $c(e,t)}li(){}hi(e){return re.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return re.forEach(this.Ri,(r,s)=>this.gr(e,r,s).next(a=>a?re.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.Xr(e,u=>this.gr(e,u,t).next(h=>{h||(r++,a.removeEntry(u,xe.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),re.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),re.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ec(e.data.value)),t}gr(e,t,r){return re.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.Ri.get(t);return re.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=s}static Ps(e,t){let r=Me(),s=Me();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Lp(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return kS()?8:P1(qt())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.Rs(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.Vs(e,t,s,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new ZP;return this.fs(e,t,u).next(h=>{if(a.result=h,this.Is)return this.gs(e,t,u,h.size)})}).next(()=>a.result)}gs(e,t,r,s){return r.documentReadCount<this.Es?(No()<=De.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",bo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),re.resolve()):(No()<=De.DEBUG&&me("QueryEngine","Query:",bo(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(No()<=De.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",bo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pr(t))):re.resolve())}Rs(e,t){if(Ay(t))return re.resolve(null);let r=pr(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=Bc(t,null,"F"),r=pr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=Me(...a);return this.As.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.ps(t,h);return this.ys(t,p,u,f.readTime)?this.Rs(e,Bc(t,null,"F")):this.ws(e,p,t,f)}))})))}Vs(e,t,r,s){return Ay(t)||s.isEqual(xe.min())?re.resolve(null):this.As.getDocuments(e,r).next(a=>{const u=this.ps(t,a);return this.ys(t,u,r,s)?re.resolve(null):(No()<=De.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),bo(t)),this.ws(e,u,t,T1(s,Cl)).next(h=>h))})}ps(e,t){let r=new Tt(Jw(e));return t.forEach((s,a)=>{ud(e,a)&&(r=r.add(a))}),r}ys(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}fs(e,t,r){return No()<=De.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",bo(t)),this.As.getDocumentsMatchingQuery(e,t,Bi.min(),r)}ws(e,t,r,s){return this.As.getDocumentsMatchingQuery(e,r,s).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="LocalStore",tR=3e8;class nR{constructor(e,t,r,s){this.persistence=e,this.bs=t,this.serializer=s,this.Ss=new st(ke),this.Ds=new Ms(a=>Sp(a),Ap),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GP(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function rR(n,e,t,r){return new nR(n,e,t,r)}async function E0(n,e){const t=Pe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],h=[];let f=Me();for(const p of s){u.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}for(const p of a){h.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(r,f).next(p=>({Ms:p,removedBatchIds:u,addedBatchIds:h}))})})}function iR(n,e){const t=Pe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=t.Cs.newChangeBuffer({trackRemovals:!0});return function(h,f,p,v){const w=p.batch,C=w.keys();let N=re.resolve();return C.forEach(A=>{N=N.next(()=>v.getEntry(f,A)).next(L=>{const O=p.docVersions.get(A);Ge(O!==null,48541),L.version.compareTo(O)<0&&(w.applyToRemoteDocument(L,p),L.isValidDocument()&&(L.setReadTime(p.commitVersion),v.addEntry(L)))})}),N.next(()=>h.mutationQueue.removeMutationBatch(f,w))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let f=Me();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function C0(n){const e=Pe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function sR(n,e){const t=Pe(n),r=e.snapshotVersion;let s=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Cs.newChangeBuffer({trackRemovals:!0});s=t.Ss;const h=[];e.targetChanges.forEach((v,w)=>{const C=s.get(w);if(!C)return;h.push(t.ai.removeMatchingKeys(a,v.removedDocuments,w).next(()=>t.ai.addMatchingKeys(a,v.addedDocuments,w)));let N=C.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?N=N.withResumeToken(jt.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):v.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(v.resumeToken,r)),s=s.insert(w,N),function(L,O,M){return L.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=tR?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(C,N,v)&&h.push(t.ai.updateTargetData(a,N))});let f=Jr(),p=Me();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))}),h.push(oR(a,u,e.documentUpdates).next(v=>{f=v.xs,p=v.Os})),!r.isEqual(xe.min())){const v=t.ai.getLastRemoteSnapshotVersion(a).next(w=>t.ai.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(v)}return re.waitFor(h).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(t.Ss=s,a))}function oR(n,e,t){let r=Me(),s=Me();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=Jr();return t.forEach((h,f)=>{const p=a.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(h)),f.isNoDocument()&&f.version.isEqual(xe.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):me(Op,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)}),{xs:u,Os:s}})}function aR(n,e){const t=Pe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Cp),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function lR(n,e){const t=Pe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.ai.getTargetData(r,e).next(a=>a?(s=a,re.resolve(s)):t.ai.allocateTargetId(r).next(u=>(s=new Di(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ss.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}async function Hf(n,e,t){const r=Pe(n),s=r.Ss.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!oa(u))throw u;me(Op,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(s.target)}function jy(n,e,t){const r=Pe(n);let s=xe.min(),a=Me();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,p,v){const w=Pe(f),C=w.Ds.get(v);return C!==void 0?re.resolve(w.Ss.get(C)):w.ai.getTargetData(p,v)}(r,u,pr(e)).next(h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(u,h.targetId).next(f=>{a=f})}).next(()=>r.bs.getDocumentsMatchingQuery(u,e,t?s:xe.min(),t?a:Me())).next(h=>(uR(r,Q1(e),h),{documents:h,Ns:a})))}function uR(n,e,t){let r=n.vs.get(e)||xe.min();t.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.vs.set(e,r)}class Fy{constructor(){this.activeTargetIds=tP()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cR{constructor(){this.So=new Fy,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new Fy,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By="ConnectivityMonitor";class Uy{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){me(By,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){me(By,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dc=null;function qf(){return dc===null?dc=function(){return 268435456+Math.round(2147483648*Math.random())}():dc++,"0x"+dc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff="RestConnection",hR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fR{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${s}`,this.qo=this.databaseId.database===Oc?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Qo(e,t,r,s,a){const u=qf(),h=this.$o(e,t.toUriEncodedString());me(ff,`Sending RPC '${e}' ${u}:`,h,r);const f={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(f,s,a),this.Ko(e,h,f,r).then(p=>(me(ff,`Received RPC '${e}' ${u}: `,p),p),p=>{throw Go(ff,`RPC '${e}' ${u} failed with error: `,p,"url: ",h,"request:",r),p})}Wo(e,t,r,s,a,u){return this.Qo(e,t,r,s,a)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ia}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}$o(e,t){const r=hR[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class mR extends fR{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,s){const a=qf();return new Promise((u,h)=>{const f=new Iw;f.setWithCredentials(!0),f.listenOnce(xw.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case wc.NO_ERROR:const v=f.getResponseJson();me($t,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(v)),u(v);break;case wc.TIMEOUT:me($t,`RPC '${e}' ${a} timed out`),h(new he(ee.DEADLINE_EXCEEDED,"Request time out"));break;case wc.HTTP_ERROR:const w=f.getStatus();if(me($t,`RPC '${e}' ${a} failed with status:`,w,"response text:",f.getResponseText()),w>0){let C=f.getResponseJson();Array.isArray(C)&&(C=C[0]);const N=C==null?void 0:C.error;if(N&&N.status&&N.message){const A=function(O){const M=O.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(M)>=0?M:ee.UNKNOWN}(N.status);h(new he(A,N.message))}else h(new he(ee.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new he(ee.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{s_:e,streamId:a,o_:f.getLastErrorCode(),__:f.getLastError()})}}finally{me($t,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(s);me($t,`RPC '${e}' ${a} sending request:`,s),f.send(t,"POST",p,r,15)})}a_(e,t,r){const s=qf(),a=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=kw(),h=Rw(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Uo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const v=a.join("");me($t,`Creating RPC '${e}' stream ${s}: ${v}`,f);const w=u.createWebChannel(v,f);let C=!1,N=!1;const A=new pR({Go:O=>{N?me($t,`Not sending because RPC '${e}' stream ${s} is closed:`,O):(C||(me($t,`Opening RPC '${e}' stream ${s} transport.`),w.open(),C=!0),me($t,`RPC '${e}' stream ${s} sending:`,O),w.send(O))},zo:()=>w.close()}),L=(O,M,k)=>{O.listen(M,V=>{try{k(V)}catch($){setTimeout(()=>{throw $},0)}})};return L(w,ul.EventType.OPEN,()=>{N||(me($t,`RPC '${e}' stream ${s} transport opened.`),A.t_())}),L(w,ul.EventType.CLOSE,()=>{N||(N=!0,me($t,`RPC '${e}' stream ${s} transport closed`),A.r_())}),L(w,ul.EventType.ERROR,O=>{N||(N=!0,Go($t,`RPC '${e}' stream ${s} transport errored. Name:`,O.name,"Message:",O.message),A.r_(new he(ee.UNAVAILABLE,"The operation could not be completed")))}),L(w,ul.EventType.MESSAGE,O=>{var M;if(!N){const k=O.data[0];Ge(!!k,16349);const V=k,$=(V==null?void 0:V.error)||((M=V[0])===null||M===void 0?void 0:M.error);if($){me($t,`RPC '${e}' stream ${s} received error:`,$);const Q=$.status;let J=function(T){const x=ft[T];if(x!==void 0)return u0(x)}(Q),j=$.message;J===void 0&&(J=ee.INTERNAL,j="Unknown error status: "+Q+" with message "+$.message),N=!0,A.r_(new he(J,j)),w.close()}else me($t,`RPC '${e}' stream ${s} received:`,k),A.i_(k)}}),L(h,Pw.STAT_EVENT,O=>{O.stat===Mf.PROXY?me($t,`RPC '${e}' stream ${s} detected buffering proxy`):O.stat===Mf.NOPROXY&&me($t,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{A.n_()},0),A}}function pf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(n){return new _P(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,t,r=1e3,s=1.5,a=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=s,this.l_=a,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),s=Math.max(0,t-r);s>0&&me("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,s,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="PersistentStream";class S0{constructor(e,t,r,s,a,u,h,f){this.bi=e,this.R_=r,this.V_=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new T0(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(Xr(t.toString()),Xr("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.m_===t&&this.B_(r,s)},r=>{e(()=>{const s=new he(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(s)})})}B_(e,t){const r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(s=>{r(()=>this.L_(s))}),this.stream.onMessage(s=>{r(()=>++this.p_==1?this.q_(s):this.onNext(s))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return me(zy,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(me(zy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gR extends S0{constructor(e,t,r,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=CP(this.serializer,e),r=function(a){if(!("targetChange"in a))return xe.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?xe.min():u.readTime?mr(u.readTime):xe.min()}(e);return this.listener.Q_(t,r)}U_(e){const t={};t.database=Gf(this.serializer),t.addTarget=function(a,u){let h;const f=u.target;if(h=Ff(f)?{documents:AP(a,f)}:{query:IP(a,f).gt},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=h0(a,u.resumeToken);const p=Uf(a,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(xe.min())>0){h.readTime=zc(a,u.snapshotVersion.toTimestamp());const p=Uf(a,u.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const r=PP(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){const t={};t.database=Gf(this.serializer),t.removeTarget=e,this.F_(t)}}class vR extends S0{constructor(e,t,r,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=SP(e.writeResults,e.commitTime),r=mr(e.commitTime);return this.listener.j_(r,t)}H_(){const e={};e.database=Gf(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>TP(this.serializer,r))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{}class _R extends yR{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.J_=!1}Y_(){if(this.J_)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Qo(e,zf(t,r),s,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new he(ee.UNKNOWN,a.toString())})}Wo(e,t,r,s,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Wo(e,zf(t,r),s,u,h,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(ee.UNKNOWN,u.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class wR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Xr(t),this.ea=!1):me("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="RemoteStore";class ER{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=a,this.ca.vo(u=>{r.enqueueAndForget(async()=>{Vs(this)&&(me(ks,"Restarting streams for network reachability change."),await async function(f){const p=Pe(f);p.aa.add(4),await Bl(p),p.la.set("Unknown"),p.aa.delete(4),await pd(p)}(this))})}),this.la=new wR(r,s)}}async function pd(n){if(Vs(n))for(const e of n.ua)await e(!0)}async function Bl(n){for(const e of n.ua)await e(!1)}function A0(n,e){const t=Pe(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),Up(t)?Bp(t):aa(t).b_()&&Fp(t,e))}function jp(n,e){const t=Pe(n),r=aa(t);t._a.delete(e),r.b_()&&I0(t,e),t._a.size===0&&(r.b_()?r.v_():Vs(t)&&t.la.set("Unknown"))}function Fp(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}aa(n).U_(e)}function I0(n,e){n.ha.Ke(e),aa(n).K_(e)}function Bp(n){n.ha=new mP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),aa(n).start(),n.la.ta()}function Up(n){return Vs(n)&&!aa(n).w_()&&n._a.size>0}function Vs(n){return Pe(n).aa.size===0}function x0(n){n.ha=void 0}async function CR(n){n.la.set("Online")}async function TR(n){n._a.forEach((e,t)=>{Fp(n,e)})}async function SR(n,e){x0(n),Up(n)?(n.la.ia(e),Bp(n)):n.la.set("Unknown")}async function AR(n,e,t){if(n.la.set("Online"),e instanceof d0&&e.state===2&&e.cause)try{await async function(s,a){const u=a.cause;for(const h of a.targetIds)s._a.has(h)&&(await s.remoteSyncer.rejectListen(h,u),s._a.delete(h),s.ha.removeTarget(h))}(n,e)}catch(r){me(ks,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Gc(n,r)}else if(e instanceof Sc?n.ha.Xe(e):e instanceof c0?n.ha.ot(e):n.ha.nt(e),!t.isEqual(xe.min()))try{const r=await C0(n.localStore);t.compareTo(r)>=0&&await function(a,u){const h=a.ha.It(u);return h.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const v=a._a.get(p);v&&a._a.set(p,v.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,p)=>{const v=a._a.get(f);if(!v)return;a._a.set(f,v.withResumeToken(jt.EMPTY_BYTE_STRING,v.snapshotVersion)),I0(a,f);const w=new Di(v.target,f,p,v.sequenceNumber);Fp(a,w)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){me(ks,"Failed to raise snapshot:",r),await Gc(n,r)}}async function Gc(n,e,t){if(!oa(e))throw e;n.aa.add(1),await Bl(n),n.la.set("Offline"),t||(t=()=>C0(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{me(ks,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await pd(n)})}function P0(n,e){return e().catch(t=>Gc(n,t,e))}async function md(n){const e=Pe(n),t=Gi(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:Cp;for(;IR(e);)try{const s=await aR(e.localStore,r);if(s===null){e.oa.length===0&&t.v_();break}r=s.batchId,xR(e,s)}catch(s){await Gc(e,s)}R0(e)&&k0(e)}function IR(n){return Vs(n)&&n.oa.length<10}function xR(n,e){n.oa.push(e);const t=Gi(n);t.b_()&&t.W_&&t.G_(e.mutations)}function R0(n){return Vs(n)&&!Gi(n).w_()&&n.oa.length>0}function k0(n){Gi(n).start()}async function PR(n){Gi(n).H_()}async function RR(n){const e=Gi(n);for(const t of n.oa)e.G_(t.mutations)}async function kR(n,e,t){const r=n.oa.shift(),s=Np.from(r,e,t);await P0(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await md(n)}async function NR(n,e){e&&Gi(n).W_&&await async function(r,s){if(function(u){return fP(u)&&u!==ee.ABORTED}(s.code)){const a=r.oa.shift();Gi(r).D_(),await P0(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await md(r)}}(n,e),R0(n)&&k0(n)}async function $y(n,e){const t=Pe(n);t.asyncQueue.verifyOperationInProgress(),me(ks,"RemoteStore received new credentials");const r=Vs(t);t.aa.add(3),await Bl(t),r&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await pd(t)}async function bR(n,e){const t=Pe(n);e?(t.aa.delete(2),await pd(t)):e||(t.aa.add(2),await Bl(t),t.la.set("Unknown"))}function aa(n){return n.Pa||(n.Pa=function(t,r,s){const a=Pe(t);return a.Y_(),new gR(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{jo:CR.bind(null,n),Jo:TR.bind(null,n),Zo:SR.bind(null,n),Q_:AR.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),Up(n)?Bp(n):n.la.set("Unknown")):(await n.Pa.stop(),x0(n))})),n.Pa}function Gi(n){return n.Ta||(n.Ta=function(t,r,s){const a=Pe(t);return a.Y_(),new vR(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:PR.bind(null,n),Zo:NR.bind(null,n),z_:RR.bind(null,n),j_:kR.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await md(n)):(await n.Ta.stop(),n.oa.length>0&&(me(ks,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const u=Date.now()+r,h=new zp(e,t,u,s,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $p(n,e){if(Xr("AsyncQueue",`${e}: ${n}`),oa(n))return new he(ee.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{static emptySet(e){return new Uo(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ee.comparator(t.key,r.key):(t,r)=>Ee.comparator(t.key,r.key),this.keyedMap=cl(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Uo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Uo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(){this.Ia=new st(Ee.comparator)}track(e){const t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Ae(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}}class Jo{constructor(e,t,r,s,a,u,h,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,a){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new Jo(e,t,Uo.emptySet(t),u,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ld(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class MR{constructor(){this.queries=Hy(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){const s=Pe(t),a=s.queries;s.queries=Hy(),a.forEach((u,h)=>{for(const f of h.Ra)f.onError(r)})})(this,new he(ee.ABORTED,"Firestore shutting down"))}}function Hy(){return new Ms(n=>Xw(n),ld)}async function N0(n,e){const t=Pe(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.Va()&&e.ma()&&(r=2):(a=new DR,r=e.ma()?0:1);try{switch(r){case 0:a.Aa=await t.onListen(s,!0);break;case 1:a.Aa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const h=$p(u,`Initialization of query '${bo(e.query)}' failed`);return void e.onError(h)}t.queries.set(s,a),a.Ra.push(e),e.ga(t.onlineState),a.Aa&&e.pa(a.Aa)&&Gp(t)}async function b0(n,e){const t=Pe(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const u=a.Ra.indexOf(e);u>=0&&(a.Ra.splice(u,1),a.Ra.length===0?s=e.ma()?0:1:!a.Va()&&e.ma()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function VR(n,e){const t=Pe(n);let r=!1;for(const s of e){const a=s.query,u=t.queries.get(a);if(u){for(const h of u.Ra)h.pa(s)&&(r=!0);u.Aa=s}}r&&Gp(t)}function LR(n,e,t){const r=Pe(n),s=r.queries.get(e);if(s)for(const a of s.Ra)a.onError(t);r.queries.delete(e)}function Gp(n){n.fa.forEach(e=>{e.next()})}var Wf,qy;(qy=Wf||(Wf={})).ya="default",qy.Cache="cache";class D0{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Jo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=Jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Wf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e){this.key=e}}class V0{constructor(e){this.key=e}}class OR{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Me(),this.mutatedKeys=Me(),this.Ua=Jw(e),this.Ka=new Uo(this.Ua)}get Wa(){return this.qa}Ga(e,t){const r=t?t.za:new Gy,s=t?t.Ka:this.Ka;let a=t?t.mutatedKeys:this.mutatedKeys,u=s,h=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((v,w)=>{const C=s.get(v),N=ud(this.query,w)?w:null,A=!!C&&this.mutatedKeys.has(C.key),L=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let O=!1;C&&N?C.data.isEqual(N.data)?A!==L&&(r.track({type:3,doc:N}),O=!0):this.ja(C,N)||(r.track({type:2,doc:N}),O=!0,(f&&this.Ua(N,f)>0||p&&this.Ua(N,p)<0)&&(h=!0)):!C&&N?(r.track({type:0,doc:N}),O=!0):C&&!N&&(r.track({type:1,doc:C}),O=!0,(f||p)&&(h=!0)),O&&(N?(u=u.add(N),a=L?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{Ka:u,za:r,ys:h,mutatedKeys:a}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const u=e.za.da();u.sort((v,w)=>function(N,A){const L=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Vt:O})}};return L(N)-L(A)}(v.type,w.type)||this.Ua(v.doc,w.doc)),this.Ha(r),s=s!=null&&s;const h=t&&!s?this.Ja():[],f=this.$a.size===0&&this.current&&!s?1:0,p=f!==this.Qa;return this.Qa=f,u.length!==0||p?{snapshot:new Jo(this.query,e.Ka,a,u,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:h}:{Ya:h}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new Gy,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Me(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new V0(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new M0(r))}),t}Xa(e){this.qa=e.Ns,this.$a=Me();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return Jo.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Hp="SyncEngine";class jR{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class FR{constructor(e){this.key=e,this.tu=!1}}class BR{constructor(e,t,r,s,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.nu={},this.ru=new Ms(h=>Xw(h),ld),this.iu=new Map,this.su=new Set,this.ou=new st(Ee.comparator),this._u=new Map,this.au=new Mp,this.uu={},this.cu=new Map,this.lu=Xo.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function UR(n,e,t=!0){const r=U0(n);let s;const a=r.ru.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.eu()):s=await L0(r,e,t,!0),s}async function zR(n,e){const t=U0(n);await L0(t,e,!0,!1)}async function L0(n,e,t,r){const s=await lR(n.localStore,pr(e)),a=s.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let h;return r&&(h=await $R(n,e,a,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&A0(n.remoteStore,s),h}async function $R(n,e,t,r,s){n.Pu=(w,C,N)=>async function(L,O,M,k){let V=O.view.Ga(M);V.ys&&(V=await jy(L.localStore,O.query,!1).then(({documents:j})=>O.view.Ga(j,V)));const $=k&&k.targetChanges.get(O.targetId),Q=k&&k.targetMismatches.get(O.targetId)!=null,J=O.view.applyChanges(V,L.isPrimaryClient,$,Q);return Ky(L,O.targetId,J.Ya),J.snapshot}(n,w,C,N);const a=await jy(n.localStore,e,!0),u=new OR(e,a.Ns),h=u.Ga(a.documents),f=Fl.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=u.applyChanges(h,n.isPrimaryClient,f);Ky(n,t,p.Ya);const v=new jR(e,t,u);return n.ru.set(e,v),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),p.snapshot}async function GR(n,e,t){const r=Pe(n),s=r.ru.get(e),a=r.iu.get(s.targetId);if(a.length>1)return r.iu.set(s.targetId,a.filter(u=>!ld(u,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Hf(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&jp(r.remoteStore,s.targetId),Kf(r,s.targetId)}).catch(sa)):(Kf(r,s.targetId),await Hf(r.localStore,s.targetId,!0))}async function HR(n,e){const t=Pe(n),r=t.ru.get(e),s=t.iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),jp(t.remoteStore,r.targetId))}async function qR(n,e,t){const r=ZR(n);try{const s=await function(u,h){const f=Pe(u),p=Ct.now(),v=h.reduce((N,A)=>N.add(A.key),Me());let w,C;return f.persistence.runTransaction("Locally write mutations","readwrite",N=>{let A=Jr(),L=Me();return f.Cs.getEntries(N,v).next(O=>{A=O,A.forEach((M,k)=>{k.isValidDocument()||(L=L.add(M))})}).next(()=>f.localDocuments.getOverlayedDocuments(N,A)).next(O=>{w=O;const M=[];for(const k of h){const V=lP(k,w.get(k.key).overlayedDocument);V!=null&&M.push(new Ki(k.key,V,Gw(V.value.mapValue),kn.exists(!0)))}return f.mutationQueue.addMutationBatch(N,p,M,h)}).next(O=>{C=O;const M=O.applyToLocalDocumentSet(w,L);return f.documentOverlayCache.saveOverlays(N,O.batchId,M)})}).then(()=>({batchId:C.batchId,changes:e0(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,h,f){let p=u.uu[u.currentUser.toKey()];p||(p=new st(ke)),p=p.insert(h,f),u.uu[u.currentUser.toKey()]=p}(r,s.batchId,t),await Ul(r,s.changes),await md(r.remoteStore)}catch(s){const a=$p(s,"Failed to persist write");t.reject(a)}}async function O0(n,e){const t=Pe(n);try{const r=await sR(t.localStore,e);e.targetChanges.forEach((s,a)=>{const u=t._u.get(a);u&&(Ge(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.tu=!0:s.modifiedDocuments.size>0?Ge(u.tu,14607):s.removedDocuments.size>0&&(Ge(u.tu,42227),u.tu=!1))}),await Ul(t,r,e)}catch(r){await sa(r)}}function Wy(n,e,t){const r=Pe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.ru.forEach((a,u)=>{const h=u.view.ga(e);h.snapshot&&s.push(h.snapshot)}),function(u,h){const f=Pe(u);f.onlineState=h;let p=!1;f.queries.forEach((v,w)=>{for(const C of w.Ra)C.ga(h)&&(p=!0)}),p&&Gp(f)}(r.eventManager,e),s.length&&r.nu.Q_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function WR(n,e,t){const r=Pe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r._u.get(e),a=s&&s.key;if(a){let u=new st(Ee.comparator);u=u.insert(a,Ht.newNoDocument(a,xe.min()));const h=Me().add(a),f=new hd(xe.min(),new Map,new st(ke),u,h);await O0(r,f),r.ou=r.ou.remove(a),r._u.delete(e),qp(r)}else await Hf(r.localStore,e,!1).then(()=>Kf(r,e,t)).catch(sa)}async function KR(n,e){const t=Pe(n),r=e.batch.batchId;try{const s=await iR(t.localStore,e);F0(t,r,null),j0(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Ul(t,s)}catch(s){await sa(s)}}async function QR(n,e,t){const r=Pe(n);try{const s=await function(u,h){const f=Pe(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return f.mutationQueue.lookupMutationBatch(p,h).next(w=>(Ge(w!==null,37113),v=w.keys(),f.mutationQueue.removeMutationBatch(p,w))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,v,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>f.localDocuments.getDocuments(p,v))})}(r.localStore,e);F0(r,e,t),j0(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Ul(r,s)}catch(s){await sa(s)}}function j0(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function F0(n,e,t){const r=Pe(n);let s=r.uu[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.uu[r.currentUser.toKey()]=s}}function Kf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.iu.get(e))n.ru.delete(r),t&&n.nu.Tu(r,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(r=>{n.au.containsKey(r)||B0(n,r)})}function B0(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(jp(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),qp(n))}function Ky(n,e,t){for(const r of t)r instanceof M0?(n.au.addReference(r.key,e),YR(n,r)):r instanceof V0?(me(Hp,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,e),n.au.containsKey(r.key)||B0(n,r.key)):Ae(19791,{Iu:r})}function YR(n,e){const t=e.key,r=t.path.canonicalString();n.ou.get(t)||n.su.has(r)||(me(Hp,"New document in limbo: "+t),n.su.add(r),qp(n))}function qp(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new Ee(Xe.fromString(e)),r=n.lu.next();n._u.set(r,new FR(t)),n.ou=n.ou.insert(t,r),A0(n.remoteStore,new Di(pr(Ip(t.path)),r,"TargetPurposeLimboResolution",id.le))}}async function Ul(n,e,t){const r=Pe(n),s=[],a=[],u=[];r.ru.isEmpty()||(r.ru.forEach((h,f)=>{u.push(r.Pu(f,e,t).then(p=>{var v;if((p||t)&&r.isPrimaryClient){const w=p?!p.fromCache:(v=t==null?void 0:t.targetChanges.get(f.targetId))===null||v===void 0?void 0:v.current;r.sharedClientState.updateQueryState(f.targetId,w?"current":"not-current")}if(p){s.push(p);const w=Lp.Ps(f.targetId,p);a.push(w)}}))}),await Promise.all(u),r.nu.Q_(s),await async function(f,p){const v=Pe(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>re.forEach(p,C=>re.forEach(C.ls,N=>v.persistence.referenceDelegate.addReference(w,C.targetId,N)).next(()=>re.forEach(C.hs,N=>v.persistence.referenceDelegate.removeReference(w,C.targetId,N)))))}catch(w){if(!oa(w))throw w;me(Op,"Failed to update sequence numbers: "+w)}for(const w of p){const C=w.targetId;if(!w.fromCache){const N=v.Ss.get(C),A=N.snapshotVersion,L=N.withLastLimboFreeSnapshotVersion(A);v.Ss=v.Ss.insert(C,L)}}}(r.localStore,a))}async function XR(n,e){const t=Pe(n);if(!t.currentUser.isEqual(e)){me(Hp,"User change. New user:",e.toKey());const r=await E0(t.localStore,e);t.currentUser=e,function(a,u){a.cu.forEach(h=>{h.forEach(f=>{f.reject(new he(ee.CANCELLED,u))})}),a.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ul(t,r.Ms)}}function JR(n,e){const t=Pe(n),r=t._u.get(e);if(r&&r.tu)return Me().add(r.key);{let s=Me();const a=t.iu.get(e);if(!a)return s;for(const u of a){const h=t.ru.get(u);s=s.unionWith(h.view.Wa)}return s}}function U0(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=O0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WR.bind(null,e),e.nu.Q_=VR.bind(null,e.eventManager),e.nu.Tu=LR.bind(null,e.eventManager),e}function ZR(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QR.bind(null,e),e}class Hc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fd(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return rR(this.persistence,new eR,e.initialUser,this.serializer)}Ru(e){return new w0(Vp.Ei,this.serializer)}Au(e){return new cR}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hc.provider={build:()=>new Hc};class ek extends Hc{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){Ge(this.persistence.referenceDelegate instanceof $c,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new FP(r,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new w0(r=>$c.Ei(r,t),this.serializer)}}class Qf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Wy(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=XR.bind(null,this.syncEngine),await bR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new MR}()}createDatastore(e){const t=fd(e.databaseInfo.databaseId),r=function(a){return new mR(a)}(e.databaseInfo);return function(a,u,h,f){return new _R(a,u,h,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,a,u,h){return new ER(r,s,a,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>Wy(this.syncEngine,t,0),function(){return Uy.C()?new Uy:new dR}())}createSyncEngine(e,t){return function(s,a,u,h,f,p,v){const w=new BR(s,a,u,h,f,p);return v&&(w.hu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const a=Pe(s);me(ks,"RemoteStore shutting down."),a.aa.add(5),await Bl(a),a.ca.shutdown(),a.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Qf.provider={build:()=>new Qf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Xr("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi="FirestoreClient";class tk{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Gt.UNAUTHENTICATED,this.clientId=Mw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{me(Hi,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(me(Hi,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=$p(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function mf(n,e){n.asyncQueue.verifyOperationInProgress(),me(Hi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await E0(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Qy(n,e){n.asyncQueue.verifyOperationInProgress();const t=await nk(n);me(Hi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>$y(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>$y(e.remoteStore,s)),n._onlineComponents=e}async function nk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){me(Hi,"Using user provided OfflineComponentProvider");try{await mf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===ee.FAILED_PRECONDITION||s.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Go("Error using user provided cache. Falling back to memory cache: "+t),await mf(n,new Hc)}}else me(Hi,"Using default OfflineComponentProvider"),await mf(n,new ek(void 0));return n._offlineComponents}async function $0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(me(Hi,"Using user provided OnlineComponentProvider"),await Qy(n,n._uninitializedComponentsProvider._online)):(me(Hi,"Using default OnlineComponentProvider"),await Qy(n,new Qf))),n._onlineComponents}function rk(n){return $0(n).then(e=>e.syncEngine)}async function G0(n){const e=await $0(n),t=e.eventManager;return t.onListen=UR.bind(null,e.syncEngine),t.onUnlisten=GR.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=zR.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=HR.bind(null,e.syncEngine),t}function ik(n,e,t={}){const r=new Hr;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,h,f,p){const v=new z0({next:C=>{v.yu(),u.enqueueAndForget(()=>b0(a,w));const N=C.docs.has(h);!N&&C.fromCache?p.reject(new he(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&C.fromCache&&f&&f.source==="server"?p.reject(new he(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(C)},error:C=>p.reject(C)}),w=new D0(Ip(h.path),v,{includeMetadataChanges:!0,Fa:!0});return N0(a,w)}(await G0(n),n.asyncQueue,e,t,r)),r.promise}function sk(n,e,t={}){const r=new Hr;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,h,f,p){const v=new z0({next:C=>{v.yu(),u.enqueueAndForget(()=>b0(a,w)),C.fromCache&&f.source==="server"?p.reject(new he(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(C)},error:C=>p.reject(C)}),w=new D0(h,v,{includeMetadataChanges:!0,Fa:!0});return N0(a,w)}(await G0(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(n,e,t){if(!t)throw new he(ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function ok(n,e,t,r){if(e===!0&&r===!0)throw new he(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Xy(n){if(!Ee.isDocumentKey(n))throw new he(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Jy(n){if(Ee.isDocumentKey(n))throw new he(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function gd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ae(12329,{type:typeof n})}function Yn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new he(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=gd(n);throw new he(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="firestore.googleapis.com",Zy=!0;class e_{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new he(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=W0,this.ssl=Zy}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Zy;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<OP)throw new he(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ok("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=H0((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vd{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new e_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new e_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new p1;switch(r.type){case"firstParty":return new y1(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Yy.get(t);r&&(me("ComponentProvider","Removing Datastore"),Yy.delete(t),r.terminate())}(this),Promise.resolve()}}function ak(n,e,t,r={}){var s;const a=(n=Yn(n,vd))._getSettings(),u=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),h=`${e}:${t}`;a.host!==W0&&a.host!==h&&Go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},a),{host:h,ssl:!1,emulatorOptions:r});if(!Kr(f,u)&&(n._setSettings(f),r.mockUserToken)){let p,v;if(typeof r.mockUserToken=="string")p=r.mockUserToken,v=Gt.MOCK_USER;else{p=TS(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new he(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Gt(w)}n._authCredentials=new m1(new bw(p,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ni(this.firestore,e,this._query)}}class Xt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xt(this.firestore,e,this._key)}}class Fi extends ni{constructor(e,t,r){super(e,t,Ip(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xt(this.firestore,null,new Ee(e))}withConverter(e){return new Fi(this.firestore,e,this._path)}}function Nn(n,e,...t){if(n=gt(n),q0("collection","path",e),n instanceof vd){const r=Xe.fromString(e,...t);return Jy(r),new Fi(n,null,r)}{if(!(n instanceof Xt||n instanceof Fi))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Xe.fromString(e,...t));return Jy(r),new Fi(n.firestore,null,r)}}function Nt(n,e,...t){if(n=gt(n),arguments.length===1&&(e=Mw.newId()),q0("doc","path",e),n instanceof vd){const r=Xe.fromString(e,...t);return Xy(r),new Xt(n,null,new Ee(r))}{if(!(n instanceof Xt||n instanceof Fi))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Xe.fromString(e,...t));return Xy(r),new Xt(n.firestore,n instanceof Fi?n.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="AsyncQueue";class n_{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new T0(this,"async_queue_retry"),this.ju=()=>{const r=pf();r&&me(t_,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const t=pf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=pf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new Hr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!oa(e))throw e;me(t_,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Xr("INTERNAL UNHANDLED ERROR: ",r_(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const s=zp.createAndSchedule(this,e,t,r,a=>this.Xu(a));return this.Uu.push(s),s}Ju(){this.Ku&&Ae(47125,{ec:r_(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function r_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Ls extends vd{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new n_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new n_(e),this._firestoreClient=void 0,await e}}}function lk(n,e){const t=typeof n=="object"?n:z_(),r=typeof n=="string"?n:Oc,s=dp(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=ES("firestore");a&&ak(s,...a)}return s}function Wp(n){if(n._terminated)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||uk(n),n._firestoreClient}function uk(n){var e,t,r;const s=n._freezeSettings(),a=function(h,f,p,v){return new D1(h,f,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,H0(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new tk(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zo(jt.fromBase64String(e))}catch(t){throw new he(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Zo(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=/^__.*__$/;class dk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ki(e,this.data,this.fieldMask,t,this.fieldTransforms):new jl(e,this.data,t,this.fieldTransforms)}}class K0{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ki(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Q0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{oc:n})}}class _d{constructor(e,t,r,s,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this._c(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new _d(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ac({path:r,cc:!1});return s.lc(e),s}hc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ac({path:r,cc:!1});return s._c(),s}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return qc(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(Q0(this.oc)&&ck.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class hk{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||fd(e)}dc(e,t,r,s=!1){return new _d({oc:e,methodName:t,Ec:r,path:Ot.emptyPath(),cc:!1,Ic:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zl(n){const e=n._freezeSettings(),t=fd(n._databaseId);return new hk(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Y0(n,e,t,r,s,a={}){const u=n.dc(a.merge||a.mergeFields?2:0,e,t,s);Zp("Data must be an object, but it was:",u,r);const h=Z0(r,u);let f,p;if(a.merge)f=new yn(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const w of a.mergeFields){const C=Yf(e,w,t);if(!u.contains(C))throw new he(ee.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);tE(v,C)||v.push(C)}f=new yn(v),p=u.fieldTransforms.filter(w=>f.covers(w.field))}else f=null,p=u.fieldTransforms;return new dk(new un(h),f,p)}class wd extends la{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wd}}function X0(n,e,t){return new _d({oc:3,Ec:e.settings.Ec,methodName:n._methodName,cc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Yp extends la{_toFieldTransform(e){return new Rp(e.path,new xl)}isEqual(e){return e instanceof Yp}}class Xp extends la{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=X0(this,e,!0),r=this.Ac.map(a=>Os(a,t)),s=new Qo(r);return new Rp(e.path,s)}isEqual(e){return e instanceof Xp&&Kr(this.Ac,e.Ac)}}class Jp extends la{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=X0(this,e,!0),r=this.Ac.map(a=>Os(a,t)),s=new Yo(r);return new Rp(e.path,s)}isEqual(e){return e instanceof Jp&&Kr(this.Ac,e.Ac)}}function fk(n,e,t,r){const s=n.dc(1,e,t);Zp("Data must be an object, but it was:",s,r);const a=[],u=un.empty();Wi(r,(f,p)=>{const v=em(e,f,t);p=gt(p);const w=s.hc(v);if(p instanceof wd)a.push(v);else{const C=Os(p,w);C!=null&&(a.push(v),u.set(v,C))}});const h=new yn(a);return new K0(u,h,s.fieldTransforms)}function pk(n,e,t,r,s,a){const u=n.dc(1,e,t),h=[Yf(e,r,t)],f=[s];if(a.length%2!=0)throw new he(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<a.length;C+=2)h.push(Yf(e,a[C])),f.push(a[C+1]);const p=[],v=un.empty();for(let C=h.length-1;C>=0;--C)if(!tE(p,h[C])){const N=h[C];let A=f[C];A=gt(A);const L=u.hc(N);if(A instanceof wd)p.push(N);else{const O=Os(A,L);O!=null&&(p.push(N),v.set(N,O))}}const w=new yn(p);return new K0(v,w,u.fieldTransforms)}function J0(n,e,t,r=!1){return Os(t,n.dc(r?4:3,e))}function Os(n,e){if(eE(n=gt(n)))return Zp("Unsupported field value:",e,n),Z0(n,e);if(n instanceof la)return function(r,s){if(!Q0(s.oc))throw s.Tc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Tc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,s){const a=[];let u=0;for(const h of r){let f=Os(h,s.Pc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,s){if((r=gt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return nP(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ct.fromDate(r);return{timestampValue:zc(s.serializer,a)}}if(r instanceof Ct){const a=new Ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zc(s.serializer,a)}}if(r instanceof Kp)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zo)return{bytesValue:h0(s.serializer,r._byteString)};if(r instanceof Xt){const a=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw s.Tc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Dp(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Qp)return function(u,h){return{mapValue:{fields:{[zw]:{stringValue:$w},[jc]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw h.Tc("VectorValues must only contain numeric values.");return Pp(h.serializer,p)})}}}}}}(r,s);throw s.Tc(`Unsupported field value: ${gd(r)}`)}(n,e)}function Z0(n,e){const t={};return Lw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wi(n,(r,s)=>{const a=Os(s,e.uc(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function eE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ct||n instanceof Kp||n instanceof Zo||n instanceof Xt||n instanceof la||n instanceof Qp)}function Zp(n,e,t){if(!eE(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=gd(t);throw r==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+r)}}function Yf(n,e,t){if((e=gt(e))instanceof yd)return e._internalPath;if(typeof e=="string")return em(n,e);throw qc("Field path arguments must be of type string or ",n,!1,void 0,t)}const mk=new RegExp("[~\\*/\\[\\]]");function em(n,e,t){if(e.search(mk)>=0)throw qc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new yd(...e.split("."))._internalPath}catch{throw qc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function qc(n,e,t,r,s){const a=r&&!r.isEmpty(),u=s!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new he(ee.INVALID_ARGUMENT,h+n+f)}function tE(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ed("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class gk extends tm{data(){return super.data()}}function Ed(n,e){return typeof e=="string"?em(n,e):e instanceof yd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new he(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nm{}class Cd extends nm{}function As(n,e,...t){let r=[];e instanceof nm&&r.push(e),r=r.concat(t),function(a){const u=a.filter(f=>f instanceof rm).length,h=a.filter(f=>f instanceof Td).length;if(u>1||u>0&&h>0)throw new he(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class Td extends Cd{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Td(e,t,r)}_apply(e){const t=this._parse(e);return nE(e._query,t),new ni(e.firestore,e.converter,Bf(e._query,t))}_parse(e){const t=zl(e.firestore);return function(a,u,h,f,p,v,w){let C;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new he(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){a_(w,v);const A=[];for(const L of w)A.push(o_(f,a,L));C={arrayValue:{values:A}}}else C=o_(f,a,w)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||a_(w,v),C=J0(h,u,w,v==="in"||v==="not-in");return mt.create(p,v,C)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Pl(n,e,t){const r=e,s=Ed("where",n);return Td._create(s,r,t)}class rm extends nm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new rm(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Qn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,a){let u=s;const h=a.getFlattenedFilters();for(const f of h)nE(u,f),u=Bf(u,f)}(e._query,t),new ni(e.firestore,e.converter,Bf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class im extends Cd{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new im(e,t)}_apply(e){const t=function(s,a,u){if(s.startAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Il(a,u)}(e._query,this._field,this._direction);return new ni(e.firestore,e.converter,function(s,a){const u=s.explicitOrderBy.concat([a]);return new Ds(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function i_(n,e="asc"){const t=e,r=Ed("orderBy",n);return im._create(r,t)}class sm extends Cd{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new sm(e,t,r)}_apply(e){return new ni(e.firestore,e.converter,Bc(e._query,this._limit,this._limitType))}}function s_(n){return sm._create("limit",n,"F")}class om extends Cd{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new om(e,t,r)}_apply(e){const t=_k(e,this.type,this._docOrFields,this._inclusive);return new ni(e.firestore,e.converter,function(s,a){return new Ds(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,a,s.endAt)}(e._query,t))}}function yk(...n){return om._create("startAfter",n,!1)}function _k(n,e,t,r){if(t[0]=gt(t[0]),t[0]instanceof tm)return function(a,u,h,f,p){if(!f)throw new he(ee.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const v=[];for(const w of Bo(a))if(w.field.isKeyField())v.push(Fc(u,f.key));else{const C=f.data.field(w.field);if(od(C))throw new he(ee.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+w.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(C===null){const N=w.field.canonicalString();throw new he(ee.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${N}' (used as the orderBy) does not exist.`)}v.push(C)}return new Ko(v,p)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const s=zl(n.firestore);return function(u,h,f,p,v,w){const C=u.explicitOrderBy;if(v.length>C.length)throw new he(ee.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const N=[];for(let A=0;A<v.length;A++){const L=v[A];if(C[A].field.isKeyField()){if(typeof L!="string")throw new he(ee.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof L}`);if(!xp(u)&&L.indexOf("/")!==-1)throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${L}' contains a slash.`);const O=u.path.child(Xe.fromString(L));if(!Ee.isDocumentKey(O))throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${O}' is not because it contains an odd number of segments.`);const M=new Ee(O);N.push(Fc(h,M))}else{const O=J0(f,p,L);N.push(O)}}return new Ko(N,w)}(n._query,n.firestore._databaseId,s,e,t,r)}}function o_(n,e,t){if(typeof(t=gt(t))=="string"){if(t==="")throw new he(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xp(e)&&t.indexOf("/")!==-1)throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Xe.fromString(t));if(!Ee.isDocumentKey(r))throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Fc(n,new Ee(r))}if(t instanceof Xt)return Fc(n,t._key);throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gd(t)}.`)}function a_(n,e){if(!Array.isArray(n)||n.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nE(n,e){const t=function(s,a){for(const u of s)for(const h of u.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class wk{convertValue(e,t="none"){switch($i(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Wi(e,(s,a)=>{r[s]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,s;const a=(s=(r=(t=e.fields)===null||t===void 0?void 0:t[jc].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>ut(u.doubleValue));return new Qp(a)}convertGeoPoint(e){return new Kp(ut(e.latitude),ut(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ad(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Tl(e));default:return null}}convertTimestamp(e){const t=Ui(e);return new Ct(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Xe.fromString(e);Ge(y0(r),9688,{name:e});const s=new Sl(r.get(1),r.get(3)),a=new Ee(r.popFirst(5));return s.isEqual(t)||Xr(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class iE extends tm{constructor(e,t,r,s,a,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ac(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Ed("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Ac extends iE{data(e={}){return super.data(e)}}class Ek{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new hl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ac(this._firestore,this._userDataWriter,r.key,r,new hl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(h=>{const f=new Ac(s._firestore,s._userDataWriter,h.doc.key,h.doc,new hl(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const f=new Ac(s._firestore,s._userDataWriter,h.doc.key,h.doc,new hl(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,v=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),v=u.indexOf(h.doc.key)),{type:Ck(h.type),doc:f,oldIndex:p,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Ck(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(n){n=Yn(n,Xt);const e=Yn(n.firestore,Ls);return ik(Wp(e),n._key).then(t=>Tk(e,n,t))}class sE extends wk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xt(this.firestore,null,t)}}function qr(n){n=Yn(n,ni);const e=Yn(n.firestore,Ls),t=Wp(e),r=new sE(e);return vk(n._query),sk(t,n._query).then(s=>new Ek(e,r,n,s))}function oE(n,e,t){n=Yn(n,Xt);const r=Yn(n.firestore,Ls),s=rE(n.converter,e);return Sd(r,[Y0(zl(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,kn.none())])}function Lo(n,e,t,...r){n=Yn(n,Xt);const s=Yn(n.firestore,Ls),a=zl(s);let u;return u=typeof(e=gt(e))=="string"||e instanceof yd?pk(a,"updateDoc",n._key,e,t,r):fk(a,"updateDoc",n._key,e),Sd(s,[u.toMutation(n._key,kn.exists(!0))])}function Xf(n){return Sd(Yn(n.firestore,Ls),[new kp(n._key,kn.none())])}function aE(n,e){const t=Yn(n.firestore,Ls),r=Nt(n),s=rE(n.converter,e);return Sd(t,[Y0(zl(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,kn.exists(!1))]).then(()=>r)}function Sd(n,e){return function(r,s){const a=new Hr;return r.asyncQueue.enqueueAndForget(async()=>qR(await rk(r),s,a)),a.promise}(Wp(n),e)}function Tk(n,e,t){const r=t.docs.get(e._key),s=new sE(n);return new iE(n,s,e._key,r,new hl(t.hasPendingWrites,t.fromCache),e.converter)}function lE(){return new Yp("serverTimestamp")}function uE(...n){return new Xp("arrayUnion",n)}function cE(...n){return new Jp("arrayRemove",n)}(function(e,t=!0){(function(s){ia=s})(na),$o(new Is("firestore",(r,{instanceIdentifier:s,options:a})=>{const u=r.getProvider("app").getImmediate(),h=new Ls(new g1(r.getProvider("auth-internal")),new _1(u,r.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new he(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sl(p.options.projectId,v)}(u,s),u);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),Oi(ly,uy,e),Oi(ly,uy,"esm2017")})();const Sk={apiKey:"AIzaSyCvNmPkmwMeq7LMbiTkUKpXDn6tXO_GcVQ",authDomain:"samga-2ba55.firebaseapp.com",projectId:"samga-2ba55",storageBucket:"samga-2ba55.appspot.com",messagingSenderId:"650876987710",appId:"1:650876987710:web:xxxxx"},dE=U_(Sk),ct=h1(dE),qe=lk(dE);function Ak(){const[n,e]=B.useState(null),t=Xn(),[r,s]=B.useState(!1),u=qi().pathname.startsWith("/store/"),h=()=>{s(p=>!p)};B.useEffect(()=>{const p=ex(ct,v=>{e(v)});return()=>p()},[]);const f=async()=>{await tx(ct),t("/")};return _.jsxs("header",{className:u?"header white":"header",children:[_.jsxs("div",{className:"header-inner-pc",children:[_.jsx("div",{className:"logo",onClick:()=>t("/"),children:_.jsx("img",{src:"/SAMGA-V2/img/logo/logo.svg",alt:"로고",className:"logo"})}),_.jsx("nav",{className:"nav",children:_.jsxs("ul",{className:"nav-list",children:[_.jsx("li",{children:"牛리마을 소개"}),_.jsx("li",{onClick:()=>t("/storefilterpage"),children:"식육식당"}),_.jsx("li",{onClick:()=>t("/review"),children:"리뷰"})]})}),_.jsx("div",{className:"user-menu",children:n?_.jsxs(_.Fragment,{children:[_.jsx("span",{onClick:()=>t("/mypage"),className:"clickable",children:"마이페이지"}),_.jsx("span",{onClick:f,className:"clickable",children:"로그아웃"})]}):_.jsxs(_.Fragment,{children:[_.jsx("span",{onClick:()=>t("/signup"),className:"clickable",children:"회원가입"}),_.jsx("span",{onClick:()=>t("/login"),className:"clickable",children:"로그인"})]})})]}),_.jsxs("div",{className:"header-inner-m",children:[_.jsxs("div",{className:"top-row",children:[_.jsx("div",{className:"logo",onClick:()=>t("/"),children:_.jsx("img",{src:"/SAMGA-V2/img/logo/logo.svg",alt:"로고",className:"logo"})}),_.jsxs("div",{className:"mobile-menu-icon",onClick:h,children:[_.jsx("span",{}),_.jsx("span",{}),_.jsx("span",{})]})]}),_.jsx("div",{className:`mobile-user-menu ${r?"open":""}`,children:n?_.jsxs(_.Fragment,{children:[_.jsx("span",{onClick:()=>t("/mypage"),children:"마이페이지"}),_.jsx("span",{onClick:f,children:"로그아웃"})]}):_.jsxs(_.Fragment,{children:[_.jsx("span",{onClick:()=>t("/signup"),children:"회원가입"}),_.jsx("span",{onClick:()=>t("/login"),children:"로그인"})]})}),_.jsx("nav",{className:"nav",children:_.jsxs("ul",{className:"nav-list",children:[_.jsx("li",{children:"소개"}),_.jsx("li",{onClick:()=>t("/storefilterpage"),children:"식육식당"}),_.jsx("li",{onClick:()=>t("/review"),children:"리뷰"})]})})]})]})}const Le=[{name:"대가1호점",lat:35.411016,lng:128.124549,address:"경남 합천군 삼가면 일부3길 8",phone:"055-931-0688",hours:"매일 11:00 - 18:00 / 매주 월요일 휴무",point:"고기 품절 시 조기 마감",options:["주문배송","무료wifi","남여화장실구분","단체이용예약가능","주차장","제로페이","유아의자"],image:"/SAMGA-V2/samga/store/대가1호점_디테일_1.png",detailimage:"/SAMGA-V2/samga/store/대가1호점_landing_detail.jpg",description:`이름이 주는 전통,
 대를 이어 맛을 지켜가겠습니다.`,story:`대가 식육식당 창업주인 장남이 운영하는 식당으로 
 카페 플로리안도 같이 운영하고 있다. 
 한우 식당들이 모여있는 삼가시장이나 삼가1로에서 뚝 떨어져있지만 넓은 주차장과 
 눈에 띄는 독특한 조경들이 있어 많은 손님들이 다시 찾는 가게이다. 
 "아버지랑은 다르지요. 아버지는 손님이 왔으면 뭐라도 드려야한다 생각하고, 
 나는 원하는 것을 드릴 수 없으면 안 드리는게 그 분을 위한 것이라 생각합니다. 
 1세대 경영과 2세대 경영의 차이랄까요?" 
 이렇게 말하는 이 대표의 차이는 세대와 페러다임의 변화 때문일 것이다. 
 그 변화 속에서 현재 이곳에 맞는 최적화가 이루어지고 있는 것이다.`,logo:"/SAMGA-V2/samga/logo/대가1호점_logo.png",hashtag:["#한우맛집","#가족과 함께","#단체손님"],slogan:`이름이 주는 전통
 대를 이어 맛을 
 지켜가겠습니다.`,slogan2:'"가장 최고로 준비해 드릴 수 없을 때는 문을 닫습니다."',detailImagelist:["/SAMGA-V2/samga/store/deaga1/대가1호점상세페이지_M_1.jpg","/SAMGA-V2/samga/store/deaga1/대가1호점상세페이지_M_2.jpg","/SAMGA-V2/samga/store/deaga1/대가1호점상세페이지_M_3.jpg","/SAMGA-V2/samga/store/deaga1/대가1호점상세페이지_PC_1.jpg","/SAMGA-V2/samga/store/deaga1/대가1호점상세페이지_PC_2.jpg","/SAMGA-V2/samga/store/deaga1/대가1호점상세페이지_PC_3.jpg"]},{name:"대가식육식당",lat:35.413238,lng:128.122724,address:"경남 합천군 삼가면 삼가중앙길 24-7",phone:"055-932-8249",hours:"매일 11:00 - 19:30 / 매주 월요일 휴무",options:["주문배송","단체이용예약가능","무료wifi","예약가능","제로페이","일반식사메뉴","주차장","남여화장실구분","유아의자","포장가능"],image:"/SAMGA-V2/samga/store/대가식육식당_디테일_1.png",detailimage:"/SAMGA-V2/samga/store/대가1호점_landing_detail.jpg",description:`좋은 고기를 다루는 건 
기술이 아니라 신념이다.`,story:"",logo:"/SAMGA-V2/samga/logo/대가식육식당_logo.png",hashtag:["#한우맛집","#가족과 함께","#단체손님"],slogan:`좋은 고기를
 다루는건
 기술이 아니라,
  신념이다.`},{name:"대가한우",lat:35.413032,lng:128.125073,address:"경남 합천군 삼가면 삼가로 353",phone:"055-932-1106",hours:"매일 10:30 - 19:30 / 매주 월요일 휴무",options:["주문배송","남여화장실구분","단체이용예약가능","무료wifi","예약가능","주차장","제로페이","유아의자","포장가능","일반식사메뉴"],image:"/SAMGA-V2/samga/store/대가한우_디테일_1.png",detailimage:"/SAMGA-V2/samga/store/대가한우_landing_detail.jpg",description:`맛있는 고기에는 늘 이유가 있다.
그 이유를 고집한다.`,story:"",logo:"/SAMGA-V2/samga/logo/대가한우_logo.png",hashtag:["#한우맛집","#가족과 함께","#단체손님"],slogan:`맛있는 고기는
 늘 이유가 있다
 그 이유를 고집한다`,slogan2:'"가장 최고로 준비해 드릴 수 없을 때는 문을 닫습니다."',detailImagelist:["/SAMGA-V2/samga/store/deagaH/대가한우상세페이지_M_1.jpg","/SAMGA-V2/samga/store/deagaH/대가한우상세페이지_M_2.jpg","/SAMGA-V2/samga/store/deagaH/대가한우상세페이지_M_3.jpg","/SAMGA-V2/samga/store/deagaH/대가한우상세페이지_PC_1.jpg","/SAMGA-V2/samga/store/deagaH/대가한우상세페이지_PC_2.jpg","/SAMGA-V2/samga/store/deagaH/대가한우상세페이지_PC_3.jpg"]},{name:"대산식육식당",lat:35.413304,lng:128.123713,address:"경남 합천군 삼가1로 104",phone:"055-932-0289",hours:"매일 10:30 - 19:30 / 매주 월요일 휴무",options:["남여화장실구분","단체이용예약가능","예약가능","주문배송","무료wifi"],image:"/SAMGA-V2/samga/store/대산식육식당_디테일_1.png",detailimage:"/SAMGA-V2/samga/store/대가1호점_landing_detail.jpg",description:`엄마 손맛에
 고기의 자부심을 더하다.`,story:"",logo:"/SAMGA-V2/samga/logo/대산식육식당_logo.png",hashtag:["#한우맛집","#가족과 함께","#단체손님"],slogan:`엄마 손맛에
 고기의 자부심을 
더하다.`},{name:"대웅식육식당",lat:35.412476,lng:128.124175,address:"경남 합천군 삼가면 345-1",phone:"055-933-5566",hours:"매일 11:00 - 18:00 / 매주 월요일 휴무",point:"고기 품절 시 조기 마감",options:["주문배송","무료wifi","예약가능","단체이용예약가능","남여화장실구분","일반식사메뉴","주차장","유아의자","제로페이","포장가능"],image:"/SAMGA-V2/samga/store/대웅식육식당_1.JPG",detailimage:"/SAMGA-V2/samga/store/대가1호점_landing_detail.jpg",description:`땅에서 키운 정성
 접시에 담긴 진심`,story:"",logo:"/SAMGA-V2/samga/logo/대웅식육식당_logo.png",hashtag:["#한우맛집","#가족과 함께","#단체손님"],slogan:`땅에서 키운 정성
 접시에 담긴 진심`},{name:"도원식육식당",lat:35.4145,lng:128.1234,address:"경남 합천군 삼가중앙길 40",phone:"055-932-9595",hours:"매일 10:30 - 19:30 / 유동적 휴일 운영",options:["무료wifi","주문배송","포장가능","주차장","남여화장실구분","일반식사메뉴","제로페이","유아의자"],image:"/SAMGA-V2/samga/store/도원식육식당_1.JPG",detailimage:"/SAMGA-V2/samga/store/도원식육식당_landing_detail.jpg",description:`평점보다 더 정확한 건,
 믿고 듣는 입소문. `,story:"",logo:"/SAMGA-V2/samga/logo/도원식육식당_logo.png",hashtag:["#한우맛집","#가족과 함께","#단체손님"],slogan:`평점보다
 더 정확한건
 믿고 듣는 입소문.`,detailImagelist:["/SAMGA-V2/samga/store/dowon/도원식육식당상세페이지_M_1.jpg","/SAMGA-V2/samga/store/dowon/도원식육식당상세페이지_M_2.jpg","/SAMGA-V2/samga/store/dowon/도원식육식당상세페이지_M_3.jpg","/SAMGA-V2/samga/store/dowon/도원식육식당상세페이지_PC_1.jpg","/SAMGA-V2/samga/store/dowon/도원식육식당상세페이지_PC_2.jpg","/SAMGA-V2/samga/store/dowon/도원식육식당상세페이지_PC_3.jpg"]},{name:"미로식육식당",lat:35.412652,lng:128.123201,address:"경남 합천군 삼가면 일부5길 6-5 1층",phone:"055-933-7744",hours:"매일 10:00 - 19:30 / 유동적 휴일 운영",options:["무료wifi","주문배송","포장가능","주차장","남여화장실구분","일반식사메뉴","제로페이","유아의자","단체이용예약가능"],image:"/SAMGA-V2/samga/store/미로식육식당_1.JPG",detailimage:"/SAMGA-V2/samga/store/대가1호점_landing_detail.jpg",description:`미로 속,
 오직 맛으로 찾는 곳.`,story:"",logo:"/SAMGA-V2/samga/logo/미로식육식당_logo.png",hashtag:["#한우맛집","#가족과 함께","#단체손님"],slogan:`미로 속,
  오직 맛으로
 찾는 곳.`},{name:"불난가 한우",lat:35.414209,lng:128.120978,address:"경남 합천군 삼가면 삼가중앙1길 38",phone:"055-932-4623",hours:"매일 10:30 - 19:30 / 매주 월요일 휴무",options:["무료wifi","주문배송","포장가능","주차장","남여화장실구분","일반식사메뉴","제로페이","유아의자","단체이용예약가능"],image:"/SAMGA-V2/samga/store/불난가한우_1.jpg",detailimage:"/SAMGA-V2/samga/store/대가1호점_landing_detail.jpg",description:`소개해 준 친구에게 고마운 집,
 불이 붙을 만한 이유가 있다.`,story:"",logo:"/SAMGA-V2/samga/logo/불난가한우_logo.png",hashtag:["#한우맛집","#가족과 함께","#단체손님"],slogan:`소개해 준 친구에게
 고마운 집,
 불이 붙을 만한
 이유가 있다.`},{name:"삼가명품한우",lat:35.412749,lng:128.119125,address:"경남 합천군 삼가면 서부로 39",phone:"055-931-5004",hours:"매일 11:00 - 20:00 / 매주 수요일 휴무",point:"15:00 -  17:00 브레이크 타임",options:["무료wifi","주문배송","포장가능","주차장","남여화장실구분","일반식사메뉴","유아의자","단체이용예약가능"],image:"/SAMGA-V2/samga/store/삼가명품한우_1.jpg",detailimage:"/SAMGA-V2/samga/store/대가1호점_landing_detail.jpg",description:`최고가 아니면
 판매하지 않습니다.`,story:"",logo:"/SAMGA-V2/samga/logo/삼가명품한우_logo.png",hashtag:["#한우맛집","#가족과 함께","#단체손님"],slogan:`최고가 아니면
 판매하지 않습니다.`},{name:"상구한우",lat:35.413601,lng:128.122624,address:"경남 합천군 삼가면 삼가중앙길 26 1층",phone:"055-933-3969",hours:"매일 10:00 - 19:00 / 매주 화요일 휴무, 삼가 장날은 수요일 휴무",options:["무료wifi","주문배송","포장가능","주차장","남여화장실구분","일반식사메뉴","제로페이","유아의자","단체이용예약가능"],image:"/SAMGA-V2/samga/store/상구한우_1.jpg",detailimage:"/SAMGA-V2/samga/store/상구한우_landing_detail.jpg",description:`일상 속 고깃집,
 그러나 결코 평범하지 않은 맛.`,story:"",logo:"/SAMGA-V2/samga/logo/상구한우_logo.png",hashtag:["#한우맛집","#가족과 함께","#단체손님"],slogan:`일상 속 고깃집,
 그러나 결코
 평범하지 않은 맛.`,detailImagelist:["/SAMGA-V2/samga/store/sanggu/상구한우상세페이지_M_1.jpg","/SAMGA-V2/samga/store/sanggu/상구한우상세페이지_M_2.jpg","/SAMGA-V2/samga/store/sanggu/상구한우상세페이지_M_3.jpg","/SAMGA-V2/samga/store/sanggu/상구한우상세페이지_PC_1.jpg","/SAMGA-V2/samga/store/sanggu/상구한우상세페이지_PC_2.jpg","/SAMGA-V2/samga/store/sanggu/상구한우상세페이지_PC_3.jpg"]},{name:"태영한우",lat:35.413468,lng:128.123151,address:"경남 합천군 삼가면 일부5길 11",phone:"0507-1384-9399",hours:"매일 10:30 - 19:30 / 매주 월요일 휴무",options:[""],image:"/SAMGA-V2/samga/store/태영한우_1.jpg",detailimage:"/SAMGA-V2/samga/store/대가1호점_landing_detail.jpg",description:`깔끔한 공간, 신선한 고기,
젊은 입맛 사로잡다.`,story:"",logo:"/SAMGA-V2/samga/logo/태영한우_logo.png",hashtag:["#한우맛집","#가족과 함께","#단체손님"],slogan:`깔끔한 공간,
 신선한 고기,
젊은 입맛 사로잡다.`}];function Ik(){const n=Xn(),[e,t]=B.useState("");B.useEffect(()=>{(async()=>{const a=ct.currentUser;if(!a)return;const u=await gr(Nt(qe,"users",a.uid));u.exists()&&t(u.data().storeId||"")})()},[]);const r=async s=>{const a=ct.currentUser;if(!a){alert("로그인이 필요합니다.");return}const u=await gr(Nt(qe,"users",a.uid));if(!u.exists()){alert("유저 정보를 찾을 수 없습니다.");return}const h=u.data(),f=h.storeId;if(h.role!=="owner"||f!==s){alert("접근 권한이 없습니다!"),console.log(f,"dfsdfd",s);return}n(`/admin/${s}`)};return _.jsx("footer",{className:"custom-footer",children:_.jsxs("div",{className:"footer-inner",children:[_.jsxs("div",{className:"footer-column left",children:[_.jsx("img",{src:"/SAMGA-V2/img/logo/logo.svg",alt:"우리마을삼가 로고",className:"footer-logo"}),_.jsxs("p",{children:["대표 : 합천군 도시재생지원 센터",_.jsx("br",{}),"사업자 등록번호 : -",_.jsx("br",{}),"주소 : 50223 경상남도 합천군 삼가면 삼가1로 100",_.jsx("br",{}),"팩스 : -",_.jsx("br",{}),"이메일 : 000@gmail.com",_.jsx("br",{})]}),_.jsxs("ul",{className:"footer-links",children:[_.jsx("li",{children:_.jsx("a",{children:"회사소개"})}),_.jsx("li",{children:_.jsx("a",{children:"이용약관"})}),_.jsx("li",{children:_.jsx("a",{children:"개인정보처리방침"})}),_.jsx("li",{children:_.jsx("a",{children:"이용안내"})})]}),_.jsxs("div",{className:"footer-sns",children:[_.jsx("a",{children:"f"}),_.jsx("a",{children:"i"}),_.jsx("a",{children:"k"})]}),_.jsxs("p",{className:"copyright",children:["Copyright © 우리마을삼가. All rights reserved.",_.jsx("br",{}),"호스팅 by Cafe24 | 디자인 by NAON"]})]}),_.jsxs("div",{className:"footer-column store",children:[_.jsx("h4",{children:"가게 리스트"}),_.jsxs("ul",{className:"store-list",children:[_.jsx("li",{children:"대가1호점"}),_.jsx("li",{children:"대가식육식당"}),_.jsx("li",{children:"대가한우"}),_.jsx("li",{children:"대산식육식당"}),_.jsx("li",{children:"대웅식육식당"}),_.jsx("li",{children:"도원식육식당"}),_.jsx("li",{children:"미로식육식당"}),_.jsx("li",{children:"불난가한우"}),_.jsx("li",{children:"삼가명품한우"}),_.jsx("li",{children:"상구한우"}),_.jsx("li",{children:"태영한우"})]})]}),_.jsxs("div",{className:"footer-column tourism",children:[_.jsx("h4",{children:"주변관광지"}),_.jsxs("ul",{className:"tour-list",children:[_.jsx("li",{children:_.jsx("a",{href:"https://blog.naver.com/hc-urc/222571944010",target:"_blank",rel:"noopener noreferrer",children:"삼가특화거리"})}),_.jsx("li",{children:_.jsx("a",{href:"https://www.hc.go.kr/09418/09425/09833.web",target:"_blank",rel:"noopener noreferrer",children:"황매산"})}),_.jsx("li",{children:_.jsx("a",{href:"https://www.youtube.com/watch?v=DjprccTSapc",target:"_blank",rel:"noopener noreferrer",children:"정양늪"})}),_.jsx("li",{children:_.jsx("a",{href:"https://www.youtube.com/watch?v=ZLch32VzUb0",target:"_blank",rel:"noopener noreferrer",children:"삼가시장"})}),_.jsx("li",{children:_.jsx("a",{href:"https://hcmoviethemepark.com/",target:"_blank",rel:"noopener noreferrer",children:"합천영상테마파크"})})]})]}),_.jsxs("div",{className:"footer-column manager",children:[_.jsx("h4",{children:"가게 관리자 페이지"}),_.jsx("ul",{className:"manager-list",children:Le.map((s,a)=>_.jsx("li",{onClick:()=>r(`store${a+1}`),style:{cursor:"pointer",marginBottom:"4px"},children:s.name},a))})]})]})})}const xk={대가1호점:[{text:"‘대가 1호점’은",className:"deaga1-1"},{text:`질 좋은 고기를 잘 샀을때
손님을 모시고,
그때 내어드려라`,className:"deaga1-2"},{text:`고요한 숲 속의
분위기 속 카페
플로리안`,className:"deaga1-3"}],대가한우:[{text:`고기는 눈으로보고, 
 손으로 만져봐야 진짜를 안다`,className:"deagaH1"},{text:`현장부터 다져온
좋은 고기를 알아보는 안목`,className:"deagaH2"},{text:"기본에 충실한 식사 한끼",className:"deagaH3"}],도원식육식당:[{text:"‘도원 식육식당’은",className:"dowon1"},{text:`고기의 본질은 결국
‘고기’
그 자체입니다.`,className:"dowon2"},{text:`우리집 식탁에서
만나 볼 수 있는 삼가 한우`,className:"dowon3"}],상구한우:[{text:`삼가시장 한가운데 
 자리한 ‘상구한우’는 `,className:"sanggu1"},{text:`처음 오신 분도,
오래된 단골 손님도 
편하게 들렸다 마음 놓고 
푸짐하게 드실수 있는곳`,className:"sanggu2"},{text:`다양한 메뉴
취향 따라 고르는 재미`,className:"sanggu3"}]},Pk=["가게메뉴","상차림","편의시설"];function Rk(){var x;const{name:n}=ip(),e=decodeURIComponent(n||""),t=Le.find(I=>I.name===e),[r,s]=B.useState("가게메뉴"),[a,u]=B.useState(!1),h=xk[t.name]||[],f=Xn(),[p,v]=B.useState(!1),w=`store${Le.indexOf(t)+1}`,[C,N]=B.useState({});Le.findIndex(I=>I.name===t.name);const A=((x=C[w])==null?void 0:x.average)||0,L=async I=>{const P=As(Nn(qe,"reviews"),Pl("storeId","==",I)),ne=(await qr(P)).docs.map(H=>H.data()),ie=ne.length,se=ne.reduce((H,te)=>H+(te.star||0),0);return{average:ie?se/ie:0,count:ie}};B.useEffect(()=>{(async()=>{if(!t)return;const P=Le.findIndex(ie=>ie.name===t.name);if(P===-1)return;const R=`store${P+1}`,ne=await L(R);N(ie=>({...ie,[R]:ne}))})()},[t]);const[O,M]=B.useState([]);B.useEffect(()=>{(async()=>{const P=`store${Le.findIndex(se=>se.name===t.name)+1}`,R=As(Nn(qe,"reviews"),Pl("storeId","==",P)),ie=(await qr(R)).docs.map(se=>({id:se.id,...se.data()}));M(ie)})()},[t]);const[k,V]=B.useState({});B.useEffect(()=>{const I=async()=>{const P={};for(const R of O){const ne=await qr(Nn(qe,"reviews",R.id,"comments"));P[R.id]=ne.docs.map(ie=>({id:ie.id,...ie.data()}))}V(P)};O.length>0&&I()},[O]);const $={주문배송:"/SAMGA-V2/img/amenities/주문배송.svg",무료wifi:"/SAMGA-V2/img/amenities/무료wifi.svg",남여화장실구분:"/SAMGA-V2/img/amenities/남여화장실구분.svg",단체이용예약가능:"/SAMGA-V2/img/amenities/단체이용예약가능.svg",주차장:"/SAMGA-V2/img/amenities/주차장.svg",제로페이:"/SAMGA-V2/img/amenities/제로페이.svg",유아의자:"/SAMGA-V2/img/amenities/유아의자.svg"},J={가게메뉴:"menu",상차림:"side",편의시설:"amenities"}[r],b=Array.from({length:10},(I,P)=>`${e}_${P+1}`);if(!t)return _.jsx("div",{children:"가게 정보를 찾을 수 없습니다."});B.useEffect(()=>{(async()=>{const P=ct.currentUser;if(!P||!w)return;const R=Nt(qe,"favorites",w,"users",P.uid),ne=await gr(R);v(ne.exists())})()},[w]);const T=async()=>{const I=ct.currentUser;if(!I)return alert("로그인 후 이용해주세요.");const P=await gr(Nt(qe,"users",I.uid));if(!P.exists())return alert("유저 정보가 없습니다.");const{nickname:R,phone:ne}=P.data(),ie=Nt(qe,"favorites",w,"users",I.uid);(await gr(ie)).exists()?(await Xf(ie),v(!1),alert("단골이 해제되었습니다!")):(await oE(ie,{nickname:R,phone:ne,createdAt:new Date}),v(!0),alert("단골로 등록되었습니다!"))};return console.log(t.detailImagelist),_.jsxs("div",{className:"store-detail-wrapper",children:[_.jsx("div",{className:"store-hero-image",style:{backgroundImage:`url(${t.detailimage})`}}),_.jsxs("div",{className:"store-info-card",children:[_.jsx("img",{src:t.logo,alt:"로고",className:"store-main-logo"}),_.jsxs("div",{className:"store-name-stars",children:[_.jsx("h2",{className:"store-name",children:t.name}),_.jsxs("div",{className:"star-icons",children:[[...Array(5)].map((I,P)=>{const R=P+1;let ne="";return A>=R?ne="/SAMGA-V2/img/icon/단골등록해제.svg":A+.5>=R?ne="/SAMGA-V2/img/icon/반쪽자리별.svg":ne="/SAMGA-V2/img/icon/단골등록.svg",_.jsx("img",{src:ne,alt:"별",style:{width:"18px",height:"18px",marginRight:"2px"}},P)}),_.jsxs("span",{style:{marginLeft:"6px",fontSize:"14px",color:"#444"},children:[A.toFixed(1),"점"]})]})]}),_.jsxs("div",{className:"store-detail",children:[_.jsx("span",{className:"label",children:"영업시간 :"})," ",t.hours.split("/")[0],t.point&&_.jsxs("span",{className:"point",children:[" ※ ",t.point]})]}),_.jsxs("div",{className:"store-detail",children:[_.jsx("span",{className:"label",children:"휴무 :"})," ",t.hours.split("/")[1].replace("휴무","")]}),_.jsxs("div",{className:"store-actions",children:[_.jsx("div",{className:"action-item",children:_.jsxs("a",{href:`https://map.kakao.com/?q=${encodeURIComponent(t.name)}`,target:"_blank",rel:"noopener noreferrer",children:[_.jsx("img",{src:"/SAMGA-V2/img/icon/길찾기.svg",alt:"길찾기"}),_.jsx("span",{children:"길찾기"})]})}),_.jsxs("div",{className:"action-item",children:[_.jsx("img",{src:"/SAMGA-V2/img/icon/공유하기.svg",alt:"공유하기"}),_.jsx("span",{children:"공유하기"})]}),_.jsxs("div",{className:"action-item",onClick:T,children:[_.jsx("img",{src:p?"/SAMGA-V2/img/icon/단골등록해제.svg":"/SAMGA-V2/img/icon/단골등록.svg",alt:p?"단골해제":"단골등록"}),_.jsx("span",{children:p?"단골해제":"단골등록"})]}),_.jsxs("div",{className:"action-item",children:[_.jsx("img",{src:"/SAMGA-V2/img/icon/리뷰쓰기.svg",alt:"리뷰쓰기"}),_.jsx("span",{onClick:()=>f("/write"),children:"리뷰쓰기"})]})]}),_.jsxs("div",{className:"facility-section",children:[_.jsx("div",{className:"facility-title",children:"편의시설"}),_.jsx("div",{className:"facility-icons",children:(a?t.options:t.options.slice(0,4)).map(I=>$[I]&&_.jsxs("div",{className:"facility-icon",children:[_.jsx("div",{className:`facility-icon-img-wrapper ${I==="무료wifi"?"wifi-padding":""}`,children:_.jsx("img",{src:$[I],alt:I})}),_.jsx("p",{children:I})]},I))}),_.jsx("div",{className:"button-location",children:t.options.length>4&&_.jsx("button",{className:"more-button",onClick:()=>u(I=>!I),children:a?"간략히 보기 ▲":`+${t.options.length-4}개 더보기 ▼`})})]})]}),_.jsxs("div",{className:`store-story-wrapper ${t.name==="대가한우"?"no-bg":""}`,children:[_.jsx("div",{className:"store-slogan",children:t.description.split(`
`).map((I,P)=>_.jsx("div",{children:I},P))}),_.jsxs("div",{className:`store-name-line ${t.name==="대가1호점"?"extra-padding":""}`,children:[_.jsx("span",{className:"store-name-text",children:t.name}),_.jsx("div",{className:"store-name-bar"})]})]}),_.jsx("div",{className:"brand-inner",children:_.jsxs("div",{className:`store-brand-wrapper ${t.name==="대가한우"?"no-bg":""}`,children:[_.jsx("img",{src:"/SAMGA-V2/img/logo/videologo.svg",alt:"videologo",className:"video-logo"}),_.jsx("div",{className:"brand-text",children:"KOREAN BEEF VILLAGE SAMGA"}),_.jsx("hr",{className:"brand-divider"})]})}),_.jsxs("div",{className:"store-detail-images-separated",children:[_.jsx("div",{className:"detail-images-pc only-pc",children:t.detailImagelist.filter(I=>/상세페이지_PC_\d+\.(jpg|png)$/i.test(I)).map((I,P)=>_.jsxs("div",{className:"pc-image-wrapper",children:[_.jsx("img",{src:I,alt:`PC 상세 이미지 ${P+1}`,className:"store-image"}),h[P]&&_.jsx("div",{className:`pc-image-text-overlay ${h[P].className}`,children:h[P].text.split(`
`).map((R,ne)=>_.jsx("div",{children:R},ne))})]},`pc-${P}`))}),_.jsx("div",{className:"detail-images-mobile only-mobile",children:t.detailImagelist.filter(I=>/상세페이지_M_\d+\.(jpg|png)$/i.test(I)).map((I,P)=>_.jsx("img",{src:I,alt:`모바일 상세 이미지 ${P+1}`,className:"store-image"},`m-${P}`))})]}),t.name==="도원식육식당"&&_.jsxs("div",{className:"dowon-product-section",children:[_.jsxs("div",{className:"dowon-product-inner",children:[_.jsxs("div",{className:"dowon-product-title",children:["아이디어스 인기제품 ",_.jsx("span",{className:"highlight",children:"구매하기"})]}),_.jsxs("div",{className:"dowon-product-grid dowon-only-pc",children:[_.jsx("div",{className:"dowon-product-item",children:_.jsxs("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.idus.com/v2/product/25792545-088d-4d5c-bb89-762a3b6533b0?search_word=%EB%8F%84%EC%9B%90+%ED%95%9C%EC%9A%B0&keyword_channel=user",children:[_.jsx("img",{src:"/SAMGA-V2/samga/store/dowon/1.png",alt:"1번 상품"}),_.jsx("div",{className:"dowon-product-name",children:"한우(대패)로스구이(2-3인)"})]})}),_.jsx("div",{className:"dowon-product-item",children:_.jsxs("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.idus.com/v2/product/d0e10218-942c-4664-b1b3-0c6c770c9e7e?search_word=%EB%8F%84%EC%9B%90+%ED%95%9C%EC%9A%B0&keyword_channel=user",children:[_.jsx("img",{src:"/SAMGA-V2/samga/store/dowon/2.png",alt:"2번 상품"}),_.jsx("div",{className:"dowon-product-name",children:"한우(만능)자투리1키로"})]})}),_.jsx("div",{className:"dowon-product-item",children:_.jsxs("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.idus.com/v2/product/1953a42a-00ca-4418-af1b-576b2876e7f5?search_word=%EB%8F%84%EC%9B%90+%ED%95%9C%EC%9A%B0&keyword_channel=user",children:[_.jsx("img",{src:"/SAMGA-V2/samga/store/dowon/3.png",alt:"3번 상품"}),_.jsx("div",{className:"dowon-product-name",children:"(눈꽃)(1++9)한우 등심(300G)"})]})}),_.jsx("div",{className:"dowon-product-item",children:_.jsxs("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.idus.com/v2/product/4ee9f37c-16ff-4457-aab2-e823035a4b4d?search_word=%EB%8F%84%EC%9B%90+%ED%95%9C%EC%9A%B0&keyword_channel=user",children:[_.jsx("img",{src:"/SAMGA-V2/samga/store/dowon/4.png",alt:"4번 상품"}),_.jsx("div",{className:"dowon-product-name",children:"(국내산)돼지 갈비찜"})]})}),_.jsx("div",{className:"dowon-product-item",children:_.jsxs("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.idus.com/v2/product/bd28e21e-e78c-4296-ae61-1f48da56bbe2?search_word=%EB%8F%84%EC%9B%90+%ED%95%9C%EC%9A%B0&keyword_channel=user",children:[_.jsx("img",{src:"/SAMGA-V2/samga/store/dowon/5.png",alt:"5번 상품"}),_.jsx("div",{className:"dowon-product-name",children:"(명품한우선물)한우특모듬0.6KG"})]})})]}),_.jsxs("div",{className:"dowon-product-grid dowon-only-mobile",children:[_.jsx("div",{className:"dowon-product-item",children:_.jsxs("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.idus.com/v2/product/25792545-088d-4d5c-bb89-762a3b6533b0?search_word=%EB%8F%84%EC%9B%90+%ED%95%9C%EC%9A%B0&keyword_channel=user",children:[_.jsx("img",{src:"/SAMGA-V2/samga/store/dowon/1.png",alt:"1번 상품"}),_.jsx("div",{className:"dowon-product-name",children:"한우(대패)로스구이(2-3인)"})]})}),_.jsx("div",{className:"dowon-product-item",children:_.jsxs("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.idus.com/v2/product/d0e10218-942c-4664-b1b3-0c6c770c9e7e?search_word=%EB%8F%84%EC%9B%90+%ED%95%9C%EC%9A%B0&keyword_channel=user",children:[_.jsx("img",{src:"/SAMGA-V2/samga/store/dowon/2.png",alt:"2번 상품"}),_.jsx("div",{className:"dowon-product-name",children:"한우(만능)자투리1키로"})]})}),_.jsx("div",{className:"dowon-product-item",children:_.jsxs("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.idus.com/v2/product/1953a42a-00ca-4418-af1b-576b2876e7f5?search_word=%EB%8F%84%EC%9B%90+%ED%95%9C%EC%9A%B0&keyword_channel=user",children:[_.jsx("img",{src:"/SAMGA-V2/samga/store/dowon/3.png",alt:"3번 상품"}),_.jsx("div",{className:"dowon-product-name",children:"(눈꽃)(1++9)한우 등심(300G)"})]})}),_.jsx("div",{className:"dowon-product-item",children:_.jsxs("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.idus.com/v2/product/4ee9f37c-16ff-4457-aab2-e823035a4b4d?search_word=%EB%8F%84%EC%9B%90+%ED%95%9C%EC%9A%B0&keyword_channel=user",children:[_.jsx("img",{src:"/SAMGA-V2/samga/store/dowon/4.png",alt:"4번 상품"}),_.jsx("div",{className:"dowon-product-name",children:"(국내산)돼지 갈비찜"})]})})]})]}),_.jsx("div",{className:"idius-all",children:_.jsxs("a",{href:"https://www.idus.com/v2/search?keyword=%EB%8F%84%EC%9B%90%20%ED%95%9C%EC%9A%B0&keyword_channel=user",target:"_blank",rel:"noopener noreferrer",children:["모든 상품 보기 ",_.jsx("span",{className:"arrow",children:">"})]})})]}),_.jsxs("div",{className:"store-detail-top-wrapper",children:[_.jsx("h2",{className:"section-title",children:"가게 상세 이미지"}),_.jsx("div",{className:"tab-buttons",children:Pk.map(I=>_.jsx("button",{className:`tab-button ${r===I?"active":""}`,onClick:()=>s(I),children:I},I))}),_.jsx("div",{className:"store-images",children:b.map((I,P)=>[".jpg",".JPG",".png"].map(R=>{const ne=`/SAMGA-V2/samga/store/${J}/${I}${R}`;return _.jsx("img",{src:ne,alt:`${e} ${r} 이미지 ${P+1}`,className:"store-image",onError:ie=>{ie.target.style.display="none"}},ne)}))})]}),_.jsxs("div",{className:"store-review-wrapper",children:[_.jsxs("div",{className:"review-item",children:[_.jsx("img",{src:"/SAMGA-V2/img/icon/리뷰쓰기.svg",alt:"리뷰제목"}),_.jsx("span",{children:"리뷰"})]}),O.length>0?_.jsx("div",{className:"store-review-list",children:O.map((I,P)=>{var ie,se;const R=k[I.id]||[],ne=((ie=I.likes)==null?void 0:ie.length)||0;return _.jsxs("div",{className:"store-review-card",children:[_.jsx("div",{className:"review-header",children:_.jsxs("div",{className:"review-stars",children:[[...Array(5)].map((fe,H)=>{const te=H+1;let oe=I.star>=te?"/SAMGA-V2/img/icon/단골등록해제.svg":I.star+.5>=te?"/SAMGA-V2/img/icon/반쪽자리별.svg":"/SAMGA-V2/img/icon/단골등록.svg";return _.jsx("img",{src:oe,className:"star-icon",alt:"별"},H)}),_.jsxs("span",{className:"review-star-value",children:[(I.star??0).toFixed(1),"점"]})]})}),_.jsx("div",{className:"review-content",children:_.jsx("p",{children:I.content})}),_.jsxs("div",{className:"review-footer",children:[_.jsxs("div",{className:"review-icons",children:[_.jsx("img",{src:"/SAMGA-V2/img/icon/좋아용.svg",alt:"좋아요"}),_.jsx("span",{children:ne}),_.jsx("img",{src:R.length>0?"/SAMGA-V2/img/icon/댓글있음.svg":"/SAMGA-V2/img/icon/댓글.svg",alt:"댓글"}),_.jsx("span",{children:R.length})]}),_.jsxs("div",{className:"review-meta",children:[_.jsx("span",{className:"review-nickname",children:I.nickname}),_.jsx("span",{className:"review-date",children:(se=I.createdAt)==null?void 0:se.toDate().toLocaleString()})]})]}),R.map((fe,H)=>{var te;return _.jsxs("div",{className:"review-comment",children:[_.jsx("div",{className:"comment-nickname",children:fe.nickname}),_.jsx("div",{className:"comment-content",children:fe.content}),_.jsx("div",{className:"comment-date",children:(te=fe.createdAt)==null?void 0:te.toDate().toLocaleString()})]},H)})]},P)})}):_.jsx("p",{className:"no-store-review",children:"아직 등록된 리뷰가 없습니다. 첫 리뷰를 남겨보세요!"}),_.jsx("a",{href:`https://search.naver.com/search.naver?query=${encodeURIComponent(e)} 리뷰`,target:"_blank",rel:"noopener noreferrer",className:"naver-review-link",children:"네이버 리뷰 보러가기 →"})]})]})}function l_(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function am(n,e){n===void 0&&(n={}),e===void 0&&(e={});const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:l_(e[r])&&l_(n[r])&&Object.keys(e[r]).length>0&&am(n[r],e[r])})}const hE={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function vr(){const n=typeof document<"u"?document:{};return am(n,hE),n}const kk={document:hE,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function Jt(){const n=typeof window<"u"?window:{};return am(n,kk),n}function Nk(n){return n===void 0&&(n=""),n.trim().split(" ").filter(e=>!!e.trim())}function bk(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function Jf(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function Wc(){return Date.now()}function Dk(n){const e=Jt();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function Mk(n,e){e===void 0&&(e="x");const t=Jt();let r,s,a;const u=Dk(n);return t.WebKitCSSMatrix?(s=u.transform||u.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(h=>h.replace(",",".")).join(", ")),a=new t.WebKitCSSMatrix(s==="none"?"":s)):(a=u.MozTransform||u.OTransform||u.MsTransform||u.msTransform||u.transform||u.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=a.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?s=a.m41:r.length===16?s=parseFloat(r[12]):s=parseFloat(r[4])),e==="y"&&(t.WebKitCSSMatrix?s=a.m42:r.length===16?s=parseFloat(r[13]):s=parseFloat(r[5])),s||0}function hc(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function Vk(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function vn(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const r=t<0||arguments.length<=t?void 0:arguments[t];if(r!=null&&!Vk(r)){const s=Object.keys(Object(r)).filter(a=>e.indexOf(a)<0);for(let a=0,u=s.length;a<u;a+=1){const h=s[a],f=Object.getOwnPropertyDescriptor(r,h);f!==void 0&&f.enumerable&&(hc(n[h])&&hc(r[h])?r[h].__swiper__?n[h]=r[h]:vn(n[h],r[h]):!hc(n[h])&&hc(r[h])?(n[h]={},r[h].__swiper__?n[h]=r[h]:vn(n[h],r[h])):n[h]=r[h])}}}return n}function fc(n,e,t){n.style.setProperty(e,t)}function fE(n){let{swiper:e,targetPosition:t,side:r}=n;const s=Jt(),a=-e.translate;let u=null,h;const f=e.params.speed;e.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(e.cssModeFrameID);const p=t>a?"next":"prev",v=(C,N)=>p==="next"&&C>=N||p==="prev"&&C<=N,w=()=>{h=new Date().getTime(),u===null&&(u=h);const C=Math.max(Math.min((h-u)/f,1),0),N=.5-Math.cos(C*Math.PI)/2;let A=a+N*(t-a);if(v(A,t)&&(A=t),e.wrapperEl.scrollTo({[r]:A}),v(A,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:A})}),s.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=s.requestAnimationFrame(w)};w()}function dr(n,e){e===void 0&&(e="");const t=Jt(),r=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&r.push(...n.assignedElements()),e?r.filter(s=>s.matches(e)):r}function Lk(n,e){const t=[e];for(;t.length>0;){const r=t.shift();if(n===r)return!0;t.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function Ok(n,e){const t=Jt();let r=e.contains(n);return!r&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(n),r||(r=Lk(n,e))),r}function Kc(n){try{console.warn(n);return}catch{}}function Qc(n,e){e===void 0&&(e=[]);const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:Nk(e)),t}function jk(n,e){const t=[];for(;n.previousElementSibling;){const r=n.previousElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function Fk(n,e){const t=[];for(;n.nextElementSibling;){const r=n.nextElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function Mi(n,e){return Jt().getComputedStyle(n,null).getPropertyValue(e)}function Yc(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function pE(n,e){const t=[];let r=n.parentElement;for(;r;)e?r.matches(e)&&t.push(r):t.push(r),r=r.parentElement;return t}function Zf(n,e,t){const r=Jt();return n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function kt(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}let gf;function Bk(){const n=Jt(),e=vr();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function mE(){return gf||(gf=Bk()),gf}let vf;function Uk(n){let{userAgent:e}=n===void 0?{}:n;const t=mE(),r=Jt(),s=r.navigator.platform,a=e||r.navigator.userAgent,u={ios:!1,android:!1},h=r.screen.width,f=r.screen.height,p=a.match(/(Android);?[\s\/]+([\d.]+)?/);let v=a.match(/(iPad).*OS\s([\d_]+)/);const w=a.match(/(iPod)(.*OS\s([\d_]+))?/),C=!v&&a.match(/(iPhone\sOS|iOS)\s([\d_]+)/),N=s==="Win32";let A=s==="MacIntel";const L=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!v&&A&&t.touch&&L.indexOf(`${h}x${f}`)>=0&&(v=a.match(/(Version)\/([\d.]+)/),v||(v=[0,1,"13_0_0"]),A=!1),p&&!N&&(u.os="android",u.android=!0),(v||C||w)&&(u.os="ios",u.ios=!0),u}function gE(n){return n===void 0&&(n={}),vf||(vf=Uk(n)),vf}let yf;function zk(){const n=Jt(),e=gE();let t=!1;function r(){const h=n.navigator.userAgent.toLowerCase();return h.indexOf("safari")>=0&&h.indexOf("chrome")<0&&h.indexOf("android")<0}if(r()){const h=String(n.navigator.userAgent);if(h.includes("Version/")){const[f,p]=h.split("Version/")[1].split(" ")[0].split(".").map(v=>Number(v));t=f<16||f===16&&p<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),a=r(),u=a||s&&e.ios;return{isSafari:t||a,needPerspectiveFix:t,need3dFix:u,isWebView:s}}function vE(){return yf||(yf=zk()),yf}function $k(n){let{swiper:e,on:t,emit:r}=n;const s=Jt();let a=null,u=null;const h=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},f=()=>{!e||e.destroyed||!e.initialized||(a=new ResizeObserver(w=>{u=s.requestAnimationFrame(()=>{const{width:C,height:N}=e;let A=C,L=N;w.forEach(O=>{let{contentBoxSize:M,contentRect:k,target:V}=O;V&&V!==e.el||(A=k?k.width:(M[0]||M).inlineSize,L=k?k.height:(M[0]||M).blockSize)}),(A!==C||L!==N)&&h()})}),a.observe(e.el))},p=()=>{u&&s.cancelAnimationFrame(u),a&&a.unobserve&&e.el&&(a.unobserve(e.el),a=null)},v=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof s.ResizeObserver<"u"){f();return}s.addEventListener("resize",h),s.addEventListener("orientationchange",v)}),t("destroy",()=>{p(),s.removeEventListener("resize",h),s.removeEventListener("orientationchange",v)})}function Gk(n){let{swiper:e,extendParams:t,on:r,emit:s}=n;const a=[],u=Jt(),h=function(v,w){w===void 0&&(w={});const C=u.MutationObserver||u.WebkitMutationObserver,N=new C(A=>{if(e.__preventObserver__)return;if(A.length===1){s("observerUpdate",A[0]);return}const L=function(){s("observerUpdate",A[0])};u.requestAnimationFrame?u.requestAnimationFrame(L):u.setTimeout(L,0)});N.observe(v,{attributes:typeof w.attributes>"u"?!0:w.attributes,childList:e.isElement||(typeof w.childList>"u"?!0:w).childList,characterData:typeof w.characterData>"u"?!0:w.characterData}),a.push(N)},f=()=>{if(e.params.observer){if(e.params.observeParents){const v=pE(e.hostEl);for(let w=0;w<v.length;w+=1)h(v[w])}h(e.hostEl,{childList:e.params.observeSlideChildren}),h(e.wrapperEl,{attributes:!1})}},p=()=>{a.forEach(v=>{v.disconnect()}),a.splice(0,a.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",f),r("destroy",p)}var Hk={on(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const s=t?"unshift":"push";return n.split(" ").forEach(a=>{r.eventsListeners[a]||(r.eventsListeners[a]=[]),r.eventsListeners[a][s](e)}),r},once(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function s(){r.off(n,s),s.__emitterProxy&&delete s.__emitterProxy;for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];e.apply(r,u)}return s.__emitterProxy=e,r.on(n,s,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const r=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[r](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(r=>{typeof e>"u"?t.eventsListeners[r]=[]:t.eventsListeners[r]&&t.eventsListeners[r].forEach((s,a)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&t.eventsListeners[r].splice(a,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,r;for(var s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return typeof a[0]=="string"||Array.isArray(a[0])?(e=a[0],t=a.slice(1,a.length),r=n):(e=a[0].events,t=a[0].data,r=a[0].context||n),t.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(f=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(p=>{p.apply(r,[f,...t])}),n.eventsListeners&&n.eventsListeners[f]&&n.eventsListeners[f].forEach(p=>{p.apply(r,t)})}),n}};function qk(){const n=this;let e,t;const r=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=r.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=r.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(Mi(r,"padding-left")||0,10)-parseInt(Mi(r,"padding-right")||0,10),t=t-parseInt(Mi(r,"padding-top")||0,10)-parseInt(Mi(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function Wk(){const n=this;function e(x,I){return parseFloat(x.getPropertyValue(n.getDirectionLabel(I))||0)}const t=n.params,{wrapperEl:r,slidesEl:s,size:a,rtlTranslate:u,wrongRTL:h}=n,f=n.virtual&&t.virtual.enabled,p=f?n.virtual.slides.length:n.slides.length,v=dr(s,`.${n.params.slideClass}, swiper-slide`),w=f?n.virtual.slides.length:v.length;let C=[];const N=[],A=[];let L=t.slidesOffsetBefore;typeof L=="function"&&(L=t.slidesOffsetBefore.call(n));let O=t.slidesOffsetAfter;typeof O=="function"&&(O=t.slidesOffsetAfter.call(n));const M=n.snapGrid.length,k=n.slidesGrid.length;let V=t.spaceBetween,$=-L,Q=0,J=0;if(typeof a>"u")return;typeof V=="string"&&V.indexOf("%")>=0?V=parseFloat(V.replace("%",""))/100*a:typeof V=="string"&&(V=parseFloat(V)),n.virtualSize=-V,v.forEach(x=>{u?x.style.marginLeft="":x.style.marginRight="",x.style.marginBottom="",x.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(fc(r,"--swiper-centered-offset-before",""),fc(r,"--swiper-centered-offset-after",""));const j=t.grid&&t.grid.rows>1&&n.grid;j?n.grid.initSlides(v):n.grid&&n.grid.unsetSlides();let b;const T=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(x=>typeof t.breakpoints[x].slidesPerView<"u").length>0;for(let x=0;x<w;x+=1){b=0;let I;if(v[x]&&(I=v[x]),j&&n.grid.updateSlide(x,I,v),!(v[x]&&Mi(I,"display")==="none")){if(t.slidesPerView==="auto"){T&&(v[x].style[n.getDirectionLabel("width")]="");const P=getComputedStyle(I),R=I.style.transform,ne=I.style.webkitTransform;if(R&&(I.style.transform="none"),ne&&(I.style.webkitTransform="none"),t.roundLengths)b=n.isHorizontal()?Zf(I,"width"):Zf(I,"height");else{const ie=e(P,"width"),se=e(P,"padding-left"),fe=e(P,"padding-right"),H=e(P,"margin-left"),te=e(P,"margin-right"),oe=P.getPropertyValue("box-sizing");if(oe&&oe==="border-box")b=ie+H+te;else{const{clientWidth:G,offsetWidth:Z}=I;b=ie+se+fe+H+te+(Z-G)}}R&&(I.style.transform=R),ne&&(I.style.webkitTransform=ne),t.roundLengths&&(b=Math.floor(b))}else b=(a-(t.slidesPerView-1)*V)/t.slidesPerView,t.roundLengths&&(b=Math.floor(b)),v[x]&&(v[x].style[n.getDirectionLabel("width")]=`${b}px`);v[x]&&(v[x].swiperSlideSize=b),A.push(b),t.centeredSlides?($=$+b/2+Q/2+V,Q===0&&x!==0&&($=$-a/2-V),x===0&&($=$-a/2-V),Math.abs($)<1/1e3&&($=0),t.roundLengths&&($=Math.floor($)),J%t.slidesPerGroup===0&&C.push($),N.push($)):(t.roundLengths&&($=Math.floor($)),(J-Math.min(n.params.slidesPerGroupSkip,J))%n.params.slidesPerGroup===0&&C.push($),N.push($),$=$+b+V),n.virtualSize+=b+V,Q=b,J+=1}}if(n.virtualSize=Math.max(n.virtualSize,a)+O,u&&h&&(t.effect==="slide"||t.effect==="coverflow")&&(r.style.width=`${n.virtualSize+V}px`),t.setWrapperSize&&(r.style[n.getDirectionLabel("width")]=`${n.virtualSize+V}px`),j&&n.grid.updateWrapperSize(b,C),!t.centeredSlides){const x=[];for(let I=0;I<C.length;I+=1){let P=C[I];t.roundLengths&&(P=Math.floor(P)),C[I]<=n.virtualSize-a&&x.push(P)}C=x,Math.floor(n.virtualSize-a)-Math.floor(C[C.length-1])>1&&C.push(n.virtualSize-a)}if(f&&t.loop){const x=A[0]+V;if(t.slidesPerGroup>1){const I=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),P=x*t.slidesPerGroup;for(let R=0;R<I;R+=1)C.push(C[C.length-1]+P)}for(let I=0;I<n.virtual.slidesBefore+n.virtual.slidesAfter;I+=1)t.slidesPerGroup===1&&C.push(C[C.length-1]+x),N.push(N[N.length-1]+x),n.virtualSize+=x}if(C.length===0&&(C=[0]),V!==0){const x=n.isHorizontal()&&u?"marginLeft":n.getDirectionLabel("marginRight");v.filter((I,P)=>!t.cssMode||t.loop?!0:P!==v.length-1).forEach(I=>{I.style[x]=`${V}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let x=0;A.forEach(P=>{x+=P+(V||0)}),x-=V;const I=x>a?x-a:0;C=C.map(P=>P<=0?-L:P>I?I+O:P)}if(t.centerInsufficientSlides){let x=0;A.forEach(P=>{x+=P+(V||0)}),x-=V;const I=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(x+I<a){const P=(a-x-I)/2;C.forEach((R,ne)=>{C[ne]=R-P}),N.forEach((R,ne)=>{N[ne]=R+P})}}if(Object.assign(n,{slides:v,snapGrid:C,slidesGrid:N,slidesSizesGrid:A}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){fc(r,"--swiper-centered-offset-before",`${-C[0]}px`),fc(r,"--swiper-centered-offset-after",`${n.size/2-A[A.length-1]/2}px`);const x=-n.snapGrid[0],I=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(P=>P+x),n.slidesGrid=n.slidesGrid.map(P=>P+I)}if(w!==p&&n.emit("slidesLengthChange"),C.length!==M&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),N.length!==k&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!f&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const x=`${t.containerModifierClass}backface-hidden`,I=n.el.classList.contains(x);w<=t.maxBackfaceHiddenSlides?I||n.el.classList.add(x):I&&n.el.classList.remove(x)}}function Kk(n){const e=this,t=[],r=e.virtual&&e.params.virtual.enabled;let s=0,a;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const u=h=>r?e.slides[e.getSlideIndexByData(h)]:e.slides[h];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(h=>{t.push(h)});else for(a=0;a<Math.ceil(e.params.slidesPerView);a+=1){const h=e.activeIndex+a;if(h>e.slides.length&&!r)break;t.push(u(h))}else t.push(u(e.activeIndex));for(a=0;a<t.length;a+=1)if(typeof t[a]<"u"){const h=t[a].offsetHeight;s=h>s?h:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function Qk(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(n.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-t-n.cssOverflowAdjustment()}const u_=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function Yk(n){n===void 0&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:r,rtlTranslate:s,snapGrid:a}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let u=-n;s&&(u=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let h=t.spaceBetween;typeof h=="string"&&h.indexOf("%")>=0?h=parseFloat(h.replace("%",""))/100*e.size:typeof h=="string"&&(h=parseFloat(h));for(let f=0;f<r.length;f+=1){const p=r[f];let v=p.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(v-=r[0].swiperSlideOffset);const w=(u+(t.centeredSlides?e.minTranslate():0)-v)/(p.swiperSlideSize+h),C=(u-a[0]+(t.centeredSlides?e.minTranslate():0)-v)/(p.swiperSlideSize+h),N=-(u-v),A=N+e.slidesSizesGrid[f],L=N>=0&&N<=e.size-e.slidesSizesGrid[f],O=N>=0&&N<e.size-1||A>1&&A<=e.size||N<=0&&A>=e.size;O&&(e.visibleSlides.push(p),e.visibleSlidesIndexes.push(f)),u_(p,O,t.slideVisibleClass),u_(p,L,t.slideFullyVisibleClass),p.progress=s?-w:w,p.originalProgress=s?-C:C}}function Xk(n){const e=this;if(typeof n>"u"){const v=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*v||0}const t=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:a,isEnd:u,progressLoop:h}=e;const f=a,p=u;if(r===0)s=0,a=!0,u=!0;else{s=(n-e.minTranslate())/r;const v=Math.abs(n-e.minTranslate())<1,w=Math.abs(n-e.maxTranslate())<1;a=v||s<=0,u=w||s>=1,v&&(s=0),w&&(s=1)}if(t.loop){const v=e.getSlideIndexByData(0),w=e.getSlideIndexByData(e.slides.length-1),C=e.slidesGrid[v],N=e.slidesGrid[w],A=e.slidesGrid[e.slidesGrid.length-1],L=Math.abs(n);L>=C?h=(L-C)/A:h=(L+A-N)/A,h>1&&(h-=1)}Object.assign(e,{progress:s,progressLoop:h,isBeginning:a,isEnd:u}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),a&&!f&&e.emit("reachBeginning toEdge"),u&&!p&&e.emit("reachEnd toEdge"),(f&&!a||p&&!u)&&e.emit("fromEdge"),e.emit("progress",s)}const _f=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function Jk(){const n=this,{slides:e,params:t,slidesEl:r,activeIndex:s}=n,a=n.virtual&&t.virtual.enabled,u=n.grid&&t.grid&&t.grid.rows>1,h=w=>dr(r,`.${t.slideClass}${w}, swiper-slide${w}`)[0];let f,p,v;if(a)if(t.loop){let w=s-n.virtual.slidesBefore;w<0&&(w=n.virtual.slides.length+w),w>=n.virtual.slides.length&&(w-=n.virtual.slides.length),f=h(`[data-swiper-slide-index="${w}"]`)}else f=h(`[data-swiper-slide-index="${s}"]`);else u?(f=e.find(w=>w.column===s),v=e.find(w=>w.column===s+1),p=e.find(w=>w.column===s-1)):f=e[s];f&&(u||(v=Fk(f,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!v&&(v=e[0]),p=jk(f,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!p===0&&(p=e[e.length-1]))),e.forEach(w=>{_f(w,w===f,t.slideActiveClass),_f(w,w===v,t.slideNextClass),_f(w,w===p,t.slidePrevClass)}),n.emitSlidesClasses()}const Ic=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,r=e.closest(t());if(r){let s=r.querySelector(`.${n.params.lazyPreloaderClass}`);!s&&n.isElement&&(r.shadowRoot?s=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(s=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},wf=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},ep=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const r=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),s=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const u=s,h=[u-e];h.push(...Array.from({length:e}).map((f,p)=>u+r+p)),n.slides.forEach((f,p)=>{h.includes(f.column)&&wf(n,p)});return}const a=s+r-1;if(n.params.rewind||n.params.loop)for(let u=s-e;u<=a+e;u+=1){const h=(u%t+t)%t;(h<s||h>a)&&wf(n,h)}else for(let u=Math.max(s-e,0);u<=Math.min(a+e,t-1);u+=1)u!==s&&(u>a||u<s)&&wf(n,u)};function Zk(n){const{slidesGrid:e,params:t}=n,r=n.rtlTranslate?n.translate:-n.translate;let s;for(let a=0;a<e.length;a+=1)typeof e[a+1]<"u"?r>=e[a]&&r<e[a+1]-(e[a+1]-e[a])/2?s=a:r>=e[a]&&r<e[a+1]&&(s=a+1):r>=e[a]&&(s=a);return t.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function eN(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:s,activeIndex:a,realIndex:u,snapIndex:h}=e;let f=n,p;const v=N=>{let A=N-e.virtual.slidesBefore;return A<0&&(A=e.virtual.slides.length+A),A>=e.virtual.slides.length&&(A-=e.virtual.slides.length),A};if(typeof f>"u"&&(f=Zk(e)),r.indexOf(t)>=0)p=r.indexOf(t);else{const N=Math.min(s.slidesPerGroupSkip,f);p=N+Math.floor((f-N)/s.slidesPerGroup)}if(p>=r.length&&(p=r.length-1),f===a&&!e.params.loop){p!==h&&(e.snapIndex=p,e.emit("snapIndexChange"));return}if(f===a&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=v(f);return}const w=e.grid&&s.grid&&s.grid.rows>1;let C;if(e.virtual&&s.virtual.enabled&&s.loop)C=v(f);else if(w){const N=e.slides.find(L=>L.column===f);let A=parseInt(N.getAttribute("data-swiper-slide-index"),10);Number.isNaN(A)&&(A=Math.max(e.slides.indexOf(N),0)),C=Math.floor(A/s.grid.rows)}else if(e.slides[f]){const N=e.slides[f].getAttribute("data-swiper-slide-index");N?C=parseInt(N,10):C=f}else C=f;Object.assign(e,{previousSnapIndex:h,snapIndex:p,previousRealIndex:u,realIndex:C,previousIndex:a,activeIndex:f}),e.initialized&&ep(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(u!==C&&e.emit("realIndexChange"),e.emit("slideChange"))}function tN(n,e){const t=this,r=t.params;let s=n.closest(`.${r.slideClass}, swiper-slide`);!s&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(h=>{!s&&h.matches&&h.matches(`.${r.slideClass}, swiper-slide`)&&(s=h)});let a=!1,u;if(s){for(let h=0;h<t.slides.length;h+=1)if(t.slides[h]===s){a=!0,u=h;break}}if(s&&a)t.clickedSlide=s,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=u;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}r.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var nN={updateSize:qk,updateSlides:Wk,updateAutoHeight:Kk,updateSlidesOffset:Qk,updateSlidesProgress:Yk,updateProgress:Xk,updateSlidesClasses:Jk,updateActiveIndex:eN,updateClickedSlide:tN};function rN(n){n===void 0&&(n=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:r,translate:s,wrapperEl:a}=e;if(t.virtualTranslate)return r?-s:s;if(t.cssMode)return s;let u=Mk(a,n);return u+=e.cssOverflowAdjustment(),r&&(u=-u),u||0}function iN(n,e){const t=this,{rtlTranslate:r,params:s,wrapperEl:a,progress:u}=t;let h=0,f=0;const p=0;t.isHorizontal()?h=r?-n:n:f=n,s.roundLengths&&(h=Math.floor(h),f=Math.floor(f)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?h:f,s.cssMode?a[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-h:-f:s.virtualTranslate||(t.isHorizontal()?h-=t.cssOverflowAdjustment():f-=t.cssOverflowAdjustment(),a.style.transform=`translate3d(${h}px, ${f}px, ${p}px)`);let v;const w=t.maxTranslate()-t.minTranslate();w===0?v=0:v=(n-t.minTranslate())/w,v!==u&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function sN(){return-this.snapGrid[0]}function oN(){return-this.snapGrid[this.snapGrid.length-1]}function aN(n,e,t,r,s){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),r===void 0&&(r=!0);const a=this,{params:u,wrapperEl:h}=a;if(a.animating&&u.preventInteractionOnTransition)return!1;const f=a.minTranslate(),p=a.maxTranslate();let v;if(r&&n>f?v=f:r&&n<p?v=p:v=n,a.updateProgress(v),u.cssMode){const w=a.isHorizontal();if(e===0)h[w?"scrollLeft":"scrollTop"]=-v;else{if(!a.support.smoothScroll)return fE({swiper:a,targetPosition:-v,side:w?"left":"top"}),!0;h.scrollTo({[w?"left":"top"]:-v,behavior:"smooth"})}return!0}return e===0?(a.setTransition(0),a.setTranslate(v),t&&(a.emit("beforeTransitionStart",e,s),a.emit("transitionEnd"))):(a.setTransition(e),a.setTranslate(v),t&&(a.emit("beforeTransitionStart",e,s),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(C){!a||a.destroyed||C.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,a.animating=!1,t&&a.emit("transitionEnd"))}),a.wrapperEl.addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd))),!0}var lN={getTranslate:rN,setTranslate:iN,minTranslate:sN,maxTranslate:oN,translateTo:aN};function uN(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function yE(n){let{swiper:e,runCallbacks:t,direction:r,step:s}=n;const{activeIndex:a,previousIndex:u}=e;let h=r;if(h||(a>u?h="next":a<u?h="prev":h="reset"),e.emit(`transition${s}`),t&&a!==u){if(h==="reset"){e.emit(`slideResetTransition${s}`);return}e.emit(`slideChangeTransition${s}`),h==="next"?e.emit(`slideNextTransition${s}`):e.emit(`slidePrevTransition${s}`)}}function cN(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;r.cssMode||(r.autoHeight&&t.updateAutoHeight(),yE({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function dN(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;t.animating=!1,!r.cssMode&&(t.setTransition(0),yE({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var hN={setTransition:uN,transitionStart:cN,transitionEnd:dN};function fN(n,e,t,r,s){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const a=this;let u=n;u<0&&(u=0);const{params:h,snapGrid:f,slidesGrid:p,previousIndex:v,activeIndex:w,rtlTranslate:C,wrapperEl:N,enabled:A}=a;if(!A&&!r&&!s||a.destroyed||a.animating&&h.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=a.params.speed);const L=Math.min(a.params.slidesPerGroupSkip,u);let O=L+Math.floor((u-L)/a.params.slidesPerGroup);O>=f.length&&(O=f.length-1);const M=-f[O];if(h.normalizeSlideIndex)for(let j=0;j<p.length;j+=1){const b=-Math.floor(M*100),T=Math.floor(p[j]*100),x=Math.floor(p[j+1]*100);typeof p[j+1]<"u"?b>=T&&b<x-(x-T)/2?u=j:b>=T&&b<x&&(u=j+1):b>=T&&(u=j)}if(a.initialized&&u!==w&&(!a.allowSlideNext&&(C?M>a.translate&&M>a.minTranslate():M<a.translate&&M<a.minTranslate())||!a.allowSlidePrev&&M>a.translate&&M>a.maxTranslate()&&(w||0)!==u))return!1;u!==(v||0)&&t&&a.emit("beforeSlideChangeStart"),a.updateProgress(M);let k;u>w?k="next":u<w?k="prev":k="reset";const V=a.virtual&&a.params.virtual.enabled;if(!(V&&s)&&(C&&-M===a.translate||!C&&M===a.translate))return a.updateActiveIndex(u),h.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),h.effect!=="slide"&&a.setTranslate(M),k!=="reset"&&(a.transitionStart(t,k),a.transitionEnd(t,k)),!1;if(h.cssMode){const j=a.isHorizontal(),b=C?M:-M;if(e===0)V&&(a.wrapperEl.style.scrollSnapType="none",a._immediateVirtual=!0),V&&!a._cssModeVirtualInitialSet&&a.params.initialSlide>0?(a._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{N[j?"scrollLeft":"scrollTop"]=b})):N[j?"scrollLeft":"scrollTop"]=b,V&&requestAnimationFrame(()=>{a.wrapperEl.style.scrollSnapType="",a._immediateVirtual=!1});else{if(!a.support.smoothScroll)return fE({swiper:a,targetPosition:b,side:j?"left":"top"}),!0;N.scrollTo({[j?"left":"top"]:b,behavior:"smooth"})}return!0}const J=vE().isSafari;return V&&!s&&J&&a.isElement&&a.virtual.update(!1,!1,u),a.setTransition(e),a.setTranslate(M),a.updateActiveIndex(u),a.updateSlidesClasses(),a.emit("beforeTransitionStart",e,r),a.transitionStart(t,k),e===0?a.transitionEnd(t,k):a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(b){!a||a.destroyed||b.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(t,k))}),a.wrapperEl.addEventListener("transitionend",a.onSlideToWrapperTransitionEnd)),!0}function pN(n,e,t,r){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const s=this;if(s.destroyed)return;typeof e>"u"&&(e=s.params.speed);const a=s.grid&&s.params.grid&&s.params.grid.rows>1;let u=n;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)u=u+s.virtual.slidesBefore;else{let h;if(a){const C=u*s.params.grid.rows;h=s.slides.find(N=>N.getAttribute("data-swiper-slide-index")*1===C).column}else h=s.getSlideIndexByData(u);const f=a?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:p}=s.params;let v=s.params.slidesPerView;v==="auto"?v=s.slidesPerViewDynamic():(v=Math.ceil(parseFloat(s.params.slidesPerView,10)),p&&v%2===0&&(v=v+1));let w=f-h<v;if(p&&(w=w||h<Math.ceil(v/2)),r&&p&&s.params.slidesPerView!=="auto"&&!a&&(w=!1),w){const C=p?h<s.activeIndex?"prev":"next":h-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:C,slideTo:!0,activeSlideIndex:C==="next"?h+1:h-f+1,slideRealIndex:C==="next"?s.realIndex:void 0})}if(a){const C=u*s.params.grid.rows;u=s.slides.find(N=>N.getAttribute("data-swiper-slide-index")*1===C).column}else u=s.getSlideIndexByData(u)}return requestAnimationFrame(()=>{s.slideTo(u,e,t,r)}),s}function mN(n,e,t){e===void 0&&(e=!0);const r=this,{enabled:s,params:a,animating:u}=r;if(!s||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);let h=a.slidesPerGroup;a.slidesPerView==="auto"&&a.slidesPerGroup===1&&a.slidesPerGroupAuto&&(h=Math.max(r.slidesPerViewDynamic("current",!0),1));const f=r.activeIndex<a.slidesPerGroupSkip?1:h,p=r.virtual&&a.virtual.enabled;if(a.loop){if(u&&!p&&a.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&a.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+f,n,e,t)}),!0}return a.rewind&&r.isEnd?r.slideTo(0,n,e,t):r.slideTo(r.activeIndex+f,n,e,t)}function gN(n,e,t){e===void 0&&(e=!0);const r=this,{params:s,snapGrid:a,slidesGrid:u,rtlTranslate:h,enabled:f,animating:p}=r;if(!f||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);const v=r.virtual&&s.virtual.enabled;if(s.loop){if(p&&!v&&s.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const w=h?r.translate:-r.translate;function C(k){return k<0?-Math.floor(Math.abs(k)):Math.floor(k)}const N=C(w),A=a.map(k=>C(k)),L=s.freeMode&&s.freeMode.enabled;let O=a[A.indexOf(N)-1];if(typeof O>"u"&&(s.cssMode||L)){let k;a.forEach((V,$)=>{N>=V&&(k=$)}),typeof k<"u"&&(O=L?a[k]:a[k>0?k-1:k])}let M=0;if(typeof O<"u"&&(M=u.indexOf(O),M<0&&(M=r.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(M=M-r.slidesPerViewDynamic("previous",!0)+1,M=Math.max(M,0))),s.rewind&&r.isBeginning){const k=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(k,n,e,t)}else if(s.loop&&r.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(M,n,e,t)}),!0;return r.slideTo(M,n,e,t)}function vN(n,e,t){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof n>"u"&&(n=r.params.speed),r.slideTo(r.activeIndex,n,e,t)}function yN(n,e,t,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const s=this;if(s.destroyed)return;typeof n>"u"&&(n=s.params.speed);let a=s.activeIndex;const u=Math.min(s.params.slidesPerGroupSkip,a),h=u+Math.floor((a-u)/s.params.slidesPerGroup),f=s.rtlTranslate?s.translate:-s.translate;if(f>=s.snapGrid[h]){const p=s.snapGrid[h],v=s.snapGrid[h+1];f-p>(v-p)*r&&(a+=s.params.slidesPerGroup)}else{const p=s.snapGrid[h-1],v=s.snapGrid[h];f-p<=(v-p)*r&&(a-=s.params.slidesPerGroup)}return a=Math.max(a,0),a=Math.min(a,s.slidesGrid.length-1),s.slideTo(a,n,e,t)}function _N(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,r=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let s=n.clickedIndex,a;const u=n.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(n.animating)return;a=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?s<n.loopedSlides-r/2||s>n.slides.length-n.loopedSlides+r/2?(n.loopFix(),s=n.getSlideIndex(dr(t,`${u}[data-swiper-slide-index="${a}"]`)[0]),Jf(()=>{n.slideTo(s)})):n.slideTo(s):s>n.slides.length-r?(n.loopFix(),s=n.getSlideIndex(dr(t,`${u}[data-swiper-slide-index="${a}"]`)[0]),Jf(()=>{n.slideTo(s)})):n.slideTo(s)}else n.slideTo(s)}var wN={slideTo:fN,slideToLoop:pN,slideNext:mN,slidePrev:gN,slideReset:vN,slideToClosest:yN,slideToClickedSlide:_N};function EN(n,e){const t=this,{params:r,slidesEl:s}=t;if(!r.loop||t.virtual&&t.params.virtual.enabled)return;const a=()=>{dr(s,`.${r.slideClass}, swiper-slide`).forEach((C,N)=>{C.setAttribute("data-swiper-slide-index",N)})},u=t.grid&&r.grid&&r.grid.rows>1,h=r.slidesPerGroup*(u?r.grid.rows:1),f=t.slides.length%h!==0,p=u&&t.slides.length%r.grid.rows!==0,v=w=>{for(let C=0;C<w;C+=1){const N=t.isElement?Qc("swiper-slide",[r.slideBlankClass]):Qc("div",[r.slideClass,r.slideBlankClass]);t.slidesEl.append(N)}};if(f){if(r.loopAddBlankSlides){const w=h-t.slides.length%h;v(w),t.recalcSlides(),t.updateSlides()}else Kc("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");a()}else if(p){if(r.loopAddBlankSlides){const w=r.grid.rows-t.slides.length%r.grid.rows;v(w),t.recalcSlides(),t.updateSlides()}else Kc("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");a()}else a();t.loopFix({slideRealIndex:n,direction:r.centeredSlides?void 0:"next",initial:e})}function CN(n){let{slideRealIndex:e,slideTo:t=!0,direction:r,setTranslate:s,activeSlideIndex:a,initial:u,byController:h,byMousewheel:f}=n===void 0?{}:n;const p=this;if(!p.params.loop)return;p.emit("beforeLoopFix");const{slides:v,allowSlidePrev:w,allowSlideNext:C,slidesEl:N,params:A}=p,{centeredSlides:L,initialSlide:O}=A;if(p.allowSlidePrev=!0,p.allowSlideNext=!0,p.virtual&&A.virtual.enabled){t&&(!A.centeredSlides&&p.snapIndex===0?p.slideTo(p.virtual.slides.length,0,!1,!0):A.centeredSlides&&p.snapIndex<A.slidesPerView?p.slideTo(p.virtual.slides.length+p.snapIndex,0,!1,!0):p.snapIndex===p.snapGrid.length-1&&p.slideTo(p.virtual.slidesBefore,0,!1,!0)),p.allowSlidePrev=w,p.allowSlideNext=C,p.emit("loopFix");return}let M=A.slidesPerView;M==="auto"?M=p.slidesPerViewDynamic():(M=Math.ceil(parseFloat(A.slidesPerView,10)),L&&M%2===0&&(M=M+1));const k=A.slidesPerGroupAuto?M:A.slidesPerGroup;let V=k;V%k!==0&&(V+=k-V%k),V+=A.loopAdditionalSlides,p.loopedSlides=V;const $=p.grid&&A.grid&&A.grid.rows>1;v.length<M+V||p.params.effect==="cards"&&v.length<M+V*2?Kc("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):$&&A.grid.fill==="row"&&Kc("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const Q=[],J=[],j=$?Math.ceil(v.length/A.grid.rows):v.length,b=u&&j-O<M&&!L;let T=b?O:p.activeIndex;typeof a>"u"?a=p.getSlideIndex(v.find(se=>se.classList.contains(A.slideActiveClass))):T=a;const x=r==="next"||!r,I=r==="prev"||!r;let P=0,R=0;const ie=($?v[a].column:a)+(L&&typeof s>"u"?-M/2+.5:0);if(ie<V){P=Math.max(V-ie,k);for(let se=0;se<V-ie;se+=1){const fe=se-Math.floor(se/j)*j;if($){const H=j-fe-1;for(let te=v.length-1;te>=0;te-=1)v[te].column===H&&Q.push(te)}else Q.push(j-fe-1)}}else if(ie+M>j-V){R=Math.max(ie-(j-V*2),k),b&&(R=Math.max(R,M-j+O+1));for(let se=0;se<R;se+=1){const fe=se-Math.floor(se/j)*j;$?v.forEach((H,te)=>{H.column===fe&&J.push(te)}):J.push(fe)}}if(p.__preventObserver__=!0,requestAnimationFrame(()=>{p.__preventObserver__=!1}),p.params.effect==="cards"&&v.length<M+V*2&&(J.includes(a)&&J.splice(J.indexOf(a),1),Q.includes(a)&&Q.splice(Q.indexOf(a),1)),I&&Q.forEach(se=>{v[se].swiperLoopMoveDOM=!0,N.prepend(v[se]),v[se].swiperLoopMoveDOM=!1}),x&&J.forEach(se=>{v[se].swiperLoopMoveDOM=!0,N.append(v[se]),v[se].swiperLoopMoveDOM=!1}),p.recalcSlides(),A.slidesPerView==="auto"?p.updateSlides():$&&(Q.length>0&&I||J.length>0&&x)&&p.slides.forEach((se,fe)=>{p.grid.updateSlide(fe,se,p.slides)}),A.watchSlidesProgress&&p.updateSlidesOffset(),t){if(Q.length>0&&I){if(typeof e>"u"){const se=p.slidesGrid[T],H=p.slidesGrid[T+P]-se;f?p.setTranslate(p.translate-H):(p.slideTo(T+Math.ceil(P),0,!1,!0),s&&(p.touchEventsData.startTranslate=p.touchEventsData.startTranslate-H,p.touchEventsData.currentTranslate=p.touchEventsData.currentTranslate-H))}else if(s){const se=$?Q.length/A.grid.rows:Q.length;p.slideTo(p.activeIndex+se,0,!1,!0),p.touchEventsData.currentTranslate=p.translate}}else if(J.length>0&&x)if(typeof e>"u"){const se=p.slidesGrid[T],H=p.slidesGrid[T-R]-se;f?p.setTranslate(p.translate-H):(p.slideTo(T-R,0,!1,!0),s&&(p.touchEventsData.startTranslate=p.touchEventsData.startTranslate-H,p.touchEventsData.currentTranslate=p.touchEventsData.currentTranslate-H))}else{const se=$?J.length/A.grid.rows:J.length;p.slideTo(p.activeIndex-se,0,!1,!0)}}if(p.allowSlidePrev=w,p.allowSlideNext=C,p.controller&&p.controller.control&&!h){const se={slideRealIndex:e,direction:r,setTranslate:s,activeSlideIndex:a,byController:!0};Array.isArray(p.controller.control)?p.controller.control.forEach(fe=>{!fe.destroyed&&fe.params.loop&&fe.loopFix({...se,slideTo:fe.params.slidesPerView===A.slidesPerView?t:!1})}):p.controller.control instanceof p.constructor&&p.controller.control.params.loop&&p.controller.control.loopFix({...se,slideTo:p.controller.control.params.slidesPerView===A.slidesPerView?t:!1})}p.emit("loopFix")}function TN(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||!t||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const r=[];n.slides.forEach(s=>{const a=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;r[a]=s}),n.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),r.forEach(s=>{t.append(s)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var SN={loopCreate:EN,loopFix:CN,loopDestroy:TN};function AN(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function IN(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var xN={setGrabCursor:AN,unsetGrabCursor:IN};function PN(n,e){e===void 0&&(e=this);function t(r){if(!r||r===vr()||r===Jt())return null;r.assignedSlot&&(r=r.assignedSlot);const s=r.closest(n);return!s&&!r.getRootNode?null:s||t(r.getRootNode().host)}return t(e)}function c_(n,e,t){const r=Jt(),{params:s}=n,a=s.edgeSwipeDetection,u=s.edgeSwipeThreshold;return a&&(t<=u||t>=r.innerWidth-u)?a==="prevent"?(e.preventDefault(),!0):!1:!0}function RN(n){const e=this,t=vr();let r=n;r.originalEvent&&(r=r.originalEvent);const s=e.touchEventsData;if(r.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==r.pointerId)return;s.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(s.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){c_(e,r,r.targetTouches[0].pageX);return}const{params:a,touches:u,enabled:h}=e;if(!h||!a.simulateTouch&&r.pointerType==="mouse"||e.animating&&a.preventInteractionOnTransition)return;!e.animating&&a.cssMode&&a.loop&&e.loopFix();let f=r.target;if(a.touchEventsTarget==="wrapper"&&!Ok(f,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||s.isTouched&&s.isMoved)return;const p=!!a.noSwipingClass&&a.noSwipingClass!=="",v=r.composedPath?r.composedPath():r.path;p&&r.target&&r.target.shadowRoot&&v&&(f=v[0]);const w=a.noSwipingSelector?a.noSwipingSelector:`.${a.noSwipingClass}`,C=!!(r.target&&r.target.shadowRoot);if(a.noSwiping&&(C?PN(w,f):f.closest(w))){e.allowClick=!0;return}if(a.swipeHandler&&!f.closest(a.swipeHandler))return;u.currentX=r.pageX,u.currentY=r.pageY;const N=u.currentX,A=u.currentY;if(!c_(e,r,N))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),u.startX=N,u.startY=A,s.touchStartTime=Wc(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,a.threshold>0&&(s.allowThresholdMove=!1);let L=!0;f.matches(s.focusableElements)&&(L=!1,f.nodeName==="SELECT"&&(s.isTouched=!1)),t.activeElement&&t.activeElement.matches(s.focusableElements)&&t.activeElement!==f&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!f.matches(s.focusableElements))&&t.activeElement.blur();const O=L&&e.allowTouchMove&&a.touchStartPreventDefault;(a.touchStartForcePreventDefault||O)&&!f.isContentEditable&&r.preventDefault(),a.freeMode&&a.freeMode.enabled&&e.freeMode&&e.animating&&!a.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function kN(n){const e=vr(),t=this,r=t.touchEventsData,{params:s,touches:a,rtlTranslate:u,enabled:h}=t;if(!h||!s.simulateTouch&&n.pointerType==="mouse")return;let f=n;if(f.originalEvent&&(f=f.originalEvent),f.type==="pointermove"&&(r.touchId!==null||f.pointerId!==r.pointerId))return;let p;if(f.type==="touchmove"){if(p=[...f.changedTouches].find(Q=>Q.identifier===r.touchId),!p||p.identifier!==r.touchId)return}else p=f;if(!r.isTouched){r.startMoving&&r.isScrolling&&t.emit("touchMoveOpposite",f);return}const v=p.pageX,w=p.pageY;if(f.preventedByNestedSwiper){a.startX=v,a.startY=w;return}if(!t.allowTouchMove){f.target.matches(r.focusableElements)||(t.allowClick=!1),r.isTouched&&(Object.assign(a,{startX:v,startY:w,currentX:v,currentY:w}),r.touchStartTime=Wc());return}if(s.touchReleaseOnEdges&&!s.loop)if(t.isVertical()){if(w<a.startY&&t.translate<=t.maxTranslate()||w>a.startY&&t.translate>=t.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(u&&(v>a.startX&&-t.translate<=t.maxTranslate()||v<a.startX&&-t.translate>=t.minTranslate()))return;if(!u&&(v<a.startX&&t.translate<=t.maxTranslate()||v>a.startX&&t.translate>=t.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==f.target&&f.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&f.target===e.activeElement&&f.target.matches(r.focusableElements)){r.isMoved=!0,t.allowClick=!1;return}r.allowTouchCallbacks&&t.emit("touchMove",f),a.previousX=a.currentX,a.previousY=a.currentY,a.currentX=v,a.currentY=w;const C=a.currentX-a.startX,N=a.currentY-a.startY;if(t.params.threshold&&Math.sqrt(C**2+N**2)<t.params.threshold)return;if(typeof r.isScrolling>"u"){let Q;t.isHorizontal()&&a.currentY===a.startY||t.isVertical()&&a.currentX===a.startX?r.isScrolling=!1:C*C+N*N>=25&&(Q=Math.atan2(Math.abs(N),Math.abs(C))*180/Math.PI,r.isScrolling=t.isHorizontal()?Q>s.touchAngle:90-Q>s.touchAngle)}if(r.isScrolling&&t.emit("touchMoveOpposite",f),typeof r.startMoving>"u"&&(a.currentX!==a.startX||a.currentY!==a.startY)&&(r.startMoving=!0),r.isScrolling||f.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;t.allowClick=!1,!s.cssMode&&f.cancelable&&f.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&f.stopPropagation();let A=t.isHorizontal()?C:N,L=t.isHorizontal()?a.currentX-a.previousX:a.currentY-a.previousY;s.oneWayMovement&&(A=Math.abs(A)*(u?1:-1),L=Math.abs(L)*(u?1:-1)),a.diff=A,A*=s.touchRatio,u&&(A=-A,L=-L);const O=t.touchesDirection;t.swipeDirection=A>0?"prev":"next",t.touchesDirection=L>0?"prev":"next";const M=t.params.loop&&!s.cssMode,k=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!r.isMoved){if(M&&k&&t.loopFix({direction:t.swipeDirection}),r.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const Q=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(Q)}r.allowMomentumBounce=!1,s.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",f)}if(new Date().getTime(),s._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&O!==t.touchesDirection&&M&&k&&Math.abs(A)>=1){Object.assign(a,{startX:v,startY:w,currentX:v,currentY:w,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}t.emit("sliderMove",f),r.isMoved=!0,r.currentTranslate=A+r.startTranslate;let V=!0,$=s.resistanceRatio;if(s.touchReleaseOnEdges&&($=0),A>0?(M&&k&&r.allowThresholdMove&&r.currentTranslate>(s.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(s.slidesPerView!=="auto"&&t.slides.length-s.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>t.minTranslate()&&(V=!1,s.resistance&&(r.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+r.startTranslate+A)**$))):A<0&&(M&&k&&r.allowThresholdMove&&r.currentTranslate<(s.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(s.slidesPerView!=="auto"&&t.slides.length-s.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(s.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),r.currentTranslate<t.maxTranslate()&&(V=!1,s.resistance&&(r.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-r.startTranslate-A)**$))),V&&(f.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(A)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,a.startX=a.currentX,a.startY=a.currentY,r.currentTranslate=r.startTranslate,a.diff=t.isHorizontal()?a.currentX-a.startX:a.currentY-a.startY;return}}else{r.currentTranslate=r.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&t.freeMode||s.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(r.currentTranslate),t.setTranslate(r.currentTranslate))}function NN(n){const e=this,t=e.touchEventsData;let r=n;r.originalEvent&&(r=r.originalEvent);let s;if(r.type==="touchend"||r.type==="touchcancel"){if(s=[...r.changedTouches].find(Q=>Q.identifier===t.touchId),!s||s.identifier!==t.touchId)return}else{if(t.touchId!==null||r.pointerId!==t.pointerId)return;s=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:u,touches:h,rtlTranslate:f,slidesGrid:p,enabled:v}=e;if(!v||!u.simulateTouch&&r.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",r),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&u.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}u.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const w=Wc(),C=w-t.touchStartTime;if(e.allowClick){const Q=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(Q&&Q[0]||r.target,Q),e.emit("tap click",r),C<300&&w-t.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(t.lastClickTime=Wc(),Jf(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||h.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let N;if(u.followFinger?N=f?e.translate:-e.translate:N=-t.currentTranslate,u.cssMode)return;if(u.freeMode&&u.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:N});return}const A=N>=-e.maxTranslate()&&!e.params.loop;let L=0,O=e.slidesSizesGrid[0];for(let Q=0;Q<p.length;Q+=Q<u.slidesPerGroupSkip?1:u.slidesPerGroup){const J=Q<u.slidesPerGroupSkip-1?1:u.slidesPerGroup;typeof p[Q+J]<"u"?(A||N>=p[Q]&&N<p[Q+J])&&(L=Q,O=p[Q+J]-p[Q]):(A||N>=p[Q])&&(L=Q,O=p[p.length-1]-p[p.length-2])}let M=null,k=null;u.rewind&&(e.isBeginning?k=u.virtual&&u.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(M=0));const V=(N-p[L])/O,$=L<u.slidesPerGroupSkip-1?1:u.slidesPerGroup;if(C>u.longSwipesMs){if(!u.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(V>=u.longSwipesRatio?e.slideTo(u.rewind&&e.isEnd?M:L+$):e.slideTo(L)),e.swipeDirection==="prev"&&(V>1-u.longSwipesRatio?e.slideTo(L+$):k!==null&&V<0&&Math.abs(V)>u.longSwipesRatio?e.slideTo(k):e.slideTo(L))}else{if(!u.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(L+$):e.slideTo(L):(e.swipeDirection==="next"&&e.slideTo(M!==null?M:L+$),e.swipeDirection==="prev"&&e.slideTo(k!==null?k:L))}}function d_(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:a}=n,u=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const h=u&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!h?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!u?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=s,n.allowSlideNext=r,n.params.watchOverflow&&a!==n.snapGrid&&n.checkOverflow()}function bN(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function DN(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:r}=n;if(!r)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let s;const a=n.maxTranslate()-n.minTranslate();a===0?s=0:s=(n.translate-n.minTranslate())/a,s!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function MN(n){const e=this;Ic(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function VN(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const _E=(n,e)=>{const t=vr(),{params:r,el:s,wrapperEl:a,device:u}=n,h=!!r.nested,f=e==="on"?"addEventListener":"removeEventListener",p=e;!s||typeof s=="string"||(t[f]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:h}),s[f]("touchstart",n.onTouchStart,{passive:!1}),s[f]("pointerdown",n.onTouchStart,{passive:!1}),t[f]("touchmove",n.onTouchMove,{passive:!1,capture:h}),t[f]("pointermove",n.onTouchMove,{passive:!1,capture:h}),t[f]("touchend",n.onTouchEnd,{passive:!0}),t[f]("pointerup",n.onTouchEnd,{passive:!0}),t[f]("pointercancel",n.onTouchEnd,{passive:!0}),t[f]("touchcancel",n.onTouchEnd,{passive:!0}),t[f]("pointerout",n.onTouchEnd,{passive:!0}),t[f]("pointerleave",n.onTouchEnd,{passive:!0}),t[f]("contextmenu",n.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&s[f]("click",n.onClick,!0),r.cssMode&&a[f]("scroll",n.onScroll),r.updateOnWindowResize?n[p](u.ios||u.android?"resize orientationchange observerUpdate":"resize observerUpdate",d_,!0):n[p]("observerUpdate",d_,!0),s[f]("load",n.onLoad,{capture:!0}))};function LN(){const n=this,{params:e}=n;n.onTouchStart=RN.bind(n),n.onTouchMove=kN.bind(n),n.onTouchEnd=NN.bind(n),n.onDocumentTouchStart=VN.bind(n),e.cssMode&&(n.onScroll=DN.bind(n)),n.onClick=bN.bind(n),n.onLoad=MN.bind(n),_E(n,"on")}function ON(){_E(this,"off")}var jN={attachEvents:LN,detachEvents:ON};const h_=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function FN(){const n=this,{realIndex:e,initialized:t,params:r,el:s}=n,a=r.breakpoints;if(!a||a&&Object.keys(a).length===0)return;const u=vr(),h=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",f=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?n.el:u.querySelector(r.breakpointsBase),p=n.getBreakpoint(a,h,f);if(!p||n.currentBreakpoint===p)return;const w=(p in a?a[p]:void 0)||n.originalParams,C=h_(n,r),N=h_(n,w),A=n.params.grabCursor,L=w.grabCursor,O=r.enabled;C&&!N?(s.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),n.emitContainerClasses()):!C&&N&&(s.classList.add(`${r.containerModifierClass}grid`),(w.grid.fill&&w.grid.fill==="column"||!w.grid.fill&&r.grid.fill==="column")&&s.classList.add(`${r.containerModifierClass}grid-column`),n.emitContainerClasses()),A&&!L?n.unsetGrabCursor():!A&&L&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(J=>{if(typeof w[J]>"u")return;const j=r[J]&&r[J].enabled,b=w[J]&&w[J].enabled;j&&!b&&n[J].disable(),!j&&b&&n[J].enable()});const M=w.direction&&w.direction!==r.direction,k=r.loop&&(w.slidesPerView!==r.slidesPerView||M),V=r.loop;M&&t&&n.changeDirection(),vn(n.params,w);const $=n.params.enabled,Q=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),O&&!$?n.disable():!O&&$&&n.enable(),n.currentBreakpoint=p,n.emit("_beforeBreakpoint",w),t&&(k?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!V&&Q?(n.loopCreate(e),n.updateSlides()):V&&!Q&&n.loopDestroy()),n.emit("breakpoint",w)}function BN(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let r=!1;const s=Jt(),a=e==="window"?s.innerHeight:t.clientHeight,u=Object.keys(n).map(h=>{if(typeof h=="string"&&h.indexOf("@")===0){const f=parseFloat(h.substr(1));return{value:a*f,point:h}}return{value:h,point:h}});u.sort((h,f)=>parseInt(h.value,10)-parseInt(f.value,10));for(let h=0;h<u.length;h+=1){const{point:f,value:p}=u[h];e==="window"?s.matchMedia(`(min-width: ${p}px)`).matches&&(r=f):p<=t.clientWidth&&(r=f)}return r||"max"}var UN={setBreakpoint:FN,getBreakpoint:BN};function zN(n,e){const t=[];return n.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(s=>{r[s]&&t.push(e+s)}):typeof r=="string"&&t.push(e+r)}),t}function $N(){const n=this,{classNames:e,params:t,rtl:r,el:s,device:a}=n,u=zN(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:r},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:a.android},{ios:a.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...u),s.classList.add(...e),n.emitContainerClasses()}function GN(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var HN={addClasses:$N,removeClasses:GN};function qN(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:r}=t;if(r){const s=n.slides.length-1,a=n.slidesGrid[s]+n.slidesSizesGrid[s]+r*2;n.isLocked=n.size>a}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var WN={checkOverflow:qN},tp={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function KN(n,e){return function(r){r===void 0&&(r={});const s=Object.keys(r)[0],a=r[s];if(typeof a!="object"||a===null){vn(e,r);return}if(n[s]===!0&&(n[s]={enabled:!0}),s==="navigation"&&n[s]&&n[s].enabled&&!n[s].prevEl&&!n[s].nextEl&&(n[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&n[s]&&n[s].enabled&&!n[s].el&&(n[s].auto=!0),!(s in n&&"enabled"in a)){vn(e,r);return}typeof n[s]=="object"&&!("enabled"in n[s])&&(n[s].enabled=!0),n[s]||(n[s]={enabled:!1}),vn(e,r)}}const Ef={eventsEmitter:Hk,update:nN,translate:lN,transition:hN,slide:wN,loop:SN,grabCursor:xN,events:jN,breakpoints:UN,checkOverflow:WN,classes:HN},Cf={};let lm=class Br{constructor(){let e,t;for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];s.length===1&&s[0].constructor&&Object.prototype.toString.call(s[0]).slice(8,-1)==="Object"?t=s[0]:[e,t]=s,t||(t={}),t=vn({},t),e&&!t.el&&(t.el=e);const u=vr();if(t.el&&typeof t.el=="string"&&u.querySelectorAll(t.el).length>1){const v=[];return u.querySelectorAll(t.el).forEach(w=>{const C=vn({},t,{el:w});v.push(new Br(C))}),v}const h=this;h.__swiper__=!0,h.support=mE(),h.device=gE({userAgent:t.userAgent}),h.browser=vE(),h.eventsListeners={},h.eventsAnyListeners=[],h.modules=[...h.__modules__],t.modules&&Array.isArray(t.modules)&&h.modules.push(...t.modules);const f={};h.modules.forEach(v=>{v({params:t,swiper:h,extendParams:KN(t,f),on:h.on.bind(h),once:h.once.bind(h),off:h.off.bind(h),emit:h.emit.bind(h)})});const p=vn({},tp,f);return h.params=vn({},p,Cf,t),h.originalParams=vn({},h.params),h.passedParams=vn({},t),h.params&&h.params.on&&Object.keys(h.params.on).forEach(v=>{h.on(v,h.params.on[v])}),h.params&&h.params.onAny&&h.onAny(h.params.onAny),Object.assign(h,{enabled:h.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return h.params.direction==="horizontal"},isVertical(){return h.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:h.params.allowSlideNext,allowSlidePrev:h.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:h.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:h.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),h.emit("_swiper"),h.params.init&&h.init(),h}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:r}=this,s=dr(t,`.${r.slideClass}, swiper-slide`),a=Yc(s[0]);return Yc(e)-a}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:t,params:r}=e;e.slides=dr(t,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const r=this;e=Math.min(Math.max(e,0),1);const s=r.minTranslate(),u=(r.maxTranslate()-s)*e+s;r.translateTo(u,typeof t>"u"?0:t),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(r=>{const s=e.getSlideClasses(r);t.push({slideEl:r,classNames:s}),e.emit("_slideClass",r,s)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const r=this,{params:s,slides:a,slidesGrid:u,slidesSizesGrid:h,size:f,activeIndex:p}=r;let v=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let w=a[p]?Math.ceil(a[p].swiperSlideSize):0,C;for(let N=p+1;N<a.length;N+=1)a[N]&&!C&&(w+=Math.ceil(a[N].swiperSlideSize),v+=1,w>f&&(C=!0));for(let N=p-1;N>=0;N-=1)a[N]&&!C&&(w+=a[N].swiperSlideSize,v+=1,w>f&&(C=!0))}else if(e==="current")for(let w=p+1;w<a.length;w+=1)(t?u[w]+h[w]-u[p]<f:u[w]-u[p]<f)&&(v+=1);else for(let w=p-1;w>=0;w-=1)u[p]-u[w]<f&&(v+=1);return v}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(u=>{u.complete&&Ic(e,u)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const u=e.rtlTranslate?e.translate*-1:e.translate,h=Math.min(Math.max(u,e.maxTranslate()),e.minTranslate());e.setTranslate(h),e.updateActiveIndex(),e.updateSlidesClasses()}let a;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)s(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const u=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;a=e.slideTo(u.length-1,0,!1,!0)}else a=e.slideTo(e.activeIndex,0,!1,!0);a||s()}r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const r=this,s=r.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${s}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(a=>{e==="vertical"?a.style.width="":a.style.height=""}),r.emit("changeDirection"),t&&r.update()),r}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let r=e||t.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=t,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const s=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let u=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(s()):dr(r,s())[0];return!u&&t.params.createElements&&(u=Qc("div",t.params.wrapperClass),r.append(u),dr(r,`.${t.params.slideClass}`).forEach(h=>{u.append(h)})),Object.assign(t,{el:r,wrapperEl:u,slidesEl:t.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:u,hostEl:t.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Mi(r,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Mi(r,"direction")==="rtl"),wrongRTL:Mi(u,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const s=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&s.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(a=>{a.complete?Ic(t,a):a.addEventListener("load",u=>{Ic(t,u.target)})}),ep(t),t.initialized=!0,ep(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const r=this,{params:s,el:a,wrapperEl:u,slides:h}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),t&&(r.removeClasses(),a&&typeof a!="string"&&a.removeAttribute("style"),u&&u.removeAttribute("style"),h&&h.length&&h.forEach(f=>{f.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),f.removeAttribute("style"),f.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(f=>{r.off(f)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),bk(r)),r.destroyed=!0),null}static extendDefaults(e){vn(Cf,e)}static get extendedDefaults(){return Cf}static get defaults(){return tp}static installModule(e){Br.prototype.__modules__||(Br.prototype.__modules__=[]);const t=Br.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>Br.installModule(t)),Br):(Br.installModule(e),Br)}};Object.keys(Ef).forEach(n=>{Object.keys(Ef[n]).forEach(e=>{lm.prototype[e]=Ef[n][e]})});lm.use([$k,Gk]);const wE=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Ns(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function zo(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:Ns(e[r])&&Ns(n[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?n[r]=e[r]:zo(n[r],e[r]):n[r]=e[r]})}function EE(n){return n===void 0&&(n={}),n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function CE(n){return n===void 0&&(n={}),n.pagination&&typeof n.pagination.el>"u"}function TE(n){return n===void 0&&(n={}),n.scrollbar&&typeof n.scrollbar.el>"u"}function SE(n){n===void 0&&(n="");const e=n.split(" ").map(r=>r.trim()).filter(r=>!!r),t=[];return e.forEach(r=>{t.indexOf(r)<0&&t.push(r)}),t.join(" ")}function QN(n){return n===void 0&&(n=""),n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function YN(n){let{swiper:e,slides:t,passedParams:r,changedParams:s,nextEl:a,prevEl:u,scrollbarEl:h,paginationEl:f}=n;const p=s.filter(T=>T!=="children"&&T!=="direction"&&T!=="wrapperClass"),{params:v,pagination:w,navigation:C,scrollbar:N,virtual:A,thumbs:L}=e;let O,M,k,V,$,Q,J,j;s.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&v.thumbs&&(!v.thumbs.swiper||v.thumbs.swiper.destroyed)&&(O=!0),s.includes("controller")&&r.controller&&r.controller.control&&v.controller&&!v.controller.control&&(M=!0),s.includes("pagination")&&r.pagination&&(r.pagination.el||f)&&(v.pagination||v.pagination===!1)&&w&&!w.el&&(k=!0),s.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||h)&&(v.scrollbar||v.scrollbar===!1)&&N&&!N.el&&(V=!0),s.includes("navigation")&&r.navigation&&(r.navigation.prevEl||u)&&(r.navigation.nextEl||a)&&(v.navigation||v.navigation===!1)&&C&&!C.prevEl&&!C.nextEl&&($=!0);const b=T=>{e[T]&&(e[T].destroy(),T==="navigation"?(e.isElement&&(e[T].prevEl.remove(),e[T].nextEl.remove()),v[T].prevEl=void 0,v[T].nextEl=void 0,e[T].prevEl=void 0,e[T].nextEl=void 0):(e.isElement&&e[T].el.remove(),v[T].el=void 0,e[T].el=void 0))};s.includes("loop")&&e.isElement&&(v.loop&&!r.loop?Q=!0:!v.loop&&r.loop?J=!0:j=!0),p.forEach(T=>{if(Ns(v[T])&&Ns(r[T]))Object.assign(v[T],r[T]),(T==="navigation"||T==="pagination"||T==="scrollbar")&&"enabled"in r[T]&&!r[T].enabled&&b(T);else{const x=r[T];(x===!0||x===!1)&&(T==="navigation"||T==="pagination"||T==="scrollbar")?x===!1&&b(T):v[T]=r[T]}}),p.includes("controller")&&!M&&e.controller&&e.controller.control&&v.controller&&v.controller.control&&(e.controller.control=v.controller.control),s.includes("children")&&t&&A&&v.virtual.enabled?(A.slides=t,A.update(!0)):s.includes("virtual")&&A&&v.virtual.enabled&&(t&&(A.slides=t),A.update(!0)),s.includes("children")&&t&&v.loop&&(j=!0),O&&L.init()&&L.update(!0),M&&(e.controller.control=v.controller.control),k&&(e.isElement&&(!f||typeof f=="string")&&(f=document.createElement("div"),f.classList.add("swiper-pagination"),f.part.add("pagination"),e.el.appendChild(f)),f&&(v.pagination.el=f),w.init(),w.render(),w.update()),V&&(e.isElement&&(!h||typeof h=="string")&&(h=document.createElement("div"),h.classList.add("swiper-scrollbar"),h.part.add("scrollbar"),e.el.appendChild(h)),h&&(v.scrollbar.el=h),N.init(),N.updateSize(),N.setTranslate()),$&&(e.isElement&&((!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-next"),a.innerHTML=e.hostEl.constructor.nextButtonSvg,a.part.add("button-next"),e.el.appendChild(a)),(!u||typeof u=="string")&&(u=document.createElement("div"),u.classList.add("swiper-button-prev"),u.innerHTML=e.hostEl.constructor.prevButtonSvg,u.part.add("button-prev"),e.el.appendChild(u))),a&&(v.navigation.nextEl=a),u&&(v.navigation.prevEl=u),C.init(),C.update()),s.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),s.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),s.includes("direction")&&e.changeDirection(r.direction,!1),(Q||j)&&e.loopDestroy(),(J||j)&&e.loopCreate(),e.update()}function XN(n,e){n===void 0&&(n={}),e===void 0&&(e=!0);const t={on:{}},r={},s={};zo(t,tp),t._emitClasses=!0,t.init=!1;const a={},u=wE.map(f=>f.replace(/_/,"")),h=Object.assign({},n);return Object.keys(h).forEach(f=>{typeof n[f]>"u"||(u.indexOf(f)>=0?Ns(n[f])?(t[f]={},s[f]={},zo(t[f],n[f]),zo(s[f],n[f])):(t[f]=n[f],s[f]=n[f]):f.search(/on[A-Z]/)===0&&typeof n[f]=="function"?e?r[`${f[2].toLowerCase()}${f.substr(3)}`]=n[f]:t.on[`${f[2].toLowerCase()}${f.substr(3)}`]=n[f]:a[f]=n[f])}),["navigation","pagination","scrollbar"].forEach(f=>{t[f]===!0&&(t[f]={}),t[f]===!1&&delete t[f]}),{params:t,passedParams:s,rest:a,events:r}}function JN(n,e){let{el:t,nextEl:r,prevEl:s,paginationEl:a,scrollbarEl:u,swiper:h}=n;EE(e)&&r&&s&&(h.params.navigation.nextEl=r,h.originalParams.navigation.nextEl=r,h.params.navigation.prevEl=s,h.originalParams.navigation.prevEl=s),CE(e)&&a&&(h.params.pagination.el=a,h.originalParams.pagination.el=a),TE(e)&&u&&(h.params.scrollbar.el=u,h.originalParams.scrollbar.el=u),h.init(t)}function ZN(n,e,t,r,s){const a=[];if(!e)return a;const u=f=>{a.indexOf(f)<0&&a.push(f)};if(t&&r){const f=r.map(s),p=t.map(s);f.join("")!==p.join("")&&u("children"),r.length!==t.length&&u("children")}return wE.filter(f=>f[0]==="_").map(f=>f.replace(/_/,"")).forEach(f=>{if(f in n&&f in e)if(Ns(n[f])&&Ns(e[f])){const p=Object.keys(n[f]),v=Object.keys(e[f]);p.length!==v.length?u(f):(p.forEach(w=>{n[f][w]!==e[f][w]&&u(f)}),v.forEach(w=>{n[f][w]!==e[f][w]&&u(f)}))}else n[f]!==e[f]&&u(f)}),a}const eb=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function Xc(){return Xc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Xc.apply(this,arguments)}function AE(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function IE(n){const e=[];return pt.Children.toArray(n).forEach(t=>{AE(t)?e.push(t):t.props&&t.props.children&&IE(t.props.children).forEach(r=>e.push(r))}),e}function tb(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return pt.Children.toArray(n).forEach(r=>{if(AE(r))e.push(r);else if(r.props&&r.props.slot&&t[r.props.slot])t[r.props.slot].push(r);else if(r.props&&r.props.children){const s=IE(r.props.children);s.length>0?s.forEach(a=>e.push(a)):t["container-end"].push(r)}else t["container-end"].push(r)}),{slides:e,slots:t}}function nb(n,e,t){if(!t)return null;const r=v=>{let w=v;return v<0?w=e.length+v:w>=e.length&&(w=w-e.length),w},s=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:a,to:u}=t,h=n.params.loop?-e.length:0,f=n.params.loop?e.length*2:e.length,p=[];for(let v=h;v<f;v+=1)v>=a&&v<=u&&p.push(e[r(v)]);return p.map((v,w)=>pt.cloneElement(v,{swiper:n,style:s,key:v.props.virtualIndex||v.key||`slide-${w}`}))}function vl(n,e){return typeof window>"u"?B.useEffect(n,e):B.useLayoutEffect(n,e)}const f_=B.createContext(null),rb=B.createContext(null),um=B.forwardRef(function(n,e){let{className:t,tag:r="div",wrapperTag:s="div",children:a,onSwiper:u,...h}=n===void 0?{}:n,f=!1;const[p,v]=B.useState("swiper"),[w,C]=B.useState(null),[N,A]=B.useState(!1),L=B.useRef(!1),O=B.useRef(null),M=B.useRef(null),k=B.useRef(null),V=B.useRef(null),$=B.useRef(null),Q=B.useRef(null),J=B.useRef(null),j=B.useRef(null),{params:b,passedParams:T,rest:x,events:I}=XN(h),{slides:P,slots:R}=tb(a),ne=()=>{A(!N)};Object.assign(b.on,{_containerClasses(te,oe){v(oe)}});const ie=()=>{Object.assign(b.on,I),f=!0;const te={...b};if(delete te.wrapperClass,M.current=new lm(te),M.current.virtual&&M.current.params.virtual.enabled){M.current.virtual.slides=P;const oe={cache:!1,slides:P,renderExternal:C,renderExternalUpdate:!1};zo(M.current.params.virtual,oe),zo(M.current.originalParams.virtual,oe)}};O.current||ie(),M.current&&M.current.on("_beforeBreakpoint",ne);const se=()=>{f||!I||!M.current||Object.keys(I).forEach(te=>{M.current.on(te,I[te])})},fe=()=>{!I||!M.current||Object.keys(I).forEach(te=>{M.current.off(te,I[te])})};B.useEffect(()=>()=>{M.current&&M.current.off("_beforeBreakpoint",ne)}),B.useEffect(()=>{!L.current&&M.current&&(M.current.emitSlidesClasses(),L.current=!0)}),vl(()=>{if(e&&(e.current=O.current),!!O.current)return M.current.destroyed&&ie(),JN({el:O.current,nextEl:$.current,prevEl:Q.current,paginationEl:J.current,scrollbarEl:j.current,swiper:M.current},b),u&&!M.current.destroyed&&u(M.current),()=>{M.current&&!M.current.destroyed&&M.current.destroy(!0,!1)}},[]),vl(()=>{se();const te=ZN(T,k.current,P,V.current,oe=>oe.key);return k.current=T,V.current=P,te.length&&M.current&&!M.current.destroyed&&YN({swiper:M.current,slides:P,passedParams:T,changedParams:te,nextEl:$.current,prevEl:Q.current,scrollbarEl:j.current,paginationEl:J.current}),()=>{fe()}}),vl(()=>{eb(M.current)},[w]);function H(){return b.virtual?nb(M.current,P,w):P.map((te,oe)=>pt.cloneElement(te,{swiper:M.current,swiperSlideIndex:oe}))}return pt.createElement(r,Xc({ref:O,className:SE(`${p}${t?` ${t}`:""}`)},x),pt.createElement(rb.Provider,{value:M.current},R["container-start"],pt.createElement(s,{className:QN(b.wrapperClass)},R["wrapper-start"],H(),R["wrapper-end"]),EE(b)&&pt.createElement(pt.Fragment,null,pt.createElement("div",{ref:Q,className:"swiper-button-prev"}),pt.createElement("div",{ref:$,className:"swiper-button-next"})),TE(b)&&pt.createElement("div",{ref:j,className:"swiper-scrollbar"}),CE(b)&&pt.createElement("div",{ref:J,className:"swiper-pagination"}),R["container-end"]))});um.displayName="Swiper";const cm=B.forwardRef(function(n,e){let{tag:t="div",children:r,className:s="",swiper:a,zoom:u,lazy:h,virtualIndex:f,swiperSlideIndex:p,...v}=n===void 0?{}:n;const w=B.useRef(null),[C,N]=B.useState("swiper-slide"),[A,L]=B.useState(!1);function O($,Q,J){Q===w.current&&N(J)}vl(()=>{if(typeof p<"u"&&(w.current.swiperSlideIndex=p),e&&(e.current=w.current),!(!w.current||!a)){if(a.destroyed){C!=="swiper-slide"&&N("swiper-slide");return}return a.on("_slideClass",O),()=>{a&&a.off("_slideClass",O)}}}),vl(()=>{a&&w.current&&!a.destroyed&&N(a.getSlideClasses(w.current))},[a]);const M={isActive:C.indexOf("swiper-slide-active")>=0,isVisible:C.indexOf("swiper-slide-visible")>=0,isPrev:C.indexOf("swiper-slide-prev")>=0,isNext:C.indexOf("swiper-slide-next")>=0},k=()=>typeof r=="function"?r(M):r,V=()=>{L(!0)};return pt.createElement(t,Xc({ref:w,className:SE(`${C}${s?` ${s}`:""}`),"data-swiper-slide-index":f,onLoad:V},v),u&&pt.createElement(f_.Provider,{value:M},pt.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof u=="number"?u:void 0},k(),h&&!A&&pt.createElement("div",{className:"swiper-lazy-preloader"}))),!u&&pt.createElement(f_.Provider,{value:M},k(),h&&!A&&pt.createElement("div",{className:"swiper-lazy-preloader"})))});cm.displayName="SwiperSlide";function xE(n,e,t,r){return n.params.createElements&&Object.keys(r).forEach(s=>{if(!t[s]&&t.auto===!0){let a=dr(n.el,`.${r[s]}`)[0];a||(a=Qc("div",r[s]),a.className=r[s],n.el.append(a)),t[s]=a,e[s]=a}}),t}function PE(n){let{swiper:e,extendParams:t,on:r,emit:s}=n;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function a(A){let L;return A&&typeof A=="string"&&e.isElement&&(L=e.el.querySelector(A)||e.hostEl.querySelector(A),L)?L:(A&&(typeof A=="string"&&(L=[...document.querySelectorAll(A)]),e.params.uniqueNavElements&&typeof A=="string"&&L&&L.length>1&&e.el.querySelectorAll(A).length===1?L=e.el.querySelector(A):L&&L.length===1&&(L=L[0])),A&&!L?A:L)}function u(A,L){const O=e.params.navigation;A=kt(A),A.forEach(M=>{M&&(M.classList[L?"add":"remove"](...O.disabledClass.split(" ")),M.tagName==="BUTTON"&&(M.disabled=L),e.params.watchOverflow&&e.enabled&&M.classList[e.isLocked?"add":"remove"](O.lockClass))})}function h(){const{nextEl:A,prevEl:L}=e.navigation;if(e.params.loop){u(L,!1),u(A,!1);return}u(L,e.isBeginning&&!e.params.rewind),u(A,e.isEnd&&!e.params.rewind)}function f(A){A.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),s("navigationPrev"))}function p(A){A.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),s("navigationNext"))}function v(){const A=e.params.navigation;if(e.params.navigation=xE(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(A.nextEl||A.prevEl))return;let L=a(A.nextEl),O=a(A.prevEl);Object.assign(e.navigation,{nextEl:L,prevEl:O}),L=kt(L),O=kt(O);const M=(k,V)=>{k&&k.addEventListener("click",V==="next"?p:f),!e.enabled&&k&&k.classList.add(...A.lockClass.split(" "))};L.forEach(k=>M(k,"next")),O.forEach(k=>M(k,"prev"))}function w(){let{nextEl:A,prevEl:L}=e.navigation;A=kt(A),L=kt(L);const O=(M,k)=>{M.removeEventListener("click",k==="next"?p:f),M.classList.remove(...e.params.navigation.disabledClass.split(" "))};A.forEach(M=>O(M,"next")),L.forEach(M=>O(M,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?N():(v(),h())}),r("toEdge fromEdge lock unlock",()=>{h()}),r("destroy",()=>{w()}),r("enable disable",()=>{let{nextEl:A,prevEl:L}=e.navigation;if(A=kt(A),L=kt(L),e.enabled){h();return}[...A,...L].filter(O=>!!O).forEach(O=>O.classList.add(e.params.navigation.lockClass))}),r("click",(A,L)=>{let{nextEl:O,prevEl:M}=e.navigation;O=kt(O),M=kt(M);const k=L.target;let V=M.includes(k)||O.includes(k);if(e.isElement&&!V){const $=L.path||L.composedPath&&L.composedPath();$&&(V=$.find(Q=>O.includes(Q)||M.includes(Q)))}if(e.params.navigation.hideOnClick&&!V){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===k||e.pagination.el.contains(k)))return;let $;O.length?$=O[0].classList.contains(e.params.navigation.hiddenClass):M.length&&($=M[0].classList.contains(e.params.navigation.hiddenClass)),s($===!0?"navigationShow":"navigationHide"),[...O,...M].filter(Q=>!!Q).forEach(Q=>Q.classList.toggle(e.params.navigation.hiddenClass))}});const C=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),v(),h()},N=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),w()};Object.assign(e.navigation,{enable:C,disable:N,update:h,init:v,destroy:w})}function ol(n){return n===void 0&&(n=""),`.${n.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function ib(n){let{swiper:e,extendParams:t,on:r,emit:s}=n;const a="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:k=>k,formatFractionTotal:k=>k,bulletClass:`${a}-bullet`,bulletActiveClass:`${a}-bullet-active`,modifierClass:`${a}-`,currentClass:`${a}-current`,totalClass:`${a}-total`,hiddenClass:`${a}-hidden`,progressbarFillClass:`${a}-progressbar-fill`,progressbarOppositeClass:`${a}-progressbar-opposite`,clickableClass:`${a}-clickable`,lockClass:`${a}-lock`,horizontalClass:`${a}-horizontal`,verticalClass:`${a}-vertical`,paginationDisabledClass:`${a}-disabled`}}),e.pagination={el:null,bullets:[]};let u,h=0;function f(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function p(k,V){const{bulletActiveClass:$}=e.params.pagination;k&&(k=k[`${V==="prev"?"previous":"next"}ElementSibling`],k&&(k.classList.add(`${$}-${V}`),k=k[`${V==="prev"?"previous":"next"}ElementSibling`],k&&k.classList.add(`${$}-${V}-${V}`)))}function v(k,V,$){if(k=k%$,V=V%$,V===k+1)return"next";if(V===k-1)return"previous"}function w(k){const V=k.target.closest(ol(e.params.pagination.bulletClass));if(!V)return;k.preventDefault();const $=Yc(V)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===$)return;const Q=v(e.realIndex,$,e.slides.length);Q==="next"?e.slideNext():Q==="previous"?e.slidePrev():e.slideToLoop($)}else e.slideTo($)}function C(){const k=e.rtl,V=e.params.pagination;if(f())return;let $=e.pagination.el;$=kt($);let Q,J;const j=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,b=e.params.loop?Math.ceil(j/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(J=e.previousRealIndex||0,Q=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(Q=e.snapIndex,J=e.previousSnapIndex):(J=e.previousIndex||0,Q=e.activeIndex||0),V.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const T=e.pagination.bullets;let x,I,P;if(V.dynamicBullets&&(u=Zf(T[0],e.isHorizontal()?"width":"height"),$.forEach(R=>{R.style[e.isHorizontal()?"width":"height"]=`${u*(V.dynamicMainBullets+4)}px`}),V.dynamicMainBullets>1&&J!==void 0&&(h+=Q-(J||0),h>V.dynamicMainBullets-1?h=V.dynamicMainBullets-1:h<0&&(h=0)),x=Math.max(Q-h,0),I=x+(Math.min(T.length,V.dynamicMainBullets)-1),P=(I+x)/2),T.forEach(R=>{const ne=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(ie=>`${V.bulletActiveClass}${ie}`)].map(ie=>typeof ie=="string"&&ie.includes(" ")?ie.split(" "):ie).flat();R.classList.remove(...ne)}),$.length>1)T.forEach(R=>{const ne=Yc(R);ne===Q?R.classList.add(...V.bulletActiveClass.split(" ")):e.isElement&&R.setAttribute("part","bullet"),V.dynamicBullets&&(ne>=x&&ne<=I&&R.classList.add(...`${V.bulletActiveClass}-main`.split(" ")),ne===x&&p(R,"prev"),ne===I&&p(R,"next"))});else{const R=T[Q];if(R&&R.classList.add(...V.bulletActiveClass.split(" ")),e.isElement&&T.forEach((ne,ie)=>{ne.setAttribute("part",ie===Q?"bullet-active":"bullet")}),V.dynamicBullets){const ne=T[x],ie=T[I];for(let se=x;se<=I;se+=1)T[se]&&T[se].classList.add(...`${V.bulletActiveClass}-main`.split(" "));p(ne,"prev"),p(ie,"next")}}if(V.dynamicBullets){const R=Math.min(T.length,V.dynamicMainBullets+4),ne=(u*R-u)/2-P*u,ie=k?"right":"left";T.forEach(se=>{se.style[e.isHorizontal()?ie:"top"]=`${ne}px`})}}$.forEach((T,x)=>{if(V.type==="fraction"&&(T.querySelectorAll(ol(V.currentClass)).forEach(I=>{I.textContent=V.formatFractionCurrent(Q+1)}),T.querySelectorAll(ol(V.totalClass)).forEach(I=>{I.textContent=V.formatFractionTotal(b)})),V.type==="progressbar"){let I;V.progressbarOpposite?I=e.isHorizontal()?"vertical":"horizontal":I=e.isHorizontal()?"horizontal":"vertical";const P=(Q+1)/b;let R=1,ne=1;I==="horizontal"?R=P:ne=P,T.querySelectorAll(ol(V.progressbarFillClass)).forEach(ie=>{ie.style.transform=`translate3d(0,0,0) scaleX(${R}) scaleY(${ne})`,ie.style.transitionDuration=`${e.params.speed}ms`})}V.type==="custom"&&V.renderCustom?(T.innerHTML=V.renderCustom(e,Q+1,b),x===0&&s("paginationRender",T)):(x===0&&s("paginationRender",T),s("paginationUpdate",T)),e.params.watchOverflow&&e.enabled&&T.classList[e.isLocked?"add":"remove"](V.lockClass)})}function N(){const k=e.params.pagination;if(f())return;const V=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let $=e.pagination.el;$=kt($);let Q="";if(k.type==="bullets"){let J=e.params.loop?Math.ceil(V/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&J>V&&(J=V);for(let j=0;j<J;j+=1)k.renderBullet?Q+=k.renderBullet.call(e,j,k.bulletClass):Q+=`<${k.bulletElement} ${e.isElement?'part="bullet"':""} class="${k.bulletClass}"></${k.bulletElement}>`}k.type==="fraction"&&(k.renderFraction?Q=k.renderFraction.call(e,k.currentClass,k.totalClass):Q=`<span class="${k.currentClass}"></span> / <span class="${k.totalClass}"></span>`),k.type==="progressbar"&&(k.renderProgressbar?Q=k.renderProgressbar.call(e,k.progressbarFillClass):Q=`<span class="${k.progressbarFillClass}"></span>`),e.pagination.bullets=[],$.forEach(J=>{k.type!=="custom"&&(J.innerHTML=Q||""),k.type==="bullets"&&e.pagination.bullets.push(...J.querySelectorAll(ol(k.bulletClass)))}),k.type!=="custom"&&s("paginationRender",$[0])}function A(){e.params.pagination=xE(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const k=e.params.pagination;if(!k.el)return;let V;typeof k.el=="string"&&e.isElement&&(V=e.el.querySelector(k.el)),!V&&typeof k.el=="string"&&(V=[...document.querySelectorAll(k.el)]),V||(V=k.el),!(!V||V.length===0)&&(e.params.uniqueNavElements&&typeof k.el=="string"&&Array.isArray(V)&&V.length>1&&(V=[...e.el.querySelectorAll(k.el)],V.length>1&&(V=V.find($=>pE($,".swiper")[0]===e.el))),Array.isArray(V)&&V.length===1&&(V=V[0]),Object.assign(e.pagination,{el:V}),V=kt(V),V.forEach($=>{k.type==="bullets"&&k.clickable&&$.classList.add(...(k.clickableClass||"").split(" ")),$.classList.add(k.modifierClass+k.type),$.classList.add(e.isHorizontal()?k.horizontalClass:k.verticalClass),k.type==="bullets"&&k.dynamicBullets&&($.classList.add(`${k.modifierClass}${k.type}-dynamic`),h=0,k.dynamicMainBullets<1&&(k.dynamicMainBullets=1)),k.type==="progressbar"&&k.progressbarOpposite&&$.classList.add(k.progressbarOppositeClass),k.clickable&&$.addEventListener("click",w),e.enabled||$.classList.add(k.lockClass)}))}function L(){const k=e.params.pagination;if(f())return;let V=e.pagination.el;V&&(V=kt(V),V.forEach($=>{$.classList.remove(k.hiddenClass),$.classList.remove(k.modifierClass+k.type),$.classList.remove(e.isHorizontal()?k.horizontalClass:k.verticalClass),k.clickable&&($.classList.remove(...(k.clickableClass||"").split(" ")),$.removeEventListener("click",w))})),e.pagination.bullets&&e.pagination.bullets.forEach($=>$.classList.remove(...k.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const k=e.params.pagination;let{el:V}=e.pagination;V=kt(V),V.forEach($=>{$.classList.remove(k.horizontalClass,k.verticalClass),$.classList.add(e.isHorizontal()?k.horizontalClass:k.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?M():(A(),N(),C())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&C()}),r("snapIndexChange",()=>{C()}),r("snapGridLengthChange",()=>{N(),C()}),r("destroy",()=>{L()}),r("enable disable",()=>{let{el:k}=e.pagination;k&&(k=kt(k),k.forEach(V=>V.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{C()}),r("click",(k,V)=>{const $=V.target,Q=kt(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&Q&&Q.length>0&&!$.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&$===e.navigation.nextEl||e.navigation.prevEl&&$===e.navigation.prevEl))return;const J=Q[0].classList.contains(e.params.pagination.hiddenClass);s(J===!0?"paginationShow":"paginationHide"),Q.forEach(j=>j.classList.toggle(e.params.pagination.hiddenClass))}});const O=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:k}=e.pagination;k&&(k=kt(k),k.forEach(V=>V.classList.remove(e.params.pagination.paginationDisabledClass))),A(),N(),C()},M=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:k}=e.pagination;k&&(k=kt(k),k.forEach(V=>V.classList.add(e.params.pagination.paginationDisabledClass))),L()};Object.assign(e.pagination,{enable:O,disable:M,render:N,update:C,init:A,destroy:L})}function RE(n){let{swiper:e,extendParams:t,on:r,emit:s,params:a}=n;e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let u,h,f=a&&a.autoplay?a.autoplay.delay:3e3,p=a&&a.autoplay?a.autoplay.delay:3e3,v,w=new Date().getTime(),C,N,A,L,O,M,k;function V(H){!e||e.destroyed||!e.wrapperEl||H.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",V),!(k||H.detail&&H.detail.bySwiperTouchMove)&&x())}const $=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?C=!0:C&&(p=v,C=!1);const H=e.autoplay.paused?v:w+p-new Date().getTime();e.autoplay.timeLeft=H,s("autoplayTimeLeft",H,H/f),h=requestAnimationFrame(()=>{$()})},Q=()=>{let H;return e.virtual&&e.params.virtual.enabled?H=e.slides.find(oe=>oe.classList.contains("swiper-slide-active")):H=e.slides[e.activeIndex],H?parseInt(H.getAttribute("data-swiper-autoplay"),10):void 0},J=H=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(h),$();let te=typeof H>"u"?e.params.autoplay.delay:H;f=e.params.autoplay.delay,p=e.params.autoplay.delay;const oe=Q();!Number.isNaN(oe)&&oe>0&&typeof H>"u"&&(te=oe,f=oe,p=oe),v=te;const G=e.params.speed,Z=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(G,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,G,!0,!0),s("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(G,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,G,!0,!0),s("autoplay")),e.params.cssMode&&(w=new Date().getTime(),requestAnimationFrame(()=>{J()})))};return te>0?(clearTimeout(u),u=setTimeout(()=>{Z()},te)):requestAnimationFrame(()=>{Z()}),te},j=()=>{w=new Date().getTime(),e.autoplay.running=!0,J(),s("autoplayStart")},b=()=>{e.autoplay.running=!1,clearTimeout(u),cancelAnimationFrame(h),s("autoplayStop")},T=(H,te)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(u),H||(M=!0);const oe=()=>{s("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",V):x()};if(e.autoplay.paused=!0,te){O&&(v=e.params.autoplay.delay),O=!1,oe();return}v=(v||e.params.autoplay.delay)-(new Date().getTime()-w),!(e.isEnd&&v<0&&!e.params.loop)&&(v<0&&(v=0),oe())},x=()=>{e.isEnd&&v<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(w=new Date().getTime(),M?(M=!1,J(v)):J(),e.autoplay.paused=!1,s("autoplayResume"))},I=()=>{if(e.destroyed||!e.autoplay.running)return;const H=vr();H.visibilityState==="hidden"&&(M=!0,T(!0)),H.visibilityState==="visible"&&x()},P=H=>{H.pointerType==="mouse"&&(M=!0,k=!0,!(e.animating||e.autoplay.paused)&&T(!0))},R=H=>{H.pointerType==="mouse"&&(k=!1,e.autoplay.paused&&x())},ne=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",P),e.el.addEventListener("pointerleave",R))},ie=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",P),e.el.removeEventListener("pointerleave",R))},se=()=>{vr().addEventListener("visibilitychange",I)},fe=()=>{vr().removeEventListener("visibilitychange",I)};r("init",()=>{e.params.autoplay.enabled&&(ne(),se(),j())}),r("destroy",()=>{ie(),fe(),e.autoplay.running&&b()}),r("_freeModeStaticRelease",()=>{(A||M)&&x()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?b():T(!0,!0)}),r("beforeTransitionStart",(H,te,oe)=>{e.destroyed||!e.autoplay.running||(oe||!e.params.autoplay.disableOnInteraction?T(!0,!0):b())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){b();return}N=!0,A=!1,M=!1,L=setTimeout(()=>{M=!0,A=!0,T(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!N)){if(clearTimeout(L),clearTimeout(u),e.params.autoplay.disableOnInteraction){A=!1,N=!1;return}A&&e.params.cssMode&&x(),A=!1,N=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(O=!0)}),Object.assign(e.autoplay,{start:j,stop:b,pause:T,resume:x})}function sb(){const[n,e]=B.useState(null),[t,r]=B.useState(""),[s,a]=B.useState(Le),[u,h]=B.useState(!0),[f,p]=B.useState(!1),v=B.useRef(null),w=Xn(),C=async L=>{const O=As(Nn(qe,"reviews"),Pl("storeId","==",L)),k=(await qr(O)).docs.map(Q=>Q.data()),V=k.reduce((Q,J)=>Q+(J.star||0),0),$=k.length?V/k.length:0;return{average:Number($.toFixed(1)),count:k.length}},[N,A]=B.useState({});return B.useEffect(()=>{(async()=>{const O={};for(let M=0;M<Le.length;M++){const k=`store${M+1}`,V=await C(k);O[k]=V}A(O)})()},[]),B.useEffect(()=>{if(!u)return;const L=()=>{window.kakao&&window.kakao.maps&&window.kakao.maps.load(()=>{O()})},O=()=>{const M=document.getElementById("map");if(!M)return;const k=new window.kakao.maps.Map(M,{center:new window.kakao.maps.LatLng(35.413,128.123),level:4});if(v.current=k,s.forEach(V=>{const $=new window.kakao.maps.LatLng(V.lat,V.lng),Q=new window.kakao.maps.Marker({position:$,map:k,title:V.name});window.kakao.maps.event.addListener(Q,"click",()=>{e(V),k.setLevel(1),k.panTo($)});const J=document.createElement("div");J.id=`store-label-${V.name}`,J.innerText=V.name,J.style.cssText=`
          cursor: pointer;
          padding: 6px 14px;
          background: white;
          border-radius: 8px;
          box-shadow: 0 2px 8px rgba(0,0,0,0.15);
          font-size: 13px;
          font-weight: 500;
          color: #333;
          white-space: nowrap;
          border: 1px solid #ddd;
        `,J.onclick=()=>{e(V)};const j=new window.kakao.maps.CustomOverlay({position:$,content:J,yAnchor:1.5});requestAnimationFrame(()=>{j.setMap(k)})}),s.length===1){const V=s[0];k.setCenter(new window.kakao.maps.LatLng(V.lat,V.lng)),k.setLevel(3)}};if(!window.kakao||!window.kakao.maps){const M=document.createElement("script");M.src="https://dapi.kakao.com/v2/maps/sdk.js?autoload=false&appkey=d65716a4db9e8a93aaff1dfc09ee36b8",M.onload=L,document.head.appendChild(M)}else L()},[u,s]),_.jsxs("div",{className:"map-gallery-wrapper",children:[_.jsxs("div",{className:"map-gallery-inner",children:[_.jsxs("div",{className:"map-gallery-swiper-container",children:[_.jsx(um,{className:"map-gallery-swiper",modules:[PE,ib,RE],navigation:!0,pagination:{clickable:!0},autoplay:{delay:2e3},loop:!0,children:["대가1호점","미로식육식당","태영식육식당"].map((L,O)=>_.jsx(cm,{children:_.jsx("img",{src:`/SAMGA-V2/img/landing/${L}_1.jpg`,alt:L,className:"map-gallery-slide-img"})},O))}),_.jsxs("div",{className:"map-gallery-searchbar",children:[_.jsx("button",{className:"search-icon-button",onClick:()=>{if(t.trim()==="")a(Le),e(null);else{const L=Le.filter(O=>O.name.includes(t));a(L),e(L[0]??null)}},children:_.jsx("img",{src:"/SAMGA-V2/img/logo/search.svg",alt:"검색 아이콘",className:"search-icon-img"})}),_.jsx("input",{type:"text",value:t,placeholder:"내가 찾는 식당을 검색해보세요.",onFocus:()=>h(!0),onChange:L=>{const O=L.target.value;if(r(O),O.trim()==="")a(Le),e(null);else{const M=Le.filter(k=>k.name.includes(O));a(M),e(M[0]??null)}},onKeyDown:L=>{if(L.key==="Enter"){const O=Le.filter(M=>M.name.includes(t));a(O),e(O[0]??null)}}})]})]}),u&&_.jsxs("div",{className:"map-gallery-map-container",children:[n&&(()=>{var k;const L=Le.findIndex(V=>V.name===n.name);if(L===-1)return null;const O=`store${L+1}`,M=N[O];return _.jsxs("div",{className:"map-gallery-info-card",children:[_.jsxs("div",{className:"info-header",children:[_.jsxs("h3",{className:"store-name",children:[n.name,_.jsxs("span",{className:"rating",children:[[...Array(5)].map((V,$)=>{const Q=$+1;let J="";return(M==null?void 0:M.average)>=Q?J="/SAMGA-V2/img/icon/단골등록해제.svg":(M==null?void 0:M.average)+.5>=Q?J="/SAMGA-V2/img/icon/반쪽자리별.svg":J="/SAMGA-V2/img/icon/단골등록.svg",_.jsx("img",{src:J,alt:"별점",className:"star-icon",style:{width:16,height:16}},$)}),_.jsxs("span",{className:"review-score",children:[((k=M==null?void 0:M.average)==null?void 0:k.toFixed(1))||"0.0","점"]}),_.jsxs("span",{className:"review-count",children:["(",(M==null?void 0:M.count)||0,"개 리뷰)"]})]})]}),_.jsxs("div",{className:"menu-links",children:[_.jsx("span",{className:"link",onClick:()=>w("/review"),children:"Review"}),_.jsx("span",{className:"divider",children:"|"}),_.jsx("a",{href:"#",className:"link",children:"메뉴보기"})]})]}),_.jsxs("p",{className:"store-detail",children:[_.jsx("span",{className:"label",children:"주소 :"})," ",n.address," T. ",_.jsx("b",{children:n.phone})]}),_.jsxs("p",{className:"store-detail",children:[_.jsx("span",{className:"label",children:"영업시간 :"})," ",n.hours.split("/")[0],n.point&&_.jsxs("span",{className:"point",children:[" ※ ",n.point]})]}),_.jsxs("p",{className:"store-detail",children:[_.jsx("span",{className:"label",children:"휴무 :"})," ",n.hours.split("/")[1].replace("휴무","")]}),_.jsxs("div",{className:"map-footer-links",children:[_.jsx("a",{href:`https://map.kakao.com/link/to/${n.name},${n.lat},${n.lng}`,target:"_blank",rel:"noopener noreferrer",className:"map-link",children:"길찾기"}),_.jsx("span",{className:"divider",children:"/"}),_.jsx("button",{className:"map-link",onClick:()=>w(`/store/${encodeURIComponent(n.name)}`),children:"상세페이지로 가기"})]})]})})(),_.jsx("div",{id:"map"})]})]}),_.jsx("div",{className:"map-gallery-pattern"}),_.jsx("div",{className:"map-gallery-bottom"})]})}const ob=[{src:"/SAMGA-V2/img/banner/banner5.png",caption:`좋은사람과 같이 걷기 좋은 
 삼가특화거리-소화잘되는 길`,link:"https://blog.naver.com/hc-urc/222571944010"},{src:"/SAMGA-V2/img/banner/banner4.png",caption:`4계절 각기다른 멋! 황매산 군립공원 
 공식사이트 바로가기`,link:"https://www.hc.go.kr/09418/09425/09833.web"},{src:"/SAMGA-V2/img/banner/banner3.png",caption:`생명의 아름다운 멋으로 가득한 정양늪 
 공식사이트 바로가기`,link:"https://www.youtube.com/watch?v=DjprccTSapc"},{src:"/SAMGA-V2/img/banner/banner2.png",caption:`삼가의 멋-삼가시장 
합천 공식유튜브 바로가기`,link:"https://www.youtube.com/watch?v=ZLch32VzUb0"},{src:"/SAMGA-V2/img/banner/banner1.png",caption:`영화같은일상 합천영상테마파크 
 공식사이트 바로가기`,link:"https://hcmoviethemepark.com/"}];function ab(n){const e=[...n];for(let t=e.length-1;t>0;t--){const r=Math.floor(Math.random()*(t+1));[e[t],e[r]]=[e[r],e[t]]}return e}function lb(){const n=window.innerWidth<=900,e=Xn(),t=s=>{e(`/store/${encodeURIComponent(s)}`)},r=B.useMemo(()=>ab(Le),[]);return _.jsxs("div",{className:"storelist-landing",children:[_.jsxs("div",{className:"landing-video-wrapper",children:[_.jsx("img",{src:"/SAMGA-V2/img/logo/videologo.svg",alt:"삼가한우로고",className:"landing-logo"}),_.jsx("iframe",{src:"https://drive.google.com/file/d/1WF-K2Nu6Jer87imLhWAyKXeWraxIkvVP/preview",width:"85%",height:"400px",frameBorder:"0",style:{borderRadius:"12px",padding:"110px 0 0"},allow:"autoplay; encrypted-media",allowFullScreen:!0})]}),_.jsxs("div",{className:"landing-text",children:[_.jsx("img",{src:"/SAMGA-V2/img/logo/tasty.svg",alt:"tasty",className:"tasty"}),_.jsxs("h2",{className:"landing-title",children:["삼가에선 한우가 일상,",_.jsx("br",{}),"매일 특별한 고기 한 끼"]}),_.jsx("hr",{className:"landing-divider"}),_.jsx("p",{className:"landing-tagline",children:"KOREAN BEEF VILLAGE SAMGA"})]}),_.jsxs("div",{className:"store-card-grid",children:[r.map((s,a)=>{const u=[0,50,10][a%3];return _.jsxs("div",{className:"store-card-wrapper",children:[_.jsxs("h3",{className:"store-title",style:{transform:n?"":`translateY(${u}px)`,display:"flex",alignItems:"center",gap:"8px"},children:[_.jsx("img",{src:"/SAMGA-V2/img/logo/제목옆아이콘.svg",alt:"아이콘",style:{width:"18px",height:"18px",objectFit:"contain"}}),s.name]}),_.jsxs("div",{className:"store-card",style:{transform:n?"":`translateY(${u}px)`},onClick:()=>t(s.name),children:[_.jsx("img",{src:s.image,alt:s.name,className:"store-card-image"}),_.jsxs("div",{className:`store-card-textbox ${s.name==="대가식육식당"?"center-text":""}`,children:[_.jsx("h3",{className:"store-desc",children:s.slogan}),s.slogan2&&_.jsx("p",{className:"store-subdesc",children:s.slogan2}),_.jsx("button",{className:"store-button",children:"자세히 보기"})]})]})]})}),_.jsxs("div",{className:"store-card-wrapper",children:[_.jsxs("h3",{className:"store-title",style:{display:"flex",alignItems:"center",gap:"8px"},children:[_.jsx("img",{src:"/SAMGA-V2/img/logo/제목옆아이콘.svg",alt:"아이콘",style:{width:"18px",height:"18px",objectFit:"contain"}}),"牛리마을"]}),_.jsx("div",{className:"store-card",children:_.jsx("img",{src:"/SAMGA-V2/samga/store/소탈이.jpg",alt:"소탈이",className:"store-card-image"})})]})]}),_.jsxs("div",{className:"banner-wrapper",children:[_.jsxs("div",{className:"banner-title-area",children:[_.jsx("img",{src:"/SAMGA-V2/img/logo/bannerlogo.svg",alt:"타이틀로고",className:"slogan-img"}),_.jsxs("div",{className:"banner-subtitle",children:[_.jsx("span",{className:"bolder",children:"맛!"}),"있는",_.jsx("span",{className:"bolder",children:"멋!"}),"있는 좋은",_.jsx("span",{className:"bolder",children:"사람"}),"과"]}),_.jsx("div",{className:"banner-title",children:"가볼만한 곳?"})]}),_.jsx(um,{modules:[PE,RE],pagination:{clickable:!1},autoplay:{delay:2e3},loop:!0,spaceBetween:20,slidesPerView:2,breakpoints:{768:{slidesPerView:4}},className:"banner-swiper",children:ob.map((s,a)=>_.jsx(cm,{className:"banner-slide",children:_.jsxs("a",{href:s.link,target:"_blank",rel:"noopener noreferrer",className:"banner-link",children:[_.jsx("img",{src:s.src,alt:`배너${a+1}`,className:"banner-img"}),_.jsx("div",{className:"banner-hover-caption",children:_.jsx("p",{children:s.caption})})]})},a))})]})]})}function ub(){return _.jsxs(_.Fragment,{children:[_.jsx("section",{children:_.jsx(sb,{})}),_.jsx("section",{style:{marginTop:"-280px",position:"relative",zIndex:10},children:_.jsx(lb,{})})]})}const p_=[{label:"주차장",key:"주차장"},{label:"남여 화장실 구분",key:"남여화장실구분"},{label:"예약 가능",key:"예약가능"},{label:"단체 이용.예약 가능",key:"단체이용예약가능"},{label:"무료 WIFI",key:"무료wifi"},{label:"유아의자",key:"유아의자"},{label:"일반 식사 메뉴",key:"일반식사메뉴"},{label:"주문 배송",key:"주문배송"},{label:"포장가능",key:"포장가능"},{label:"제로페이",key:"제로페이"}];function cb(){const[n,e]=B.useState([]),[t,r]=B.useState([]),[s,a]=B.useState(null),[u,h]=B.useState(!1),f=window.innerWidth<=1200,p=B.useRef(null),v=B.useRef([]),w=B.useRef([]),C=Xn(),N=f?"mobileMap":"filterMap",[A,L]=B.useState("120px"),[O,M]=B.useState({}),[k,V]=B.useState(""),$=async T=>{const x=As(Nn(qe,"reviews"),Pl("storeId","==",T)),P=(await qr(x)).docs.map(ie=>ie.data()),R=P.reduce((ie,se)=>ie+(se.star||0),0),ne=P.length?R/P.length:0;return{average:Number(ne.toFixed(1)),count:P.length}};B.useEffect(()=>{const T=()=>{window.innerWidth<=1600?L("0px"):L("120px")};return T(),window.addEventListener("resize",T),()=>window.removeEventListener("resize",T)},[]),B.useEffect(()=>{const T=n.length===0?Le:Le.filter(x=>n.every(I=>{var P;return(P=x.options)==null?void 0:P.includes(I)}));r(T)},[n]),B.useEffect(()=>{const T=document.createElement("script");T.src="https://dapi.kakao.com/v2/maps/sdk.js?autoload=false&appkey=d65716a4db9e8a93aaff1dfc09ee36b8",T.onload=()=>{window.kakao.maps.load(()=>{const x=document.getElementById(N);if(!x)return;const I=new window.kakao.maps.Map(x,{center:new window.kakao.maps.LatLng(35.413,128.123),level:4});p.current=I,Q(n.length===0?Le:t),setTimeout(()=>{window.kakao.maps.event.trigger(I,"resize")},200)})},document.head.appendChild(T)},[u,t]);const Q=T=>{const x=p.current;x&&(v.current.forEach(I=>I.setMap(null)),w.current.forEach(I=>I.setMap(null)),v.current=[],w.current=[],T.forEach(I=>{const P=new window.kakao.maps.LatLng(I.lat,I.lng),R=new window.kakao.maps.Marker({position:P,map:x});v.current.push(R);const ne=document.createElement("div");ne.innerText=I.name,ne.addEventListener("click",()=>{a(se=>(se==null?void 0:se.name)===I.name?null:I)}),ne.style.cssText="padding:6px 12px; background:white; border-radius:8px; font-size:13px; font-weight:bold; color:#333; box-shadow:0 2px 6px rgba(0,0,0,0.2); border:1px solid #ddd; white-space:nowrap; cursor:pointer; text-align:center;";const ie=new window.kakao.maps.CustomOverlay({position:P,content:ne,yAnchor:1.5});ie.setMap(x),w.current.push(ie)}))},J=T=>{e(x=>x.includes(T)?x.filter(I=>I!==T):[...x,T])},[j,b]=B.useState({});return B.useEffect(()=>{(async()=>{const x={};for(let I=0;I<Le.length;I++){const P=`store${I+1}`,R=await $(P);x[P]=R}b(x)})()},[]),_.jsx("div",{children:f?_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"mobile-search-wrapper",children:_.jsxs("div",{className:"mobile-search-bar",children:[_.jsx("button",{className:"search-icon-button",onClick:()=>{if(k.trim()==="")r(Le),a(null);else{const T=Le.filter(x=>x.name.includes(k));r(T),a(T[0]??null)}},children:_.jsx("img",{src:"/SAMGA-V2/img/logo/search.svg",alt:"검색 아이콘"})}),_.jsx("input",{type:"text",value:k,className:"search-input",placeholder:"내가 찾는 식당을 검색해보세요.",onFocus:()=>h(!0),onChange:T=>{const x=T.target.value;if(V(x),x.trim()==="")r(Le),a(null);else{const I=Le.filter(P=>P.name.includes(x));r(I),a(I[0]??null)}},onKeyDown:T=>{if(T.key==="Enter"){const x=Le.filter(I=>I.name.includes(k));r(x),a(x[0]??null)}}})]})}),_.jsxs("div",{className:"mobile-filter-bar",children:[_.jsx("button",{onClick:()=>h(!u),className:"toggle-map-button",children:_.jsx("img",{src:"/SAMGA-V2/img/icon/map.svg",width:"15px"})}),p_.map(({label:T,key:x})=>_.jsxs("button",{onClick:()=>J(x),className:`filter-button ${n.includes(x)?"active":""}`,children:[T," ",n.includes(x)&&_.jsx("span",{className:"remove-x",children:"×"})]},x))]}),u&&_.jsxs("div",{className:"mobile-map-wrapper",children:[_.jsx("div",{id:"mobileMap",className:"mobile-map"}),s&&_.jsxs("div",{className:"mobile-map-store-card",children:[_.jsxs("div",{className:"store-card-header",children:[_.jsx("h3",{children:s.name}),_.jsx("button",{onClick:()=>h(!1),className:"close-button",children:"✖"})]}),_.jsx("p",{className:"store-address",children:s.address}),_.jsx("p",{className:"store-phone",children:s.phone}),_.jsx("a",{href:`https://map.kakao.com/link/to/${s.name},${s.lat},${s.lng}`,target:"_blank",rel:"noopener noreferrer",className:"map-link",children:"길찾기"})]})]}),_.jsxs("div",{className:"mobile-store-list",children:[t.map((T,x)=>{var R;const I=`store${x+1}`,P=j[I];return _.jsxs("div",{className:"mobile-store-item",onClick:()=>C(`/store/${encodeURIComponent(T.name)}`),children:[_.jsxs("div",{className:"store-item-header",children:[_.jsx("img",{src:T.image||"/SAMGA-V2/img/default.jpg",alt:T.name,className:"store-thumbnail"}),_.jsxs("div",{className:"store-info-text",children:[_.jsx("h3",{className:"store-name",children:T.name}),_.jsxs("div",{className:"store-stars",children:[[...Array(5)].map((ne,ie)=>{const se=ie+1;let fe="";return((P==null?void 0:P.average)??0)>=se?fe="/SAMGA-V2/img/icon/단골등록해제.svg":((P==null?void 0:P.average)??0)+.25>=se?fe="/SAMGA-V2/img/icon/반쪽자리별.svg":fe="/SAMGA-V2/img/icon/단골등록.svg",_.jsx("img",{src:fe,alt:"별",className:"star-icon"},ie)}),_.jsxs("span",{className:"review-star-value",children:[((P==null?void 0:P.average)??0).toFixed(1),"점"]})]}),_.jsxs("span",{className:"review-count",children:["(",(P==null?void 0:P.count)||0," 리뷰)"]}),_.jsx("p",{className:"store-address",children:T.address}),_.jsx("p",{className:"store-phone",children:T.phone})]})]}),((R=T.options)==null?void 0:R.length)>0&&_.jsxs("div",{className:"option-list",children:[(O[T.name]?T.options:T.options.slice(0,3)).map(ne=>_.jsxs("span",{className:"option-tag",children:["#",ne]},ne)),T.options.length>3&&_.jsx("button",{className:"toggle-options-button",onClick:ne=>{ne.stopPropagation(),M(ie=>({...ie,[T.name]:!ie[T.name]}))},children:O[T.name]?"간략히 ▲":"더보기 ▼"})]})]},T.name)}),s&&_.jsxs("div",{className:"popup-store-card",children:[_.jsxs("div",{className:"card-header",children:[_.jsx("h3",{className:"store-name",children:s.name}),_.jsx("button",{onClick:()=>a(null),className:"close-button",children:"✖"})]}),_.jsx("p",{className:"store-address",children:s.address}),_.jsx("p",{className:"store-phone",children:s.phone}),_.jsx("a",{href:`https://map.kakao.com/link/to/${s.name},${s.lat},${s.lng}`,target:"_blank",rel:"noopener noreferrer",className:"map-link",children:"길찾기"})]})]})]}):_.jsx(_.Fragment,{children:_.jsxs("div",{className:"pc-wrapper",children:[_.jsx("div",{className:"pc-search-wrapper",children:_.jsxs("div",{className:"pc-search-bar",children:[_.jsx("button",{className:"search-icon-button-fillter",onClick:()=>{if(k.trim()==="")r(Le),a(null);else{const T=Le.filter(x=>x.name.includes(k));r(T),a(T[0]??null)}},children:_.jsx("img",{src:"/SAMGA-V2/img/logo/search.svg",alt:"검색 아이콘"})}),_.jsx("input",{type:"text",value:k,placeholder:"내가 찾는 식당을 검색해보세요.",className:"search-input",onFocus:()=>h(!0),onChange:T=>{const x=T.target.value;if(V(x),x.trim()==="")r(Le),a(null);else{const I=Le.filter(P=>P.name.includes(x));r(I),a(I[0]??null)}},onKeyDown:T=>{if(T.key==="Enter"){const x=Le.filter(I=>I.name.includes(k));r(x),a(x[0]??null)}}})]})}),_.jsx("hr",{className:"search-divider"}),_.jsx("div",{className:"pc-filter-bar",children:p_.map(({label:T,key:x})=>_.jsxs("button",{onClick:()=>J(x),className:`filter-button ${n.includes(x)?"active":""}`,children:[T," ",n.includes(x)&&_.jsx("span",{className:"remove-x",children:"×"})]},x))}),_.jsxs("div",{className:"pc-main-layout",style:{padding:`0 ${A}`},children:[_.jsx("div",{className:"pc-store-list",children:t.map((T,x)=>{var R;const I=`store${x+1}`,P=j[I];return _.jsxs("div",{className:"pc-store-item",children:[_.jsxs("div",{className:"pc-store-item-header",onClick:()=>C(`/store/${encodeURIComponent(T.name)}`),children:[_.jsx("img",{src:T.image||"/SAMGA-V2/img/default.jpg",alt:T.name,className:"store-thumbnail"}),_.jsxs("div",{className:"store-info-text",children:[_.jsx("h3",{className:"store-name",children:T.name}),_.jsxs("div",{className:"rating-review",children:[_.jsxs("div",{className:"store-stars",children:[[...Array(5)].map((ne,ie)=>{const se=ie+1;let fe="";return((P==null?void 0:P.average)??0)>=se?fe="/SAMGA-V2/img/icon/단골등록해제.svg":((P==null?void 0:P.average)??0)+.25>=se?fe="/SAMGA-V2/img/icon/반쪽자리별.svg":fe="/SAMGA-V2/img/icon/단골등록.svg",_.jsx("img",{src:fe,alt:"별",className:"star-icon"},ie)}),_.jsxs("span",{className:"review-star-value",children:[((P==null?void 0:P.average)??0).toFixed(1),"점"]})]}),_.jsxs("span",{className:"review-count",children:["(",(P==null?void 0:P.count)||0," 리뷰)"]})]}),_.jsxs("p",{className:"store-address",children:[_.jsx("strong",{children:"주소:"})," ",T.address]}),_.jsxs("p",{className:"store-phone",children:[_.jsx("strong",{children:"T."})," ",T.phone]})]})]}),((R=T.options)==null?void 0:R.length)>0&&_.jsxs("div",{className:"option-list",children:[(O[T.name]?T.options:T.options.slice(0,5)).map(ne=>_.jsxs("span",{className:"option-tag",children:["#",ne]},ne)),T.options.length>5&&_.jsx("button",{className:"toggle-options-button",onClick:ne=>{ne.stopPropagation(),M(ie=>({...ie,[T.name]:!ie[T.name]}))},children:O[T.name]?"간략히 ▲":"더보기 ▼"})]})]},T.name)})}),_.jsxs("div",{className:"pc-map-wrapper",children:[_.jsx("div",{id:"filterMap",className:"pc-map"}),s&&_.jsxs("div",{className:"popup-store-card",children:[_.jsxs("div",{className:"card-header",children:[_.jsx("h3",{className:"store-name",children:s.name}),_.jsx("button",{className:"close-button",onClick:()=>a(null),children:"✖"})]}),_.jsx("p",{className:"store-address",children:s.address}),_.jsx("p",{className:"store-phone",children:s.phone}),_.jsx("a",{href:`https://map.kakao.com/link/to/${s.name},${s.lat},${s.lng}`,target:"_blank",rel:"noopener noreferrer",className:"map-link",children:"길찾기"})]})]})]})]})})})}function db(){const[n,e]=B.useState(""),[t,r]=B.useState(""),[s,a]=B.useState(""),u=Xn(),[h,f]=B.useState(0),p=Le.map((w,C)=>({name:w.name,id:`store${C+1}`})),v=async w=>{w.preventDefault();const C=ct.currentUser;if(!C){alert("로그인이 필요합니다.");return}const N=await gr(Nt(qe,"users",C.uid)),A=N.exists()?N.data().nickname:"알 수 없음";try{await aE(Nn(qe,"reviews"),{title:n,content:t,star:h,userId:C.uid,nickname:A,storeId:s,createdAt:lE()}),alert("리뷰 저장 완료!"),u("/review")}catch(L){console.error("리뷰 저장 실패:",L),alert("저장 중 오류가 발생했습니다.")}};return _.jsxs("div",{className:"review-write-page",children:[_.jsx("h2",{children:"리뷰 쓰기"}),_.jsxs("form",{onSubmit:v,children:[_.jsxs("div",{className:"store-select-row",children:[_.jsx("label",{htmlFor:"store-select",children:"가게 선택:"}),_.jsxs("select",{id:"store-select",value:s,onChange:w=>a(w.target.value),className:"review-input",required:!0,children:[_.jsx("option",{value:"",disabled:!0,children:" - 가게를 선택해주세요 - "}),p.map(w=>_.jsx("option",{value:w.id,children:w.name},w.id))]})]}),_.jsxs("div",{className:"star-rating",children:[[...Array(5)].map((w,C)=>{const N=(C+1)*1;let A="";return h>=N?A="/SAMGA-V2/img/icon/단골등록해제.svg":A="/SAMGA-V2/img/icon/단골등록.svg",_.jsx("img",{src:A,alt:`${N}점`,className:"star-svg",onClick:()=>f(N)},C)}),_.jsxs("span",{className:"star-value",children:[h,"점"]})]}),_.jsx("textarea",{placeholder:"내용",value:t,onChange:w=>r(w.target.value),className:"review-textarea",required:!0}),_.jsx("div",{className:"review-submit-wrapper",children:_.jsx("button",{type:"submit",className:"review-submit-button",children:"리뷰 저장"})})]})]})}const hb=n=>{const e=parseInt(n.replace("store",""));return Le[e-1]};function fb(){var I;const[n,e]=B.useState([]),[t,r]=B.useState(null),[s,a]=B.useState("all"),[u,h]=B.useState(!1),f=Xn(),[p,v]=B.useState(""),[w,C]=B.useState({}),[N,A]=B.useState({}),[L,O]=B.useState(""),[M,k]=B.useState({}),V=(I=ct.currentUser)==null?void 0:I.uid,[$,Q]=B.useState({}),[J,j]=B.useState({}),b=async(P=!1)=>{let R=As(Nn(qe,"reviews"),i_("createdAt","desc"),s_(20)),ne=s;if(s!=="all"){const H=Le.findIndex(te=>te.name===s);if(H!==-1)ne=`store${H+1}`;else{console.error("해당 가게 이름이 storeData에 없습니다.");return}R=As(Nn(qe,"reviews"),Pl("storeId","==",ne),i_("createdAt","desc"),s_(20))}!P&&t&&(R=As(R,yk(t)));const ie=await qr(R),se=ie.docs.map(H=>({id:H.id,...H.data()}));e(P?se:H=>[...H,...se]),se.forEach(H=>{T(H.id)}),ie.docs.length<20&&h(!0);const fe=ie.docs[ie.docs.length-1];r(fe)};B.useEffect(()=>{(async()=>{e([]),r(null),h(!1),await b(!0)})()},[s]),B.useEffect(()=>{(async()=>{const R=ct.currentUser;if(!R)return;const ne=Nt(qe,"users",R.uid),ie=await gr(ne);if(ie.exists()){const se=ie.data();v(se.role),O(se.storeId)}})()},[]);const T=async P=>{const ne=(await qr(Nn(qe,"reviews",P,"comments"))).docs.map(ie=>({id:ie.id,...ie.data()}));k(ie=>({...ie,[P]:ne}))};B.useEffect(()=>{if(n.length&&V){const P={},R={};n.forEach(ne=>{const ie=ne.likes||[];P[ne.id]=ie.includes(V),R[ne.id]=ie.length}),Q(P),j(R)}},[n,V]);const x=async P=>{const R=ct.currentUser;if(!R)return alert("로그인 필요!");const ne=Nt(qe,"reviews",P);$[P]?(await Lo(ne,{likes:cE(R.uid)}),Q(se=>({...se,[P]:!1})),j(se=>({...se,[P]:se[P]-1}))):(await Lo(ne,{likes:uE(R.uid)}),Q(se=>({...se,[P]:!0})),j(se=>({...se,[P]:(se[P]||0)+1})))};return _.jsxs("div",{className:"review-list-page",children:[_.jsxs("div",{className:"review-list-header",children:[_.jsx("h2",{className:"review-title",children:"리뷰 목록"}),_.jsxs("select",{value:s,onChange:P=>a(P.target.value),className:"store-filter-dropdown",children:[_.jsx("option",{value:"all",children:"전체 보기"}),Le.map((P,R)=>_.jsx("option",{value:P.name,children:P.name},R))]})]}),n.length===0&&_.jsx("p",{className:"no-review",children:"작성된 리뷰가 아직 없어요!"}),_.jsx("div",{className:"review-list-grid",children:n.map(P=>{var ne,ie,se;const R=hb(P.storeId);return _.jsx("div",{className:"review-card",onClick:()=>f(`/review/${P.id}`),style:{cursor:"pointer",position:"relative"},children:R&&_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"store-badge",children:_.jsx("img",{src:`/SAMGA-V2/img/review_icons/${R.name}.jpg`,className:"store-badge-icon",alt:R.name})}),_.jsxs("div",{className:"review-main",children:[_.jsxs("div",{className:"review-header",children:[_.jsx("h3",{className:"store-name",children:R.name}),_.jsxs("div",{className:"review-stars",children:[[...Array(5)].map((fe,H)=>{const te=H+1,oe=P.star>=te?"/SAMGA-V2/img/icon/단골등록해제.svg":P.star+.5>=te?"/SAMGA-V2/img/icon/반쪽자리별.svg":"/SAMGA-V2/img/icon/단골등록.svg";return _.jsx("img",{src:oe,className:"star-icon",alt:"별"},H)}),_.jsxs("span",{className:"review-star-value",children:[(P.star??0).toFixed(1),"점"]})]})]}),_.jsx("div",{className:"review-content",children:_.jsx("p",{children:P.content})}),_.jsxs("div",{className:"review-footer",children:[_.jsxs("div",{className:"review-icons",children:[_.jsx("img",{src:$[P.id]?"/SAMGA-V2/img/icon/좋아용누름.svg":"/SAMGA-V2/img/icon/좋아용.svg",alt:"좋아요",onClick:fe=>{fe.stopPropagation(),x(P.id)},style:{cursor:"pointer"}}),_.jsx("span",{children:J[P.id]||0}),_.jsx("img",{src:(ne=M[P.id])!=null&&ne.length?"/SAMGA-V2/img/icon/댓글있음.svg":"/SAMGA-V2/img/icon/댓글.svg",alt:"댓글"}),_.jsx("span",{children:(ie=M[P.id])==null?void 0:ie.length})]}),_.jsxs("div",{className:"review-meta",children:[_.jsxs("span",{className:"review-nickname",children:["작성자: ",P.nickname]}),_.jsx("br",{}),_.jsx("span",{className:"review-date",children:((se=P.createdAt)==null?void 0:se.toDate().toLocaleString())||"날짜 없음"})]})]})]})]})},P.id)})}),!u&&_.jsx("button",{className:"load-more-button",onClick:()=>b(),children:"더보기"}),_.jsx("button",{className:"write-review-fixed",onClick:()=>f("/write"),children:"리뷰 쓰기"})]})}function pb(){const[n,e]=B.useState(""),[t,r]=B.useState(""),[s,a]=B.useState(""),[u,h]=B.useState(""),[f,p]=B.useState(""),[v,w]=B.useState(""),[C,N]=B.useState(""),A=M=>{/^01[016789]-\d{3,4}-\d{4}$/.test(M)?p(""):p("전화번호 형식이 올바르지 않습니다. (예: 010-1234-5678)")},L=async M=>{M.preventDefault(),w(""),N("");try{const V=(await QI(ct,n,t)).user;await oE(Nt(qe,"users",V.uid),{email:n,nickname:s,phone:u,role:"user",createdAt:new Date}),await XI(V),N("회원가입이 완료되었습니다! 이메일을 확인해주세요."),e(""),r(""),a(""),h("")}catch(k){k.code==="auth/email-already-in-use"?w("이미 가입된 이메일입니다."):k.code==="auth/invalid-email"?w("이메일 형식이 올바르지 않습니다."):k.code==="auth/weak-password"?w("비밀번호는 6자리 이상이어야 합니다."):w("회원가입 중 오류가 발생했습니다.")}},O=M=>{const k=M.replace(/\D/g,"");return k.length<4?k:k.length<7?`${k.slice(0,3)}-${k.slice(3)}`:k.length<=11?`${k.slice(0,3)}-${k.slice(3,7)}-${k.slice(7)}`:k};return _.jsx("div",{className:"signup-page",children:_.jsxs("div",{className:"signup-wrapper",children:[_.jsx("div",{className:"signup-text",children:"회원가입"}),_.jsxs("form",{onSubmit:L,children:[_.jsx("input",{type:"text",placeholder:"닉네임",value:s,onChange:M=>a(M.target.value),required:!0}),_.jsx("br",{}),_.jsx("input",{type:"email",placeholder:"이메일",value:n,onChange:M=>e(M.target.value),required:!0}),_.jsx("br",{}),_.jsx("input",{type:"password",placeholder:"비밀번호",value:t,onChange:M=>r(M.target.value),required:!0}),_.jsx("br",{}),_.jsx("input",{type:"text",placeholder:"전화번호 (예: 010-1234-5678)",value:u,onChange:M=>{const k=O(M.target.value);h(k),A(k)},required:!0}),_.jsx("br",{}),f&&_.jsx("p",{style:{color:"red"},children:f}),_.jsx("button",{type:"submit",children:"회원가입"})]}),v&&_.jsx("p",{style:{color:"red"},children:v}),C&&_.jsx("p",{style:{color:"green"},children:C})]})})}function mb(){const[n,e]=B.useState(""),[t,r]=B.useState(""),[s,a]=B.useState(""),u=Xn(),h=async f=>{f.preventDefault(),a("");try{await YI(ct,n,t),u("/")}catch{a("이메일 또는 비밀번호가 올바르지 않습니다.")}};return B.useEffect(()=>{const f=ct.currentUser;f&&!f.emailVerified&&(alert("이메일 인증을 완료해주세요."),u("/"))},[]),_.jsx("div",{className:"signup-page",children:_.jsxs("div",{className:"signup-wrapper",children:[_.jsx("div",{className:"signup-text",children:"로그인"}),_.jsxs("form",{onSubmit:h,children:[_.jsx("input",{type:"email",placeholder:"이메일",value:n,onChange:f=>e(f.target.value),required:!0}),_.jsx("br",{}),_.jsx("input",{type:"password",placeholder:"비밀번호",value:t,onChange:f=>r(f.target.value),required:!0}),_.jsx("br",{}),_.jsx("button",{type:"submit",children:"로그인"})]}),s&&_.jsx("p",{style:{color:"red"},children:s})]})})}function gb(){var p;const{storeId:n}=ip(),[e,t]=B.useState(""),[r,s]=B.useState([]),[a,u]=B.useState(!1),h=parseInt((n||"").replace("store",""))-1,f=((p=Le[h])==null?void 0:p.name)||n;return B.useEffect(()=>{(async()=>{const w=ct.currentUser;if(!w)return;const C=await gr(Nt(qe,"users",w.uid));if(!C.exists())return;const N=C.data();if(t(N.storeId||""),N.role==="owner"&&N.storeId===n){const A=await qr(Nn(qe,"favorites",n,"users"));s(A.docs.map(L=>L.data()))}u(!0)})()},[n]),a?e!==n?_.jsx("p",{children:"해당 가게에 대한 접근 권한이 없습니다."}):_.jsxs("div",{className:"admin-wrapper",children:[_.jsxs("h2",{className:"admin-title",children:[_.jsx("img",{src:"/SAMGA-V2//img/icon/수퍼히어로랜딩.svg",alt:"캐릭터",className:"admin-icon"}),f," 단골 리스트"]}),_.jsxs("table",{className:"admin-table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"이름"}),_.jsx("th",{children:"전화번호"}),_.jsx("th",{children:"이메일"}),_.jsx("th",{children:_.jsx("img",{src:"/SAMGA-V2//img/icon/download.svg",alt:"다운로드",className:"download-icon"})})]})}),_.jsx("tbody",{children:r.map((v,w)=>_.jsxs("tr",{children:[_.jsx("td",{children:v.nickname}),_.jsx("td",{children:v.phone}),_.jsx("td",{children:v.email}),_.jsx("td",{})]},w))})]})]}):_.jsx("p",{children:"로딩 중..."})}function vb(){var ie,se,fe;const{id:n}=ip(),e=Xn(),[t,r]=B.useState(null),[s,a]=B.useState(null),[u,h]=B.useState(null),[f,p]=B.useState(""),[v,w]=B.useState(null),[C,N]=B.useState(!1),[A,L]=B.useState(0),[O,M]=B.useState(!1),[k,V]=B.useState(""),[$,Q]=B.useState(!1),[J,j]=B.useState(""),b=H=>{const te=parseInt(H.replace("store",""));return Le[te-1]};B.useEffect(()=>{(async()=>{if(!n)return;const te=await gr(Nt(qe,"reviews",n));if(te.exists()){const Z={id:te.id,...te.data()},we=b(Z.storeId);w(we),r(Z)}const oe=await qr(Nn(qe,"reviews",n,"comments"));if(!oe.empty){const Z=oe.docs[0];a({id:Z.id,...Z.data()})}const G=ct.currentUser;if(G){const Z=await gr(Nt(qe,"users",G.uid));Z.exists()&&h(Z.data())}})()},[n]),B.useEffect(()=>{var H,te;t&&ct.currentUser&&(N((H=t.likes)==null?void 0:H.includes(ct.currentUser.uid)),L(((te=t.likes)==null?void 0:te.length)||0))},[t]);const T=async()=>{var H;if(!f.trim())return alert("댓글을 입력해주세요.");await aE(Nn(qe,"reviews",n,"comments"),{content:f,createdAt:lE(),nickname:(u==null?void 0:u.nickname)||"사장님",userId:(H=ct.currentUser)==null?void 0:H.uid}),p(""),alert("댓글 등록 완료!"),window.location.reload()},x=async()=>{var oe;const H=Nt(qe,"reviews",t.id),te=(oe=ct.currentUser)==null?void 0:oe.uid;te&&(C?(await Lo(H,{likes:cE(te)}),N(!1),L(G=>G-1)):(await Lo(H,{likes:uE(te)}),N(!0),L(G=>G+1)))},I=async()=>{if(!k.trim())return alert("내용을 입력해주세요.");await Lo(Nt(qe,"reviews",n),{content:k}),r(H=>({...H,content:k})),M(!1),alert("리뷰가 수정되었습니다.")},P=async()=>{window.confirm("정말로 삭제하시겠어요?")&&(await Xf(Nt(qe,"reviews",n)),alert("삭제되었습니다."),e("/review"))},R=async()=>{if(!J.trim())return alert("내용을 입력해주세요.");await Lo(Nt(qe,"reviews",n,"comments",s.id),{content:J}),a(H=>({...H,content:J})),Q(!1),alert("댓글이 수정되었습니다.")},ne=async()=>{window.confirm("댓글을 삭제할까요?")&&(await Xf(Nt(qe,"reviews",n,"comments",s.id)),alert("댓글이 삭제되었습니다."),a(null))};return!t||!v?_.jsx("div",{children:"로딩 중..."}):_.jsx("div",{className:"review-detail-page",children:_.jsxs("div",{className:"review-box",children:[((ie=ct.currentUser)==null?void 0:ie.uid)===t.userId&&_.jsxs("div",{className:"review-actions",children:[_.jsx("img",{src:"/SAMGA-V2/img/icon/수정.svg",alt:"수정",className:"icon-button",onClick:()=>{M(!0),V(t.content)}}),_.jsx("img",{src:"/SAMGA-V2/img/icon/삭제.svg",alt:"삭제",className:"icon-button",onClick:P})]}),_.jsxs("div",{className:"review-header",children:[_.jsx("h2",{children:v.name}),_.jsxs("div",{className:"review-stars",children:[[...Array(5)].map((H,te)=>_.jsx("img",{src:t.star>=te+1?"/SAMGA-V2/img/icon/단골등록해제.svg":"/SAMGA-V2/img/icon/단골등록.svg",alt:"별",className:"star-icon"},te)),_.jsxs("span",{className:"review-star-value",children:[t.star.toFixed(1),"점"]})]})]}),O?_.jsxs("div",{className:"edit-form",children:[_.jsx("textarea",{value:k,onChange:H=>V(H.target.value),className:"edit-textarea",placeholder:"리뷰 내용을 수정하세요"}),_.jsxs("div",{className:"edit-buttons",children:[_.jsx("button",{onClick:I,children:"저장"}),_.jsx("button",{onClick:()=>M(!1),children:"취소"})]})]}):_.jsx("p",{className:"review-content",children:t.content}),_.jsxs("div",{className:"review-footer",children:[_.jsxs("div",{className:"review-icons",children:[_.jsx("img",{src:C?"/SAMGA-V2/img/icon/좋아용누름.svg":"/SAMGA-V2/img/icon/좋아용.svg",alt:"좋아요",className:"heart-icon",onClick:x}),_.jsx("span",{children:A}),_.jsx("img",{src:s?"/SAMGA-V2/img/icon/댓글있음.svg":"/SAMGA-V2/img/icon/댓글.svg",alt:"댓글"})]}),_.jsxs("div",{className:"review-meta",children:["작성자: ",t.nickname,_.jsx("br",{}),(se=t.createdAt)==null?void 0:se.toDate().toLocaleString()]})]}),s?_.jsxs("div",{className:"comment-wrapper",children:[_.jsx("img",{src:v.logo,alt:v.name,className:"comment-sticker"}),_.jsxs("div",{className:"comment-bubble",children:[((fe=ct.currentUser)==null?void 0:fe.uid)===s.userId&&_.jsx("div",{className:"comment-actions",children:$?_.jsx(_.Fragment,{}):_.jsxs(_.Fragment,{children:[_.jsx("img",{src:"/SAMGA-V2/img/icon/수정.svg",alt:"수정",className:"icon-button",onClick:()=>{Q(!0),j(s.content)}}),_.jsx("img",{src:"/SAMGA-V2/img/icon/삭제.svg",alt:"삭제",className:"icon-button",onClick:ne})]})}),_.jsx("div",{className:"comment-body",children:$?_.jsxs(_.Fragment,{children:[_.jsx("textarea",{className:"edit-textarea",value:J,onChange:H=>j(H.target.value)}),_.jsxs("div",{className:"edit-buttons",children:[_.jsx("button",{onClick:R,children:"저장"}),_.jsx("button",{onClick:()=>Q(!1),children:"취소"})]})]}):s.content})]})]}):(u==null?void 0:u.role)==="owner"&&(u==null?void 0:u.storeId)===t.storeId?_.jsxs("div",{className:"comment-form",children:[_.jsx("textarea",{value:f,onChange:H=>p(H.target.value),placeholder:"답글을 작성해주세요."}),_.jsx("button",{onClick:T,children:"등록"})]}):null]})})}function yb(){return _.jsxs(rS,{basename:"/SAMGA-V2",children:[_.jsx(Ak,{}),_.jsxs(DT,{children:[_.jsx(ur,{path:"/signup",element:_.jsx(pb,{})}),_.jsx(ur,{path:"/login",element:_.jsx(mb,{})}),_.jsx(ur,{path:"/",element:_.jsx(ub,{})}),_.jsx(ur,{path:"/store/:name",element:_.jsx(Rk,{})}),_.jsx(ur,{path:"/storefilterpage",element:_.jsx(cb,{})}),_.jsx(ur,{path:"/review",element:_.jsx(fb,{})}),_.jsx(ur,{path:"/write",element:_.jsx(db,{})}),_.jsx(ur,{path:"/review/:id",element:_.jsx(vb,{})}),_.jsx(ur,{path:"/admin/:storeId",element:_.jsx(gb,{})})]}),_.jsx(Ik,{})]})}zC.createRoot(document.getElementById("root")).render(_.jsx(pt.StrictMode,{children:_.jsx(yb,{})}));
